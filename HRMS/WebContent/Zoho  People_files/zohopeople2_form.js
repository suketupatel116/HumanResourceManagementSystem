var propsOpen=false;var propHtml="";var importArr=new Array();var editfcid=null;var fmpropHtml="";var fmembedHtml="";var askstate=false;var movrfcid=null;var movrlname=null;var fcls="field-outer-container";var fmcls="field-outer-container-hover";var facls="field-outer-container-action";var formulaArr=new Array();var impCritArr=new Array();var notesOpen=false;function resetForFields(_1){var _2=docid(_1).getElementsByTagName("div");for(var i=0;i<_2.length;i++){var di=_2.item(i);if(di.className.indexOf(fcls)==-1){continue;}di.className=fcls;}}function fcm(_5,_6){if(dragging!=true&&askstate!=true){if(selfid!=null){docid(selfid).className=fcls;selfid=null;}var _7=_5.className.split(" ")[0];var _8=_5.id;if(_6&&_7.indexOf(fmcls)!=-1){if(optfcid&&_8==optfcid&&optfcid!=""&&optfcid!=null){return;}if(optfcid&&optfcid!=null){emptyoptfcid();}removemovr();_5.className=fcls;}else{if(!_6&&_7.indexOf(fmcls)==-1){if(movrfcid){var _9=docid(movrfcid);if(_9&&_9.className.indexOf(fmcls)!=-1){_9.className=fcls;}}movrfcid=_8;if(optfcid&&movrfcid!=optfcid){emptyoptfcid();}var _a=_5.parentNode.parentNode.parentNode;if(_a.className!="disab"){_5.className=fmcls;movrworks();}movrlname=getA(docid("input"+_8),"dispName");}}}}function emptyoptfcid(){if(optfcid&&optfcid!=null){docid(optfcid).className=fcls;}closeDialog();optfcid=null;docid("actionsdiv").style.display="none";}function movrworks(){var _b=findPosX(docid(movrfcid));if(docid(movrfcid).parentNode.id.indexOf("formcontainer1")!=-1){docid("actionsdiv").style.left=522+"px";}else{docid("actionsdiv").style.left="auto";}docid("actionsdiv").style.top=findPosY(docid(movrfcid))-107+"px";docid("actionsdiv").style.height=(docid(movrfcid).offsetHeight-2)+"px";docid("actionsdiv").style.display="block";if(optfcid&&optfcid!=null){if(movrfcid==optfcid){docid(optfcid).className=facls;}else{emptyoptfcid();docid(movrfcid).className=facls;}}else{docid(movrfcid).className=fmcls;}}function movrli(_c,_d){if(dragging==true){return;}if(_d){_c.className="field-icons-hover";}else{_c.className="field-icons-active";}}function removemovr(){if(movrfcid&&movrfcid!=null){var _e=docid(movrfcid);if(_e){_e.className=fcls;}docid("actionsdiv").style.display="none";}}function movropt(){if(movrfcid&&movrfcid!=null){docid("actionsdiv").className="field-action-hover";movrworks();showOptions();}}function moutopt(){docid("actionsdiv").className="field-action";}function showProp(){if(docid("optiontable").style.display=="none"){docid("optiontable").style.display=tabledisp;propsOpen=true;}else{docid("optiontable").style.display="none";propsOpen=false;}}function setState(){if(propsOpen==true){docid("optiontable").style.display=tabledisp;}else{docid("optiontable").style.display="none";}}function checkifpresent(_f,val){for(var i=0;i<_f.length;i++){if(_f[i]+""==val+""){return true;}}return false;}function addf(sel,_13,_14){if(_14==undefined){_14=false;}if(_14&&(sel==SCRIPT)){loadFields($("#"+_13).attr("tabularformid"),true);}showf(sel,"",false,_14.toString());dootherworks(sel,_13,false,_14);}function dootherworks(sel,_16,_17){var _18=$("#"+_16).attr("isgridtype");try{var _19="";var _19=docid(_16).parentNode.parentNode.getElementsByTagName("label");}catch(e){_16=firstsectionId;_19=docid(_16).parentNode.parentNode.getElementsByTagName("label");}var _1a=new Array();for(var i=0;i<_19.length;i++){fcl=_19.item(i);if(fcl.id&&fcl.id.indexOf("dispName")==0){var _1c=trimString(fcl.innerHTML);_1a[_1a.length]=_1c.replace(/:$/g,"");}}var _1d=getTypeString(parseInt(sel))+" ";var _1e=1;while(checkifpresent(_1a,(_1d+_1e))==true){_1e++;}_1d=_1d+_1e+"";docid("properties").label.value=_1d;var cd=1;if(_18==false){_20=docid(_16+"formcontainer1").getElementsByTagName("div");if(_20.length>1){cd=2;}}docid("properties").before.value="";docid("descform").before.value="";var _21=-1;docid("Picklistchoices").value=i18n["hrms.formedit.option"]+" 1\n"+i18n["hrms.formedit.option"]+" 2\n"+i18n["hrms.formedit.option"]+" 3";if(_17){cd=2;var dl=docid("dotlayer");if(dl.parentNode.id==_16+"formcontainer"){cd=1;}var _20=dl.parentNode.getElementsByTagName("div");for(var i=0;i<_20.length;i++){if(_20.item(i)==dl&&i!=_20.length-1){_21=_20.item(i+1).id+"";break;}}docid("properties").before.value=_21;docid("descform").before.value=_21;}docid("properties").coldisp.value=cd;docid("descform").coldisp.value=cd;docid("properties").sectionId.value=_16;docid("descform").sectionId.value=_16;docid("properties").update.value=false;docid("properties").fcid.value="";docid("properties").fctype.value="";if(sel!=PLAIN_TEXT){docid("labelName").focus();docid("labelName").select();}editfcid=null;}function showf(sel,_24,_25,_26){try{docid("field-status-error-tr").style.display="none";}catch(e){}if(propHtml==""){propHtml=docid("props").innerHTML;docid("props").innerHTML="";}if(_25){docid("props").innerHTML=propHtml;}else{if(sel==IMPORT_DATA){showDialog(propHtml,"position=absolute, left=290, top=180, closeButton=no, modal=yes, height=750",null,removedrag);}else{showDialog(propHtml,"position=absolute, left=290, top=180, closeButton=no, modal=yes, height=500",null,removedrag);}centerDialog("_DIALOG_LAYER");}if(_26=="true"){docid("auditRow").style.display="none";}else{if(!_26){docid("auditRow").style.display=rowdisp;}}if(_24&&_24!=null){showFields(sel,_24);}else{docid("fields").value=sel;showFields(sel);}}function selectLookUpField(_27){var _28=docid("importdisp").value;if(_28==PICK_LIST||_28==RADIO){docid("fieldHeight").value=13;docid("fieldWidth").value=206;docid("duplicates").style.display=rowdisp;docid("relfields").style.display=rowdisp;}else{docid("fieldHeight").value=60;docid("fieldWidth").value=206;docid("fieldht").style.display=rowdisp;docid("duplicates").style.display="none";docid("relfields").style.display="none";}if(_28==CHECK_BOXES||_28==RADIO){docid("fieldht").style.display="none";}}var add=true;function showFields(sel,_2a,_2b,_2c){var _2d=docid("propstbody").rows;for(var i=0;i<_2d.length;i++){_2d.item(i).style.display="none";}_2d=docid("appearance").rows;for(var i=0;i<_2d.length;i++){_2d.item(i).style.display="none";}_2d=docid("validation").rows;for(var i=0;i<_2d.length;i++){_2d.item(i).style.display="none";}docid("lname").style.display=rowdisp;docid("instr").style.display=rowdisp;docid("required").style.display=rowdisp;docid("duplicates").style.display=rowdisp;docid("delfname").style.color="#999999";docid("fieldht").style.display="none";docid("autofilltextTR").style.display="none";docid("autofilldateTR").style.display="none";docid("fieldHeight").value=13;docid("fieldWidth").value=200;add=true;try{if(sel!=PLAIN_TEXT){docid("labelName").focus();}}catch(e){}var _2f=docid("dialogtitle");if(_2a){add=false;editfcid=_2a;var _30=docid("input"+_2a);var _31=docid("dispName"+_2a).innerHTML;_31=_31.replace(/&amp;/g,"&");_31=_31.replace(/&lt;/g,"<");_31=_31.replace(/&gt;/g,">");_31=_31.replace(/:$/g,"");docid("labelName").value=_31;docid("instructions").value=getA(_30,"title");docid("reqd").checked=getBool(getA(_30,"mand"));docid("dupl").checked=getBool(getA(_30,"uniq"));docid("auditfield").checked=getBool(getA(_30,"isaudit"));var _32="";if(sel==TEXT){_32=getA(_30,"autofill");$("#autofilltext").attr("value",_32);displayInitialValue(_32);}else{if(sel==DATE||sel==DATE_TIME){_32=getA(_30,"autofill");$("#autofilldate").attr("value",_32);displayDateInitialValue(_32);}}docid("delfname").value=getA(_30,"dfname");docid("delfname").style.color="#000000";docid("ftype").style.display=rowdisp;_2f.innerHTML=_2f.innerHTML+i18n["hrms.formedit.editing"]+" '"+docid("dispName"+_2a).innerHTML+"'...";if(getBool(getA(_30,"issysfield"))){docid("sysfieldhelp").style.display="";}setState();}else{_2f.innerHTML=_2f.innerHTML+i18n["hrms.formedit.adding"]+" '"+getTypeString(sel)+"'...";}if(sel==TEXT){docid("maxchars").style.display=rowdisp;docid("autofilltextTR").style.display=rowdisp;if(_2a&&!_2b){var _33=getA(_30,"initval");_33=_33.replace(/&apos;/g,"'");docid("autofillinitvalue").value=_33.replace(/&quot;/g,"\"");docid("maxch").value=getA(_30,"maxLength");docid("fieldsize").value=getA(_30,"size");}else{docid("fieldHeight").value=13;docid("fieldWidth").value=200;}}else{if(sel==TEXT_AREA){docid("duplicates").style.display="none";if(_2a&&!_2b){docid("fieldcols").value=getA(_30,"cols");docid("fieldrows").value=getA(_30,"rows");}else{docid("fieldHeight").value=100;docid("fieldWidth").value=200;}}else{if(sel==URL){docid("duplicates").style.display="none";if(_2a){}else{docid("fieldHeight").value=13;docid("fieldWidth").value=140;}}else{if(sel==NUMBER){docid("numivalue").style.display=rowdisp;docid("maxdigits").style.display=rowdisp;docid("range").style.display="block";docid("rangeHead").style.display=rowdisp;if(_2a&&!_2b){docid("numinitvalue").value=getA(_30,"initval");docid("maxdg").value=getA(_30,"maxLength");docid("maxValue").value=getA(_30,"maxValue");docid("minValue").value=getA(_30,"minValue");}else{docid("numinitvalue").value=0;docid("fieldHeight").value=13;docid("fieldWidth").value=100;}}else{if(sel==DECIMAL||sel==CURRENCY){docid("numivalue").style.display=rowdisp;docid("dvalue").style.display=rowdisp;docid("maxdg").value="19";if(sel==CURRENCY){docid("ctype").style.display=rowdisp;}if(_2a&&!_2b){docid("numinitvalue").value=getA(_30,"initval");docid("decvalue").value=getA(_30,"decval");docid("maxValue").value=getA(_30,"maxValue");docid("minValue").value=getA(_30,"minValue");if(sel==CURRENCY){docid("currencyType").value=getA(_30,"curval");}}else{docid("numinitvalue").value="0.00";docid("fieldHeight").value=13;docid("fieldWidth").value=100;}}else{if(sel==EMAIL_ADDRESS){docid("ivalue").style.display=rowdisp;docid("maxchars").style.display=rowdisp;if(_2a&&!_2b){docid("initvalue").value=getA(_30,"initval");docid("maxch").value=getA(_30,"maxLength");}else{docid("fieldHeight").value=13;docid("fieldWidth").value=200;}}else{if(sel==PHONE_NUMBER){docid("maxchars").style.display=rowdisp;docid("duplicates").style.display="none";if(_2a&&!_2b){docid("maxch").value=getA(_30,"maxLength");}else{docid("maxch").value=70;docid("fieldHeight").value=13;docid("fieldWidth").value=200;}}else{if(sel==DATE||sel==DATE_TIME){docid("autofilldateTR").style.display=rowdisp;if(_2a&&!_2b){docid("autofilldateinitvalue").value=getA(_30,"initval");docid("dateFormat").value=getA(_30,"dtFmt");}else{docid("fieldHeight").value=13;docid("fieldWidth").value=130;}var _34=$("input[name=uiCalendarDateFormat]").val();if(sel==DATE_TIME){_34+=" "+"%H:%M:%S";calCalender(docid("autofilldateinitvalue"),_34);}else{calCalender(docid("autofilldateinitvalue"),_34);}calCalender(docid("autofilldateinitvalue"),_34);}else{if(sel==PICK_LIST||sel==RADIO||sel==LIST||sel==CHECK_BOXES){if(sel==PICK_LIST){}if(sel==LIST){docid("fieldht").style.display=rowdisp;}if(_2a&&!_2b){docid("Picklistchoices").style.display="none";docid("pickoptionsdiv").style.display="block";if(!_2c){shpickOpts(_30,sel);}if(sel==PICK_LIST||sel==RADIO){docid("initvalue").value=getA(_30,"initval");}docid("alphab").checked=getBool(getA(_30,"pickSort"));}else{if(sel==PICK_LIST||sel==RADIO){docid("fieldWidth").value=206;docid("fieldHeight").value=13;}else{docid("fieldWidth").value=206;docid("fieldHeight").value=60;}docid("pickoptionsdiv").style.display="none";docid("Picklistchoices").style.display="block";}if(sel==PICK_LIST||sel==RADIO){docid("ivalue").style.display=rowdisp;}docid("duplicates").style.display="none";docid("selchoices").style.display=rowdisp;docid("alph").style.display=rowdisp;}else{if(sel==IMPORT_DATA){var _35=$("#impdatadisp");docid("lnamelf").style.width="150px";docid("lnamert").style.width="385px";if(_2a){docid("importdisp").value=getA(_30,"dispType");docid("refFmId").value=getA(_30,"refFmId");docid("alphab").checked=getBool(getA(_30,"pickSort"));docid("importform").value=getA(_30,"refAppId");_35.addClass("disab");docid("import").value=getA(_30,"impreffcId");docid("importdisp").disabled=true;docid("impdetails").innerHTML=""+getA(_30,"refFmName")+" - "+getA(_30,"refDispName")+""+"<br>"+"<span class='info-text'>"+i18n.formedit_formfieldname+"</span>";docid("impdetails").style.display="block";docid("importselect").style.display="none";docid("importform").style.display="none";docid("implabel").innerHTML="<label class=\"config-label\">"+i18n["hrms.formedit.importedfrom"]+":</label>";var _36=docid("importdisp").value;if(_36==PICK_LIST||_36==RADIO){}else{docid("fieldht").style.display=rowdisp;}if(_36==CHECK_BOXES||_36==RADIO){docid("fieldht").style.display="none";}getFormFields(getA(_30,"refFmId"),_2a);}else{docid("fieldWidth").value=206;docid("fieldHeight").value=13;getFormFields();}docid("impdata").style.display=rowdisp;_35.attr("style","rowdisp");docid("relfields").style.display=rowdisp;docid("alph").style.display=rowdisp;docid("duplicates").style.display=rowdisp;}else{if(sel==SCRIPT){docid("optiontab").style.display="none";docid("optiontable").style.display="none";docid("formulahelp").style.display=rowdisp;docid("formula_help_link").style.display="";docid("formulaexp").style.display=rowdisp;if(_2a){docid("formula").value=getA(_30,"expStr");docid("formula").value=removeEscapeChars(docid("formulaExpr-"+_2a).innerHTML);}}else{if(sel==FILE_UPLOAD||sel==IMAGE){docid("duplicates").style.display="none";}else{if(sel==CHECK_BOX){docid("chkboxrow").style.display=rowdisp;docid("duplicates").style.display="none";if(_2a){if($(_30).attr("checked")==true){docid("chkinitst").checked="checked";}}}else{if(sel==BLOODGROUP||sel==GENDER||sel==COUNTRY){docid("duplicates").style.display="none";}}}}}}}}}}}}}}}function shpickOpts(_37,sel){if(sel==PICK_LIST||sel==LIST){var _39=_37.options;}else{var _39=_37.getElementsByTagName("input");}var _3a=docid("dummytable").rows.item(0);var _3b=docid("pickchoices");for(var f=0;f<=_39.length;f++){for(var i=0;i<_39.length;i++){var _3e=null;if(sel==PICK_LIST||sel==LIST){var _3f=_39[i].getAttribute("seqNo");}else{var _3f=_37.getElementsByTagName("input").item(i).getAttribute("seqNo");}if(_3f!=f){continue;}if(sel==PICK_LIST){_3e=_39[i].getAttribute("opt");}else{if(sel==LIST){_3e=_39[i].getAttribute("multiOpt");}else{if(sel==RADIO){_3e=_37.getElementsByTagName("input").item(i).getAttribute("radioOpt");}else{_3e=_37.getElementsByTagName("input").item(i).getAttribute("checkOpt");}}}if(_3e!=null){if(sel==PICK_LIST||sel==LIST){var _40=_39[i].value;}else{var _40=_37.getElementsByTagName("input").item(i).value;}var _41=_3a.cloneNode(true);_3b.appendChild(_41);_41.getElementsByTagName("input").item(0).value=_40;_41.getElementsByTagName("input").item(0).name=_3e+"optionvalue";setA(_41.getElementsByTagName("input").item(0),"otype","db");}}}}function showHelpCode(){var _42=i18n["hrms.formedit.formula1msg"]+":\n\n"+i18n["hrms.formedit.formula2msg"]+"\n"+i18n["hrms.formedit.formula3msg"]+"\n\n"+i18n["hrms.formedit.formula4msg"]+"\n"+i18n["hrms.formedit.formula5msg"];if(docid("formula")){if(trimString(docid("formula").value)==""){docid("formula").style.fontStyle="italic";docid("formula").style.color="#808080";docid("formula").value=_42;}}}function replaceStr(str){str=str.replace(/\n/g,"");str=str.replace(/\r/g,"");return str;}function hideHelpCode(){if(docid("formula")){var _44=i18n["hrms.formedit.formula1msg"]+":\n\n"+i18n["hrms.formedit.formula2msg"]+"\n"+i18n["hrms.formedit.formula3msg"]+"\n\n"+i18n["hrms.formedit.formula4msg"]+"\n"+i18n["hrms.formedit.formula5msg"];var _45=replaceStr(docid("formula").value);var _46=replaceStr(_44);if(_45==_46){docid("formula").style.color="";docid("formula").style.fontStyle="normal";docid("formula").value="";}}}function submitField(){hideHelpCode();try{docid("field-status-error-tr").style.display="none";}catch(e){}var _47=docid("fields").value;var _48=docid("properties");var _49=docid("maxch").value;var _4a=docid("maxdg").value;if(_49.trim()==""||_4a.trim()==""||_49.indexOf(" ")!=-1||_4a.indexOf(" ")!=-1||isNaN(_49)||isNaN(_4a)){alert(i18n.formedit_maxdigitorcharvalidation);return false;}if(parseInt(_49)<0||parseInt(_49)>255){alert(i18n.formedit_maxcharvalidation);return false;}if(parseInt(_4a)<0||parseInt(_4a)>19){alert(i18n.formedit_maxdigitvalidation);return false;}if(_47==NUMBER||_47==CURRENCY||_47==DECIMAL){if((!IsNumeric(trimString(docid("numinitvalue").value))&&docid("numinitvalue").value.length>0)||isNaN(docid("numinitvalue").value)){alert(i18n["hrms.formedit.numerfieldinitvalue"]);docid("numinitvalue").focus();return false;}if(_47==NUMBER&&(isNaN(docid("maxValue").value)||isNaN(docid("minValue").value))){alert(i18n["hrms.formval.entervalidrange"]);return false;}}if(_47==SCRIPT){if(trimString(docid("formula").value)==""){alert(i18n["hrms.formedit.formulablankerr"]);docid("formula").focus();return false;}}var _4b=new Array();if(add==true){_4b["cd"]=docid("properties").coldisp.value;_4b["before"]=docid("properties").before.value;}else{}if(_47==PICK_LIST||_47==RADIO||_47==LIST||_47==CHECK_BOXES){var _4c="";if(editfcid==null){var _4d=docid("Picklistchoices").value;if(trimString(_4d)==""){alert(i18n["hrms.formedit.choicemsg"]);return false;}var _4e=_48.getElementsByTagName("input");var _4f=new Array();for(var c=0;c<_4e.length;c++){var _51=_4e.item(c);if(_51.name.indexOf("optionvalue")!=-1){_4f[_4f.length]=_51;}}var len=_4f.length;for(var c=0;c<len;c++){_4f[c].parentNode.removeChild(_4f[c]);}var _53=_4d.trim().split(/\n/g);docid("optCnt").value=_53.length;var j=1;for(i=0;i<_53.length;i++){var _56=trimString(_53[i]);if(_56!=""){var _57=document.createElement("input");_57.setAttribute("type","hidden");_57.setAttribute("name",j+"optionvalue");_57.setAttribute("value",_56);_48.appendChild(_57);_4c=_4c+j+":"+j+",";j++;}}}else{var _58=docid("pickchoices");var _59=_58.rows.length;docid("optCnt").value=_59;var k=1;var _5b=0;for(var i=0;i<_59;i++){var _5c=_58.rows.item(i);var _5d=_5c.getElementsByTagName("input").item(0);var _5e=_5d.name;if(_5d.value.trim()==""){_5b++;}var _5f=_5e.substring(0,_5e.indexOf("optionvalue"));_4c=_4c+_5f+":"+k+",";k++;}if(_5b>0){alert(i18n.dropdownempty);return false;}}var _60=$("input[name=pickseq]",_48);if(_60.length==0){var _57=document.createElement("input");_57.setAttribute("type","hidden");_57.setAttribute("name","pickseq");_57.setAttribute("value",_4c);_48.appendChild(_57);}else{$(_60).val(_4c);}}if(_47==IMPORT_DATA){var _61,_62;if(add==true){_61=docid("importform").value;var _63=docid("importform").selectedIndex;_62=docid("importform").options[_63].innerHTML;}var _64=docid("import").value;var _65=docid("import").options[docid("import").selectedIndex];var _66=_65.innerHTML;var _67=_65.getAttribute("fmName");var _68=_65.getAttribute("impfmId");$("input[name=lkpFmName]",_48).val(_65.getAttribute("fmcompname"));$("input[name=lkpFcColName]",_48).val(_65.getAttribute("fccolname"));if(_68==null||_68==""||_68=="null"){_68=docid("refFmId").value;}var _69=_68;if(editfcid){if(_64==""){_64=getA(docid("input"+editfcid),"impreffcId");_67=getA(docid("input"+editfcid),"refFmName");_66=getA(docid("input"+editfcid),"refDispName");docid("import").value=_64;}_61=_69;_62=_67;}if((_64==""||_64==null||_64=="--"+i18n.selectfields+"--")&&add){alert(i18n["hrms.formedit.lookupblankerr"]);return false;}if(add==true){_4b["selAppId"]=_61;}_48.refAppName.value=_62;_48.refFmName.value=_67;_48.refFcName.value=_66;_48.refFmId.value=_69;_48.refAppId.value=_61;}_4b["compType"]=_47;var _6a=_48.sectionId.value;_4b["sectionId"]=_6a;var _6b=docid(_6a);var _6c=$(_6b).attr("isTabular");var _6d=$(_6b).attr("isGridType");var _6e=$(_6b).attr("isDefaultTabSec");if(_6c=="true"){if(_47==IMPORT_DATA||_47==RADIO||_47==CHECK_BOX||_47==FILE_UPLOAD||_47==IMAGE){alert(i18n.formedit_cantaddfieldfortabular);closeDialog();return;}if(_6d=="false"){var _6f=getTabularFieldsCount(_6a,false);var _70=getActivFieldsCount(_6a,_6f);if(_70>=10){alert(i18n.formedit_notaddmorethan10activetabularcol);closeDialog();return;}else{if(_6f>=16){alert(i18n.formedit_not16tabularcols);closeDialog();return;}}}var _48=docid("properties");_48.formid.value=$(_6b).attr("tabularFormId");_48.formtableid.value=$(_6b).attr("tabularFormTableId");if(_6e=="false"){_48.isSystemForm.value=false;}else{_48.isSystemForm.value=true;}}$("input[name=Submit]",_48).attr("disabled","disabled");getHtmlForForm(_48,"addField",_4b);docid("props").innerHTML="";}function getTabularFieldsCount(_71,_72){var _73=docid(_71+"formcontainer1").getElementsByTagName("div").length;var _74=docid(_71+"formcontainer").getElementsByTagName("div").length;var _75=3;if(_72){_75=2;}var _76=_73+_74-_75;return _76;}function getActivFieldsCount(_77,_78){var _79=$("#"+_77+"formcontainer1").find("div").find(".field-label-grey").length;var _7a=$("#"+_77+"formcontainer").find("div").find(".field-label-grey").length;var _7b=$("#"+_77+"formcontainer").find("div").find(".redDis").length;var _7c=$("#"+_77+"formcontainer1").find("div").find(".redDis").length;var _7d=_79+_7a+_7b+_7c;var _7e=_78-_7d;return _7e;}var selfid=null;function addField(txt,_80){loadon();if(txt!=null&&txt!=""&&txt.length!=0&&txt.indexOf("error:")!=-1){var _81=txt.indexOf("error:")+6;$("#properties").find("input[name=Submit]").removeAttr("disabled");if(_80){if(_80["compType"]&&(_80["compType"]==SCRIPT||_80["compType"]==IMPORT_DATA)){alert(txt.substring(_81,txt.length));var _82=txt.substring(6,txt.length);docid("field-status-error-tr").style.display="";docid("field-errorarea").innerHTML=_82.replace(/\n/g,"<br>");}else{if(txt.indexOf("error:SysFld")==0){alert(txt.substring(12,txt.length));var _82=txt.substring(12,txt.length);docid("field-status-error-tr").style.display="";docid("field-errorarea").innerHTML=_82.replace(/\n/g,"<br>");}else{alert(txt.substring(_81,txt.length));}}}else{alert(txt.substring(_81,txt.length-1));}loadoff();return;}var dl=docid("dotlayer");var _84=dl.parentNode.id;var _85=_80["sectionId"];var _86=$("#"+_85).attr("isgridtype");var _87=-1;if(_86=="false"){if(_84){var _88=dl.parentNode.getElementsByTagName("div");for(var i=0;i<_88.length;i++){if(_88.item(i)==dl&&i!=_88.length-1){_87=_88.item(i+1).id+"";break;}}}else{_84=firstsectionId+"formcontainer";}}else{_84=_85;}closeDialog();askstate=true;try{clDescPop();}catch(e){}removedrag();var _8a="";var bf;var _8c;if(editfcid==null){var cd=1;if(_80){if(_80["selAppId"]){var _8e=document.createElement("div");_8e.innerHTML=txt;_8a=_8e.getElementsByTagName("div").item(0).id;_8e.innerHTML="";}cd=_80["cd"];_87=_80["before"];}var di=document.createElement("div");if(_87==-1||_87==""){if(_86=="false"){docid(_84).appendChild(di);}else{var _90=document.createElement("td");var _91=document.createElement("th");_90.appendChild(di);docid(_84+"headerTr").appendChild(_91);docid(_84+"dataTr").appendChild(_90);}removeHelpSpan(_85);di.outerHTML=txt;if(_86=="true"){var _92=$(_90).find("div");removeOuterHtmlForTabularField(_92);var obj=$(_90).find(".field-label");var _94=$(obj).find("label");$(_94).attr("style","normal");var _95=$(_94).attr("id");var lb=$(_94).html().replace(/:$/g,"");$(_94).html(lb);$(_91).html($(obj).html());$(_91).click(function(){editTabularField(_95.replace("dispName",""),_85);});$(obj).remove();}_8c=getLast();}else{bf=docid(_87);if(bf){bf.parentNode.insertBefore(di,bf);di.outerHTML=txt;_8c=getPrev(bf);}else{docid(_84).appendChild(di);di.outerHTML=txt;_8c=getLast();}}}else{docid(editfcid).outerHTML=txt;_8c=docid(editfcid);if(_86=="true"){var _97=$(_8c).find("#dispName"+editfcid);var _94=$(_97).html().replace(/:$/g,"");var obj=$(_8c).find(".field-label").remove();var _98=_80["compType"];var _99="false";if(_98==TEXT_AREA){_99=$(_8c).find("textarea[id=input"+editfcid+"]").attr("mand");}else{if(_98==PICK_LIST||_98==COUNTRY||_98==BLOODGROUP||_98==GENDER){_99=$(_8c).find("select[id=input"+editfcid+"]").attr("mand");}else{_99=$(_8c).find("input[id=input"+editfcid+"]").attr("mand");}}var _9a=$("#dispName"+editfcid);_9a.html(_94);if(_99=="true"){_9a.attr("class","red");}else{_9a.attr("class","field-label");}removeOuterHtmlForTabularField(_8c);}}var _9b=docid(firstsectionId+"formcontainer").innerHTML;docid(firstsectionId+"formcontainer").innerHTML=_9b;docid("addfieldinfo").style.display="none";if(_80&&_80["selAppId"]){var _9c=_80["selAppId"];var _9d=docid("input"+_8a);_9d.setAttribute("refAppId",_9c);}if(selfid&&selfid!=null){var ss=docid(selfid);if(ss){ss.className=fcls;}}selfid=null;if(_8c&&_8c.id){fadeIn(_8c.id,150,clearMovr);selfid=_8c.id;if(_86=="false"){docid(selfid).className=facls;}}else{clearMovr();}}function clearMovr(){MainContent.regEventByClass("div","field-outer-container");currOrd=getCurrentOrder();askstate=false;if(selfid&&selfid!=null){}loadoff();}function removeOuterHtmlForTabularField(_9f){$(_9f).removeClass("field-outer-container");$(_9f).removeClass("field-outer-container-action");$(_9f).removeAttr("onmouseover").removeAttr("onmouseout");var _a0=$(_9f).find("li");var _a1=$(_9f).attr("id");var _a2=$(_9f).find("#input"+_a1);if(_a2.attr("comptype")==DATE_TIME&&_a2.val()!=""){_a2.css("width","150px");}else{_a2.css("width","100px");}$($(_a0).get(0)).remove();}function focusTextField(_a3,_a4){if(add==false){return;}var _a5=_a3.value;if(trimString(_a5)==_a4){_a3.value="";}_a3.style.color="#000000";}function blurTextField(_a6,_a7){if(add==false){return;}var _a8=_a6.value;if(trimString(_a8)==""){_a6.value=_a7;_a6.style.color="#999999";}}function foradd(){document.getElementById("on_add").style.display="block";document.getElementById("on_edit").style.display="none";document.getElementById("add_mode").className="tab_active";document.getElementById("edit_mode").className="tab_inactive";}function foredit(){document.getElementById("on_edit").style.display="block";document.getElementById("on_add").style.display="none";document.getElementById("add_mode").className="tab_inactive";document.getElementById("edit_mode").className="tab_active";}var optfcid=null;var fcidopthtml=null;var buttonopthtml=null;function showOptions(){var _a9=movrfcid;if(fcidopthtml==null){fcidopthtml=docid("fcidoptions").innerHTML;docid("fcidoptions").innerHTML="";}optfcid=_a9;if(browser_ie){showDialog(fcidopthtml,"needIframe=no, position=relative, top=-2, left=-1, srcElement=actionsdiv, closeButton=no, closeOnBodyClick=no",null,emptyoptfcid);}else{showDialog(fcidopthtml,"needIframe=no, position=relative, top=-2, left=-1, srcElement=actionsdiv, closeButton=no, closeOnBodyClick=yes",null,emptyoptfcid);}optfcid=_a9;docid(optfcid).className=facls;}function getTempDiv(_aa){var _ab=document.createElement("div");_ab.innerHTML=_aa;_ab.style.display="none";document.body.appendChild(_ab);return _ab;}function removeTempDiv(_ac){var _ad=_ac.innerHTML;_ac.innerHTML="";document.body.removeChild(_ac);return _ad;}function clearOptFcid(){if(optfcid!=null){docid(optfcid).className=fcls;}optfcid=null;}var fadeOutCall=false;function deletef(_ae,_af,_b0,_b1){if(!_ae){_af=movrfcid;_b0=getA(docid("input"+_af),"comptype");_b1=movrlname;}askstate=true;var _b2=i18n["hrms.formedit.fielddelete1msg"]+" '"+_b1+"'. ";_b2+=" "+i18n["hrms.formedit.fielddelete2msg"];_b2+="\n"+i18n["hrms.formedit.fielddelete4msg"];askstate=false;if(!confirm(_b2)){return;}askstate=true;if(_b0==IMPORT_DATA){var _b3=new Array("fid","fcid","labelname","fctype");var _b4=new Array(fid,_af,_b1,_b0);getHtmlForForm(getForm("/people/deleteField.do",_b3,_b4),"deleteLookUp",_af,"",true);return;}else{var _b3=new Array("fid","fcid","labelname","fctype");var _b4=new Array(fid,_af,_b1,_b0);if(_ae){getHtmlForForm(getForm("/people/deleteField.do",_b3,_b4),"deleteCustomizeField",_af,"",true);var _b5=$("tbody#tabularFields","#_DIALOG_LAYER").find("tr").length;if(_b5>8){$("div#custTabSection","#_DIALOG_LAYER").css("height",300);}else{$("div#custTabSection","#_DIALOG_LAYER").css("height","auto");}}else{getHtmlForForm(getForm("/people/deleteField.do",_b3,_b4),"deletefcb",_af,"",true);fadeOut(_af,150);}}}function deleteCustomizeField(txt,_b7){txt=trimString(txt);if(txt=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(txt!=null&&txt!=""&&txt.length!=0){alert(txt);}else{var _b8=$("tr[id='"+_b7+"']");var _b9=$(_b8.parent()).find("tr").length;if(_b9==1){closeTabulardialog();}fadeOut(_b7,150);_b8.remove();}}}function deletefcb(txt,_bb){txt=trimString(txt);if(txt=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);askstate=false;}else{closeDialog();optfcid=null;var f=docid(_bb);fadeOutCall=false;docid("actionsdiv").style.display="none";if(txt!=null&&txt!=""&&txt.length!=0&&txt.indexOf("success")!=0){alert(txt);f.style.display="";f.className=fmcls;docid("actionsdiv").style.display="block";askstate=false;return;}askstate=false;var _bd=f.parentNode;_bd.removeChild(f);updSeq(txt);showaddfinfo(_bd);}return;}function deleteLookUp(txt,_bf){txt=trimString(txt);var _c0=getA(docid("input"+_bf),"comptype");var _c1=movrlname;if(txt!=null&&txt!=""&&txt.length!=0&&txt.indexOf("success")!=0){askstate=false;var _c2=confirm(txt);closeDialog();if(_c2==false){return;}askstate=true;var _c3=new Array("fid","fcid","labelname","fctype","deleteSF");var _c4=new Array(fid,_bf,_c1,_c0,true);getHtmlForForm(getForm("/people/deleteField.do",_c3,_c4),"deletefcb",_bf,"",true);}else{deletefcb(txt,_bf);}fadeOut(_bf,150);}function setLayoutSeq(txt,_c6){txt=trimString(txt);if(txt!=null&&txt!=""&&txt.length!=0&&txt.indexOf("success")!=0){alert(txt);}}function editf(){var _c7=movrfcid;var _c8=docid(_c7).parentNode.id;if(_c8.indexOf("formcontainer1")!=-1){_c8=_c8.replace("formcontainer1","");}else{_c8=_c8.replace("formcontainer","");}var _c9=getA(docid("input"+_c7),"comptype");var _ca=_c9;selfid=movrfcid;editpickcnt=0;if(_ca==PLAIN_TEXT){shDescPop(_c7,_c8);return;}var _cb=$("#"+_c8).attr("isTabular");if(_ca==SCRIPT){if(_cb=="true"){loadFields($("#"+_c8).attr("tabularformid"),false);}else{loadFields(getA(docid("input"+_c7),"formId"),false);}}showf(_ca,_c7,false,_cb);showfieldTypes(parseInt(_ca));docid("properties").update.value=true;docid("properties").fcid.value=_c7;if(_ca==IMPORT_DATA){if(_c7){var _cc=docid("input"+_c7);_ca=getA(_cc,"dispType");}}docid("properties").fctype.value=_ca;docid("properties").sectionId.value=_c8;}function setSeq(){var _cd=$("div[id$=\"formcontainer\"]");var _ce=$("div[id$=\"formcontainer1\"]");$(_cd).each(function(){var _cf=$(this).find("div");var _d0=_cf.get(0);if(_cf.length>1&&$(_d0).attr("id")!="dummy1"){var d1=$(this).find("div[id=\"dummy1\"]");d1.insertBefore(_d0);}});$(_ce).each(function(){var _d2=$(this).find("div");var _d3=_d2.get(0);if(_d2.length>1&&$(_d3).attr("id")!="dummy2"){var d2=$(this).find("div[id=\"dummy2\"]");d2.insertBefore(_d3);}});var _d5=getCurrentOrder();if(_d5==currOrd){return;}addOrRemoveHelpText(_cd,_ce);var _d6=new Array("seq","fid");var _d7=new Array(_d5,fid);getHtmlForForm(getForm("/people/setSeq.do",_d6,_d7),"setSeqcb","",false);}function getCurrentOrder(){var _d8=MainContent.getCurrentOrderAsString();_d8=_d8.split("|");var _d9=1;var _da="";for(var j=1;j<_d8.length;j++){var _dc=_d8[j];_dc=_dc.split("_");var _dd="";for(var i=0;i<_dc.length;i++){var _df=_dc[i];if((_df==null)||(_df=="_")||(_df=="")||isNaN(_df)){continue;}if(docid(_dc[i])){var _e0=1;var _e1=docid(_dc[i]).parentNode.id;if(_e1.indexOf("formcontainer1")!=-1){_e0=2;}var _e2=_e1.indexOf("formcontainer");if(_e2!=-1){_dd=_e1.substring(0,_e2);}if(_dd!=""){_df=_dd+"_"+_df;}_da=_da+_df+":"+_e0+",";}}}return _da;}function setSeqcb(txt){txt=trimString(txt);if(txt!=null&&txt!=""&&txt.length!=0&&txt.indexOf("success")!=0){if(txt=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);location.reload();return;}else{alert(txt);location.reload();return;}}updSeq(txt);}function updSeq(txt){}putc=function(el,f,h){el.style.color=f;el.style.backgroundColor=h;};var editpickcnt=0;function addPickOptions(_e8){var _e9=_e8.parentNode.parentNode;var _ea=docid("dummytable").rows.item(0);var _eb=_ea.cloneNode(true);var _ec=_e9.nextSibling;var _ed=docid("pickchoices").rows.length;_ed++;if(_ec&&_ec!=null){docid("pickchoices").insertBefore(_eb,_ec);}else{docid("pickchoices").appendChild(_eb);}var _ee=_eb.getElementsByTagName("input").item(0);_ee.name=_ed+"optionvalue";_ee.focus();}function delPickOptions(_ef){var _f0=_ef.parentNode.parentNode;var _f1=_f0.parentNode;var _f2=$(_ef).parent().parent().siblings();var _f3=_f0.rowIndex;var _f4=_f1.rows.length;if(_f0.parentNode.rows.length==1){return;}_f1.removeChild(_f0);for(var i=0;i<(_f2.length);i++){if($(_f2[i]).find("input").attr("otype")!="db"){var _f6=_f2[i];_f4--;_f6.getElementsByTagName("input").item(0).name=_f4+"optionvalue";}}}var notesFckEditor=null;var notesFck="false";var notesEditor=null;var fcIdplain=null;function showEditor(){var _f7="richtext";var _f8="";if(notesFckEditor==null){_f8={id:"notesdiv",mode:_f7,content:$("#notesField").val()};editor=ZE.create(_f8);notesFckEditor=editor;notesFck="true";}if(notesFck=="false"){_f8={id:"notesdiv",mode:_f7};editor=ZE.create(_f8);editor.setContent("");}}function shDescPop(_f9,_fa){closeDialog();loadon();fcIdplain=_f9;showEditor();notesOpen=true;var _fb=docid("plaintxtdiv");var _fc=$("input[type=submit]",_fb);if(_fc.attr("disabled")){_fc.removeAttr("disabled");}_fb.style.display="block";if(fcIdplain){editfcid=fcIdplain;var _fd=docid("input"+fcIdplain);docid("pltxtlblName").value=getA(_fd,"dfname");editor.setContent(_fd.innerHTML);docid("descform").fcid.value=fcIdplain;docid("descform").update.value=true;docid("descform").sectionId.value=_fa;}else{editor.setContent("");}loadoff();centerDialog("plaintxtdiv",100);freezeBackground();}function submitDesc(){var _fe=docid("descform");var _ff=$("#"+_fe.sectionId.value).attr("isTabular");if(_ff=="false"){$("input[type=submit]",_fe).attr("disabled","disabled");_fe.descVal.value=editor.getContent();_fe.descVal.value=encodeURIComponent(_fe.descVal.value);var _100=new Array();if(add==true){_100["cd"]=_fe.coldisp.value;_100["before"]=_fe.before.value;_100["sectionId"]=_fe.sectionId.value;}getHtmlForForm(_fe,"addField",_100);}else{alert(i18n.formedit_cantaddfieldfortabular);clDescPop();}}function clDescPop(){docid("descform").fcid.value="";docid("descform").update.value=false;docid("plaintxtdiv").style.display="none";docid("pltxtlblName").value="";removedrag();$("#FreezeLayer").remove();}function escapeHtml(msg){msg=msg.replace(/&/g,"&amp;");msg=msg.replace(/</g,"&lt;");msg=msg.replace(/>/g,"&gt;");return msg;}var mouseLeft;var mouseTop;var helem;var mfobj;function movefield(ev,fobj){disableDefaultAction(ev);if(document.all){mouseLeft=window.event.clientX+document.documentElement.scrollLeft-parseInt(findPosX(fobj));mouseTop=window.event.clientY+document.documentElement.scrollTop-parseInt(findPosY(fobj));}else{mouseLeft=ev.pageX-parseInt(findPosX(fobj));mouseTop=ev.pageY-parseInt(findPosY(fobj));}mfobj=fobj;helem=document.getElementById("hiddendiv");helem.style.left=mouseLeft;helem.style.top=mouseTop;helem.innerHTML="<ul class='field-icons'>"+fobj.outerHTML+"</ul>";helem.style.width="110px";var divs=docid(firstsectionId+"formcontainer").getElementsByTagName("div");var mdiv=null;if(divs.length<2){var _106=docid(firstsectionId+"formcontainer1").getElementsByTagName("div");if(_106.length<2){mdiv=divs.item(0);}else{divs=_106;}}if(mdiv==null){mdiv=divs.item(1);}var dl=docid("dotlayer");removemovr();closeDialog();movrfcid=null;document.onmousemove=movemouse;document.onmouseup=dragstop;}function movemouse(ev){if(mfobj.className!="field-icons-hover"){mfobj.className="field-icons-hover";}dragging=true;disableDefaultAction(ev);var _109=screen.width;var _10a=screen.height;var _10b=_109-docid("container").offsetWidth;var _10c=$("#admin-left").width();var _10d=$("#header").height();if(document.all){mouseLeft=window.event.clientX+document.documentElement.scrollLeft;mouseTop=window.event.clientY+document.documentElement.scrollTop;}else{mouseLeft=ev.pageX;mouseTop=ev.pageY;}helem.style.left=(mouseLeft)-_10b/2-_10c+"px";helem.style.top=(mouseTop-helem.offsetHeight/2)-_10d+"px";helem.style.visibility="visible";var suc=false;for(i=0;i<formcontainerarr.length;i++){suc=domousemove(mouseLeft,mouseTop,false,formcontainerarr[i]+"formcontainer",formcontainerarr[i]);if(suc!=true){suc=domousemove(mouseLeft,mouseTop,false,formcontainerarr[i]+"formcontainer1",formcontainerarr[i]);if(suc==true){break;}}else{break;}}}function domousemove(_10f,_110,_111,_112,row){divs=docid(_112).getElementsByTagName("div");var _114=docid("dotlayer");_114.style.height="40px";var _115=false;for(var i=0;i<divs.length;i++){var di=divs.item(i);var x=parseInt(findPosX(di));var y=parseInt(findPosY(di));if(di.className.indexOf(fcls)==-1){continue;}if((_111==true&&_10f+helem.offsetWidth/2<x)||(_111==false&&_10f<x)||(i==0&&(_110+helem.offsetHeight/2<y))){if((_111==false&&_10f<x)&&findPosY(docid(row+"formcontainer"))+docid(row+"formcontainer").offsetHeight>(_110+helem.offsetHeight/2)){docid(row+"formcontainer").appendChild(_114);showLayer(_114,true);_115=true;}else{document.body.appendChild(_114);showLayer(_114,false);}break;}else{if(_10f>x+_114.offsetWidth){if(_111==true&&findPosY(docid(row+"formcontainer1"))+docid(row+"formcontainer1").offsetHeight>(_110+helem.offsetHeight/2)){docid(row+"formcontainer1").appendChild(_114);showLayer(_114,true);}else{docid(row+"formcontainer1").appendChild(_114);showLayer(_114,false);}_115=false;break;}}if(_110-helem.offsetHeight-di.offsetHeight<y){var _11a=di.nextSibling;if(_11a){di.parentNode.insertBefore(_114,_11a);}else{di.parentNode.appendChild(_114);}showLayer(_114,true);_115=true;break;}}return _115;}function disableDefaultAction(_11b){if(document.all){document.onselectstart=new Function("return false");}else{_11b.preventDefault();}}var currSecOrder="";function dragstop(ev){mfobj.className="field-icons-active";document.onmousemove=null;document.onmouseup=null;if(document.all){document.onselectstart=null;}var _11d=docid("dotlayer").parentNode.parentNode.parentNode.id;var ty=helem.getElementsByTagName("li").item(0).getAttribute("typeid");helem.style.visibility="hidden";helem.style.left="0px";helem.style.top="0px";ty=parseInt(ty);if(ty==30||ty==31){mfobj.className="field-icons-active addSec";}if(docid("dotlayer").style.visibility=="visible"){if(ty==PLAIN_TEXT){shDescPop();dootherworks(ty,_11d,true);}else{if(ty==30){opendialog("addSection");mfobj.className="field-icons-active addSec";}else{if(ty==31){opendialog("addSection",true);mfobj.className="field-icons-active addSec";}else{var _11f=$("#"+_11d).attr("isTabular");showf(ty,"",false,_11f);dootherworks(ty,_11d,true);if(ty==SCRIPT){if(_11f=="true"){loadFields($("#"+_11d).attr("tabularformid"),true);}else{loadFields(docid("properties").formid.value,true);}}}}}}else{removedrag();}dragging=false;}function removedrag(){if(helem){helem.style.visibility="hidden";document.body.appendChild(docid("dotlayer"));showLayer(docid("dotlayer"),false);}optfcid=null;}function showLayer(dl,show){if(show==true){dl.style.visibility="visible";dl.style.height=32;}else{dl.style.visibility="hidden";dl.style.height=0;}}function getTypeString(sel){switch(sel){case TEXT:return i18n["hrms.formedit.singleline"];case TEXT_AREA:return i18n["hrms.formedit.multiline"];case EMAIL_ADDRESS:return i18n["hrms.formedit.email"];case NUMBER:return i18n["hrms.formedit.number"];case DECIMAL:return i18n["hrms.formedit.decimal"];case CURRENCY:return i18n["hrms.formedit.currency"];case PICK_LIST:return i18n["hrms.formedit.dropdown"];case RADIO:return i18n["hrms.formedit.radio"];case CHECK_BOXES:return i18n["hrms.formedit.checkbox"];case LIST:return i18n["hrms.formedit.multiselect"];case IMPORT_DATA:return i18n["hrms.formedit.lookup"];case DATE:return i18n["hrms.formedit.date"];case FILE_UPLOAD:return i18n["hrms.formedit.fileupload"];case CHECK_BOX:return i18n["hrms.formedit.decisioncheck"];case PLAIN_TEXT:return i18n["hrms.formedit.addnotes"];case SCRIPT:return i18n["hrms.formedit.formula"];case IMAGE:return i18n["hrms.formedit.image"];case URL:return i18n["hrms.formedit.url"];case DATE_TIME:return i18n["hrms.formedit.datetime"];case GENDER:return i18n["hrms.formedit.gender"];case COUNTRY:return i18n["hrms.formedit.country"];case BLOODGROUP:return i18n["hrms.formedit.bloodgroup"];case PHONE_NUMBER:return i18n["hrms.common.phone"];default:return "";}}function showaddfinfo(_123){var _124=_123.parentNode;var _125=_124.getElementsByTagName("div");if(_125.length==4){var _126=_124.parentNode.id;$("div#"+_126+"formcontainer",_124).append("<span class=\"dragText\">"+i18n.dragdropfields+"</span>");}}var alphaVal=0,fadeInIntvl,fadeOutIntvl;function fadeIn(elId,_128,_129){alphaVal=0;var el=document.getElementById(elId);el.style.opacity=alphaVal;el.style.filter="alpha(opacity="+alphaVal+")";el.style.display="";fadeInIntvl=window.setInterval("doFadeIn(\""+elId+"\", "+_129+")",_128);}function doFadeIn(elId,_12c){var el=document.getElementById(elId);if(!el){window.clearInterval(fadeInIntvl);if(typeof _12c!="undefined"){_12c();}return;}if(alphaVal<10){el.style.filter="alpha(opacity="+(alphaVal*4)+")";el.style.opacity=alphaVal/6;alphaVal++;}else{el.style.filter="alpha(opacity=100)";el.style.opacity=0.99;window.clearInterval(fadeInIntvl);if(typeof _12c!="undefined"){_12c();}}}function fadeOut(elId,_12f,_130){alphaVal=9;fadeOutCall=true;fadeOutIntvl=window.setInterval("doFadeOut(\""+elId+"\", "+_130+")",_12f);}function doFadeOut(elId,_132){var el=document.getElementById(elId);if(!el||fadeOutCall==false){alphaVal=0;fadeOutCall=false;window.clearInterval(fadeOutIntvl);if(typeof _132!="undefined"){_132();}}else{if(alphaVal>0){el.style.filter="alpha(opacity="+(alphaVal*10)+")";el.style.opacity=(alphaVal/10);alphaVal--;}else{alphaVal=0;el.style.filter="alpha(opacity=0)";el.style.opacity=0.01;el.style.display="none";window.clearInterval(fadeOutIntvl);fadeOutCall=false;if(typeof _132!="undefined"){_132();}}}}function getPrev(elem){var divs=docid(firstsectionId+"formcontainer").getElementsByTagName("div");var _136;for(var i=0;i<divs.length;i++){var di=divs.item(i);if(di.className.indexOf(fcls)==-1){continue;}if(di==elem){return _136;}_136=di;}divs=docid(firstsectionId+"formcontainer1").getElementsByTagName("div");for(var i=0;i<divs.length;i++){var di=divs.item(i);if(di.className.indexOf(fcls)==-1){continue;}if(di==elem){return _136;}_136=di;}}function getLast(_139){var divs=docid(firstsectionId+"formcontainer1").getElementsByTagName("div");if(_139==true){divs=docid(firstsectionId+"formcontainer").getElementsByTagName("div");}var _13b;for(var i=0;i<divs.length;i++){var di=divs.item(i);if(di.className.indexOf(fcls)==-1){continue;}_13b=di;}return _13b;}function removeAllChildNodes(elem){while(elem.hasChildNodes()){elem.removeChild(elem.firstChild);}}function showFormEmbed(id,name,_141,_142){if(fmembedHtml==""){fmembedHtml=docid("formenbeddiv").innerHTML;docid("formembeddiv").parentNode.removeChild(docid("formembeddiv"));}showDialog(fmembedHtml,"position=absolute, left=290, top=180, closeButton=no, modal=yes");}function showfieldTypes(sel){var _144=docid("fields");removeAllChildNodes(_144);var _145=document.createElement("optgroup");_145.setAttribute("label",i18n["hrms.formedit.text"]);_145.style.backgroundColor="rgb(253, 254, 242)";var _146=docid("numoptgrp");var _147=document.createElement("optgroup");_147.setAttribute("label",i18n["hrms.formedit.choices"]);_147.style.backgroundColor="rgb(253, 254, 242)";var _148=document.createElement("optgroup");_148.setAttribute("label",i18n["hrms.formedit.others"]);_148.style.backgroundColor="rgb(253, 254, 242)";switch(sel){case TEXT:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(docid("txtAropt"));_144.appendChild(docid("emailopt"));_144.appendChild(_146);_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("dateopt"));_144.appendChild(docid("datetimeopt"));_144.appendChild(docid("impdataopt"));break;case TEXT_AREA:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(docid("txtAropt"));break;case EMAIL_ADDRESS:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(docid("emailopt"));_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("impdataopt"));break;case PHONE_NUMBER:_144.appendChild(_145);_144.appendChild(docid("phoneopt"));break;case NUMBER:case DECIMAL:case CURRENCY:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(_146);_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("impdataopt"));break;case PICK_LIST:case RADIO:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(docid("emailopt"));_144.appendChild(_146);_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("impdataopt"));break;case CHECK_BOXES:case LIST:_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));break;case IMPORT_DATA:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(docid("emailopt"));_144.appendChild(_146);_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("impdataopt"));break;case DATE:case DATE_TIME:_144.appendChild(_145);_144.appendChild(docid("txtopt"));_144.appendChild(_147);_144.appendChild(docid("picklistopt"));_144.appendChild(docid("radioopt"));_144.appendChild(docid("chkboxesopt"));_144.appendChild(docid("listopt"));_144.appendChild(_148);_144.appendChild(docid("dateopt"));_144.appendChild(docid("datetimeopt"));break;case FILE_UPLOAD:_144.appendChild(docid("uploadopt"));break;case CHECK_BOX:_144.appendChild(docid("decisionopt"));break;case SCRIPT:_144.appendChild(docid("formulaopt"));break;case GENDER:_144.appendChild(docid("genderopt"));break;case COUNTRY:_144.appendChild(docid("countryopt"));break;case BLOODGROUP:_144.appendChild(docid("bloodgroupopt"));break;case IMAGE:_144.appendChild(docid("imageopt"));break;case URL:_144.appendChild(docid("urlopt"));break;break;}docid("fields").value=sel;}function removeEscapeChars(_149){_149=_149.replace(/&lt;/g,"<");_149=_149.replace(/&gt;/g,">");_149=_149.replace(/&amp;/g,"&");return _149;}function loadFields(_14a,_14b){var _14c="formId="+_14a+"&"+csrfParamName+"="+csrfToken;$.post("/people/getFormulaFields.do",_14c,function(data){var _14e=JSON.parse(data);var _14f=docid("numberfields");var _150=docid("datefields");var _151=_14f.innerHTML;var _152=_150.innerHTML;var _153=_14e.numberfields;var _154=_14e.datefields;var _155="";var _156="";if(_14b&&_153.length==0&&_154.length==0){alert(i18n.formedit_error_numordatenotavail);closeDialog();}else{for(i=0;i<_153.length;i++){_155=_153[i];_156=_153[++i];_151+="<a href=\"javascript:insertAtCursor('"+_155+"');\" title='"+_156+"'>"+_155+"</a>";}for(i=0;i<_154.length;i++){_155=_154[i];_156=_154[++i];_152+="<a href=\"javascript:insertAtCursor('"+_155+"');\" title='"+_156+"'>"+_155+"</a>";}if(_151.indexOf("insertAtCursor")!=-1){_14f.innerHTML=_151;_14f.style.display="";}if(_152.indexOf("insertAtCursor")!=-1){_150.innerHTML=_152;_150.style.display="";}}});}function fetchField(obj,_158){if(_158=="opAdd"){docid("formula").value+=" + ";}else{if(_158=="opDel"){docid("formula").value+=" - ";}else{if(_158=="opMulti"){docid("formula").value+=" * ";}else{if(_158=="opDvd"){docid("formula").value+=" / ";}else{docid("formula").value+=obj.innerHTML;}}}}}function insertAtCursor(_159){var _15a=docid("formula");if(document.selection){_15a.focus();sel=document.selection.createRange();if(_159==" ( ) "){_159="("+sel.text+")";}sel.text=_159;}else{if(_15a.selectionStart||_15a.selectionStart=="0"){_15a.focus();var _15b=_15a.selectionStart;var _15c=_15a.selectionEnd;if(_159==" ( ) "&&(_15c-_15b)!=0){_159="("+_15a.value.substring(_15b,_15c)+")";}_15a.value=_15a.value.substring(0,_15b)+_159+_15a.value.substring(_15c,_15a.value.length);}else{_15a.focus();_15a.value+=_159;}}}function insertDate(){var _15d=new Date();var _15e=_15d.getMonth()+1;var day=_15d.getDate();var year=_15d.getFullYear();if(_15e==1){monthName=("Jan");}else{if(_15e==2){monthName=("Feb");}else{if(_15e==3){monthName=("Mar");}else{if(_15e==4){monthName=("Apr");}else{if(_15e==5){monthName=("May");}else{if(_15e==6){monthName=("Jun");}else{if(_15e==7){monthName=("Jul");}else{if(_15e==8){monthName=("Aug");}else{if(_15e==9){monthName=("Sep");}else{if(_15e==10){monthName=("Oct");}else{if(_15e==11){monthName=("Nov");}else{monthName=("Dec");}}}}}}}}}}}var _161="'"+day+"-"+monthName+"-"+year+"'";insertAtCursor(_161);}function Objectnew(_162,_163,_164,_165,_166,_167){this.labelName=_162;this.UIType=_163;this.attId=_164;this.isHidden=_165;this.fieldName=_166;this.isTabular=_167;}function setObject(_168,_169,_16a,_16b,_16c,_16d){findObjAndRemove(_16a);myObjectArray[objectArrayIndex]=new Objectnew(_168,_169,_16a,_16b,_16c,_16d);objectArrayIndex++;}function findObjAndRemove(fcId){for(i=0;i<myObjectArray.length;i++){if(myObjectArray[i]["attId"]==fcId){myObjectArray[i]=new Objectnew("edited","edited","edited","edited","edited","edited");return;}}}function opendialog(_16f,_170){var _171=$("#"+_16f);if(_16f=="addSection"){_171.find("input[name=\"sectionId\"]").val("");if(_170){_171.find("input[name=\"isTabular\"]").val("true");_171.find("td[id=\"sectiontitle\"]").html(i18n.formedit_newtabularsection);_171.find("tr[id=\"tabularType\"]").css("display","");}else{_171.find("input[name=\"isTabular\"]").val("false");_171.find("td[id=\"sectiontitle\"]").html(i18n.formedit_newsection);_171.find("tr[id=\"tabularType\"]").css("display","none");}}var html=_171.html();showDialog(html,"position=absolute, left=280, top=180, closeButton=no, modal=yes, height=500",null,removedrag);centerDialog("_DIALOG_LAYER");var _173=$("#_DIALOG_CONTENT");_173.find("input[id=\"sectionName\"]").focus();if(_16f=="reorderSection"){var _174=_173.find("tbody[id=\"reordersection\"]");var _175=_174.find("tr").length;if(_175>8){_173.find("div[id=\"reorderParentDiv\"]").css("height",350);}}}function addOrEditSection(_176){propHtml="";$("input[name=Submit]",_176).attr("disabled","disabled");var _177=$(_176).find("input[name=\"sectionId\"]").val();var _178=encodeURIComponent($(_176).find("input[name=\"sectionname\"]").val());var desc=encodeURIComponent($(_176).find("textarea[name=\"description\"]").val());if(_177==""){createNewSection(_176,_178,desc);}else{editSectionDetails(_176,_177,_178,desc);}}function createNewSection(_17a,_17b,desc){propHtml="";var _17d=csrfParamName;var _17e=csrfToken;var _17f=$(_17a).find("input[name=\"formid\"]").val();if(_17b.trim()==""){setErrorMessageInPopUp(_17a,"sectionErrorTr","sectionErrorDiv",i18n.sectionnameemptymsg);$("input[name=Submit]",_17a).removeAttr("disabled","");return;}var url=$(_17a).attr("action");var _181=$(_17a).find("input[name=\"isTabular\"]").val();var _182=$(_17a).find("input[id=\"gridType\"]:checked").val();var _183=$(_17a).find("input[id=\"inlineType\"]:checked").val();var _184=1;if(_183=="on"){_184=2;}var _185="formId="+_17f+"&sectionName="+_17b+"&desc="+desc+"&"+_17d+"="+_17e+"&isTabular="+_181+"&tabularType="+_184;$.post(url,_185,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error:")!=-1){var _187=data.replace("Error:","");setErrorMessageInPopUp(_17a,"sectionErrorTr","sectionErrorDiv",_187);$("input[name=Submit]",_17a).attr("disabled","");}else{closeDialog();$("#admin-right").html(data);window.scrollTo(0,document.body.scrollHeight);}}});}function disableSection(_188,_189,obj){var _18b=csrfParamName;var _18c=csrfToken;var _18d="sectionId="+_188+"&formId="+_189+"&"+_18b+"="+_18c;$.post("/people/DisableSection.do",_18d,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error:")!=-1){var _18f=data.replace("Error:","");showdisableSecMsg(_188,_18f);}else{$(obj).toggleClass("enable").toggleClass("dis");if(obj.className=="enable"){obj.parentNode.parentNode.parentNode.parentNode.className="disab";docid(_188).className="disab";$(obj).attr("title",i18n.general_enable);$(obj).attr("alt",i18n.general_enable);}else{if(obj.className=="dis"){obj.parentNode.parentNode.parentNode.parentNode.className="";docid(_188).className="";$(obj).attr("title",i18n.general_disable);$(obj).attr("alt",i18n.general_disable);}}}}});}function editSection(_190,_191,_192){$("tr[id=\"tabularType\"]").css("display","none");var html=$("#addSection").html();showDialog(html,"position=absolute, left=290, top=180, closeButton=no, modal=yes, height=500",null,removedrag);centerDialog("_DIALOG_LAYER");$("#sectiontitle","#_DIALOG_CONTENT").html("<span class=\"fr\"><a class=\"closeNew\" onclick=\"closeDialog()\" href=\"javascript:;\">&nbsp;</a></span>"+i18n.formedit_editsection);$("input[name=\"sectionname\"]").attr("value",_190);$("textarea[name=\"description\"]").attr("value",_191);$("input[name=\"sectionId\"]").attr("value",_192);}function editSectionDetails(_194,_195,_196,_197){propHtml="";var _198=csrfParamName;var _199=csrfToken;if(_196.trim()==""){setErrorMessageInPopUp(_194,"sectionErrorTr","sectionErrorDiv",i18n.sectionnameemptymsg);$("input[name=Submit]",_194).removeAttr("disabled");return;}var _19a="sectionId="+_195+"&sectionName="+_196+"&sectionDesc="+_197+"&"+_198+"="+_199;$.post("/people/EditSection.do",_19a,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error:")!=-1){var _19c=data.replace("Error:","");setErrorMessageInPopUp(_194,"sectionErrorTr","sectionErrorDiv",_19c);$("input[name=Submit]",formObj).attr("disabled","");}else{closeDialog();$("#admin-right").html(data);}}});}function setErrorMessageInPopUp(_19d,_19e,_19f,_1a0){$(_19d).find("#"+_19f).html(_1a0);$(_19d).find("#"+_19e).css("display","block");}function submitreordersection(_1a1,_1a2){propHtml="";var _1a3="";$("#_DIALOG_CONTENT tbody#reordersection").children().each(function(){var _1a4=$(this).attr("id");_1a3+=_1a4+",";});$(_1a2).attr("disabled","disabled");var _1a5="sectionOrder="+_1a3+"&formId="+_1a1+"&"+csrfParamName+"="+csrfToken;$.post("/people/UpdateSectionOrder.do",_1a5,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{closeDialog();$("#admin-right").html(data);}});}function changeFieldType(obj,_1a8){var _1a9=0;var _1aa=0;var _1ab="";_1a9=$("#"+_1a8+"headerTr").find("th").length;_1aa=$("#"+_1a8+"dataTr").attr("disabledfields");tabularSectionColCount=parseInt(_1a9)+parseInt(_1aa);if(_1a9>=10){alert(i18n.formedit_notaddmorethan10activetabularcol);return;}else{if(tabularSectionColCount>=16){alert(i18n.formedit_not16tabularcols);return;}}var _1ac=$(obj).attr("value");_1ac=parseInt(_1ac);var _1ad=true;addf(_1ac,_1a8,_1ad);}function editTabularField(_1ae,_1af){var _1b0=$("#input"+_1ae);var sel=_1b0.attr("comptype");var mand=_1b0.attr("mand");if(sel==SCRIPT){loadFields($("#"+_1af).attr("tabularformid"),false);}showf(parseInt(sel),_1ae,false,"true");$("#properties input[name=sectionId]").attr("value",_1af);$("#properties input[name=update]").attr("value",true);$("#properties input[name=fcid]").attr("value",_1ae);$("#properties input[name=fctype]").attr("value",sel);showfieldTypes(parseInt(sel));}function disablef(){var fcid=movrfcid;var _1b4=docid(fcid).parentNode.id;var _1b5=$("#"+fcid).find(".field-label-grey").length;if(_1b4.indexOf("formcontainer1")!=-1){_1b4=_1b4.replace("formcontainer1","");}else{_1b4=_1b4.replace("formcontainer","");}var _1b6=$("#"+_1b4).attr("isTabular");if(_1b6=="true"&&_1b5==1){var _1b7=getTabularFieldsCount(_1b4,true);var _1b8=getActivFieldsCount(_1b4,_1b7);if(_1b8>=10){alert(i18n.formedit_notenablemorethan10activetabularcol);return;}}askstate=true;var _1b9="formid="+fid+"&formCompid="+fcid;getHtml("/people/DisableFormField.do?","afterdisablef",fcid,"","","","",true,_1b9);fadeOut(fcid,150);return fcid;}function afterdisablef(txt,fcid){txt=trimString(txt);var f=docid(fcid);closeDialog();optfcid=null;fadeOutCall=false;var lab=docid("dispName"+fcid);var _1be=docid("input"+fcid);var _1bf=getA(_1be,"mand");var type=getA(_1be,"comptype");var _1c1=-1;if(txt=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{docid("actionsdiv").style.display="none";if(txt!=null&&txt!=""&&txt.length!=0){f.className=fmcls;docid("actionsdiv").style.display="block";if(txt=="disabled"){if(lab){if(type!=PLAIN_TEXT){if(_1bf=="true"){lab.className="red";}else{lab.className="field-label";$(lab).parent().next().children().css({"opacity":"1"});}}else{_1be.className="config-plaintext";}}}else{if(txt=="formula"){var _1c2=lab.innerHTML;var _1c3=i18n.formedit_fieldusedinformula;_1c3=_1c3.replace("$fieldName",_1c2).replace("$fieldName",_1c2);alert(_1c3);}else{if(txt=="lookup"){alert(i18n.disableandremove);}else{if(txt=="systemfield"){alert(i18n.disablesystemfield);}else{if(txt=="notpaiduser"){alert(i18n.zp_editfield_formulaenable);}else{if(lab){if(type!=PLAIN_TEXT){if(_1bf=="true"){lab.className="redDis";}else{lab.className="field-label-grey";$(lab).parent().next().children().css({"opacity":".5"});}}else{_1be.className="config-plaintext grey";}}}}}}}}else{alert(i18n.zp_editfield_systemfieldcantdisable);}}askstate=false;return;}function checkNumberFieldForTabular(obj,_1c5){var _1c6=false;for(i=0;i<myObjectArray.length;i++){var _1c7=myObjectArray[i]["isTabular"];var _1c8=""+myObjectArray[i]["sectionId"];if(_1c7=="true"&&_1c5==_1c8){if((myObjectArray[i]["UIType"]=="Number"||myObjectArray[i]["UIType"]=="Decimal"||myObjectArray[i]["UIType"]=="Date")&&myObjectArray[i]["isDisp"]==true){_1c6=true;}}}changeFieldType(obj,_1c5);}function customizeTabularSection(_1c9,_1ca){var _1cb="sectionId="+_1c9+"&formId="+_1ca;$.get("/people/FetchTabularFields.do",_1cb,function(data){if(data.indexOf("Error:")!=-1){var _1cd=data.replace("Error:","");showErrorMessage(_1cd);}else{showDialog(data,"position=absolute, left=290, top=180, closeButton=no, modal=yes, height=500",null,removedrag);centerDialog("_DIALOG_LAYER");var _1ce=$("tbody#tabularFields","#_DIALOG_LAYER").find("tr").length;if(_1ce>8){$("div#custTabSection","#_DIALOG_LAYER").css("height",300);}else{$("div#custTabSection","#_DIALOG_LAYER").css("height","auto");}}});}function changeStatusTabularField(obj,e){var _1d1=$(obj).parent().parent().parent();var _1d2=$("#cutomizeTabular_secId").attr("value");var _1d3=_1d1.attr("enable");var _1d4=_1d1.attr("id");var _1d5=$("#tabularFields").find("tr[class=row]").length;if(_1d3=="false"&&_1d5>=10){$(obj).removeAttr("checked");alert(i18n.formedit_notenablemorethan10activetabularcol);}else{var _1d6={"sectionId":_1d2,"attrId":_1d4,"operationType":"enablefield"};_1d6[csrfParamName]=csrfToken;$.post("/people/customizeTabularSection.do",_1d6,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("formula")!=-1){var _1d8=data.substring(7);var _1d9=i18n.formedit_fieldusedinformula;_1d9=_1d9.replace("$fieldName",_1d8).replace("$fieldName",_1d8);alert(_1d9);$(obj).attr("checked","checked");}else{if(_1d3=="false"||_1d3==false){toggleTabularFieldClass(_1d1,true);}else{toggleTabularFieldClass(_1d1,false);}}}});}}function toggleTabularFieldClass(obj,_1db){obj.toggleClass("disab");obj.attr("enable",_1db);}function closeTabulardialog(){propHtml="";var _1dc=$("#cutomizeTabular_formId").val();var _1dd="formId="+_1dc;$.post("/people/ShowFormEdit.do",_1dd,function(data){closeDialog();$("#admin-right").html(data);});}function ChangeTabularType(_1df,_1e0,_1e1){propHtml="";var _1e2=$("#"+_1df).prev("tr").find("div.sectionHead");var _1e3="formId="+_1e0+"&sectionId="+_1df+"&tabularType="+_1e1+"&"+csrfParamName+"="+csrfToken;$.post("/people/ChangeSectionType.do",_1e3,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _1e5=$("#admin-right");_1e5.html(data);var _1e6=_1e5.find("#insertfields");$(_1e6).prepend(_1e5.find(".contTop"));$("#infoMsgDiv").html(i18n.formedit_sectiontypechangedsuccessfullymsg);var _1e7=$("#"+_1df).prev("tr").find("div.sectionHead");var html="<div id='msgDiv' class='yellbox'>"+i18n.formedit_sectiontypechangedsuccessfullymsg+"</div>";_1e7.prepend($(html).show());setTimeout("$('#msgDiv').hide();",3000);}});}function getNextRelFields(obj){var _1ea=obj.parentNode.parentNode;_1ea.style.display="none";var _1eb=$(_1ea).attr("impFmId").split("_");var _1ec=$("tr#relfields div#"+_1eb[0]).attr("pages");if($(obj).hasClass("arrBrht")){if(_1eb[1]<_1ec){var _1ed=parseInt(_1eb[1])+1;$("tr#relfields").find("div[impfmId="+_1eb[0]+"_"+_1ed+"]").css("display","block");}}else{if(_1eb[1]<=_1ec){var _1ed=parseInt(_1eb[1])-1;$("tr#relfields").find("div[impfmId="+_1eb[0]+"_"+_1ed+"]").css("display","block");}}}function removeHelpSpan(_1ee){var _1ef=$("#"+_1ee).find("span.dragText");if(_1ef.length>0){$(_1ef).remove();}}function getFormFields(_1f0,fcid){if(_1f0==""||_1f0==null){var form=$("#importform option:selected");_1f0=$(form).attr("value");}var _1f3="";if(fcid){_1f3="formId="+_1f0+"&fcid="+fcid;}else{_1f3="formId="+_1f0;}var _1f4=$("#importform option[value="+_1f0+"]");$(_1f4).attr("selected","true");$.ajax({type:"GET",url:"/people/FetchLookupFields.do",data:_1f3,success:function(data){var _1f6=document.createElement("div");_1f6.id="lookuplistdiv";_1f6.value="valdiv";_1f6.innerHTML=data;var _1f7=$(_1f6).find("select#lookupfieldslist").html();$("select#import").html(_1f7);var _1f8=$(_1f6).find("div[id='relfieldslist']").html();$("td#relfieldList").html(_1f8);$("label#namedisp").text(i18n.selectrelatedfields+" "+$(_1f4).text()+":");}});}function addOrRemoveHelpText(_1f9,_1fa){$(_1f9).each(function(){var _1fb=$(this).parent().find("div").length;var _1fc=$(this).find("span");if(_1fb==4){if(_1fc.length==0){$(this).append("<span class=\"dragText\">"+i18n.dragdropfields+"</span>");}}else{if(_1fc.length==1){$(_1fc).remove();}}});}function displayInitialValue(_1fd){if(_1fd==6){docid("autofillivalue").style.display=rowdisp;}else{docid("autofillivalue").style.display="none";docid("autofillinitvalue").value="";}}function displayDateInitialValue(_1fe){if(_1fe==6){docid("autofilldateivalue").style.display=rowdisp;}else{docid("autofilldateivalue").style.display="none";docid("autofilldateinitvalue").value="";}}function showdisableSecMsg(_1ff,_200){var _201="#errorMsgDiv";$(_201).css("display","inline");$(_201).html(_200);var _202=$("tr#"+_1ff).prev().children("td").children("div").before();_202.append($(_201).fadeOut(3000));}function openEditFormPopup(){var _203=$("#formPropertyEditPopup");var data="<div class=\"menu-div outerbox\"  id=\"formPropertyEditPopup\">"+_203.html()+"</div>";showfeebackdiv(data);var _205=$("#selectedCustForm");var _206=$(_205).attr("formname");var _207=$(_205).attr("formdesc");var _208=$(_205).attr("formid");$("#_DIALOG_LAYER").find("input#editFormName").attr("value",_206);$("#_DIALOG_LAYER").find("input#editFormName").attr("formid",_208);$("#_DIALOG_LAYER").find("textarea#editFormDesc").text(_207);}function editFormProperty(elm,_20a){var _20b=$(elm).parents("table.popup-inner-table");if(_20b){var _20c=_20b.find("#editFormName").attr("value").trim();var desc=_20b.find("#editFormDesc").attr("value").trim();var _20e="";var flag=false;if(_20c==null||_20c.length==0){flag=true;_20e=i18n.tabform_notempty;}else{if(_20c.length>=100){flag=true;_20e=i18n.tabform_validname;}}if(desc.length>100){_20e=i18n.tabform_validformdesc;flag=true;}if(flag){_20b.find("#editFormErrorDiv").html(_20e).show();return;}else{var _210="formid="+_20a+"&formlabel="+encodeURIComponent(_20c)+"&operation=renameform"+"&"+csrfParamName+"="+csrfToken+"&formDesc="+desc;$.post("/people/tabCustOperations.do",_210,function(data){var _212=$("#selectedCustForm");_212.text(_20c);_212.attr("formname",_20c);_212.attr("formdesc",desc);_212.attr("formid",_20a);$("#alertformSelectId").find("b").text(_20c);cancelpopup("formPropertyEditPopup");});}}}var colorId="";function showColorDialog(_213){var _214=docid("color_div");_214.style.display="block";colorId=_213;if(_213=="plaintxt"){docid("clrpickrow").style.display=rowdisp;}}var prevColor="000000";var prevBkColor="000000";var is_bkcolor=0;function View(_215){docid("ColorPreview").style.backgroundColor="#"+_215;docid("ColorHex").value="#"+_215;}function setPrevColor(_216){docid("PrevColor").style.backgroundColor="#"+_216;}function Set(_217){var _218=ValidateColor(_217);if(_218==null){alert("Invalid color code: "+_217);}else{View(_218);setPrevColor(_218);if(docid(colorId+"color")){docid(colorId+"color").value=_218;}if(colorId=="header"){var _219=docid("hdrprivclr");_219.bgColor=_218;var _21a=docid(colorId+"clrpicker");_21a.style.backgroundColor=_218;}else{if(colorId=="border"){var _21b=docid("bdrprivclr");_21b.style.borderColor="#"+_218;var _21c=docid(colorId+"clrpicker");_21c.style.backgroundColor=_218;}}if(colorId=="header_embedform"){document.getElementById("field2_embedform").style.color="#"+_218;document.getElementById("field3_embedform").style.color="#"+_218;document.getElementById("headercolor_embedform").value="#"+_218;widget.submitembed();}else{if(colorId=="border_embedform"){document.getElementById("field1_embedform").style.backgroundColor="#"+_218;document.getElementById("field2_embedform").style.backgroundColor="#"+_218;document.getElementById("field3_embedform").style.backgroundColor="#"+_218;document.getElementById("bgrndcolor_embedform").value="#"+_218;widget.submitembed();}else{if(colorId=="section_embedform"){document.getElementById("sectiontext_embedform").style.color="#"+_218;document.getElementById("sectiontextcolor_embedform").value="#"+_218;widget.submitembed();}}}if(colorId=="viewhdr"){if(docid(colorId+"privclr")){docid(colorId+"privclr").bgColor=_218;}var _21a=docid(colorId+"clrpicker");_21a.style.backgroundColor=_218;if(docid("calhdrprivclr")){docid("calhdrprivclr").bgColor=_218;}if(docid("sumryhdrprivclr")){docid("sumryhdrprivclr").bgColor=_218;}}else{if(colorId=="viewbdr"){if(docid(colorId+"privclr")){docid(colorId+"privclr").style.borderColor="#"+_218;}var _21c=docid(colorId+"clrpicker");_21c.style.backgroundColor=_218;if(docid("calbdrprivclr")){docid("calbdrprivclr").style.borderColor="#"+_218;}if(docid("sumrybdrprivclr")){docid("sumrybdrprivclr").style.borderColor="#"+_218;}}else{if(colorId=="calBg"){var _21d=docid(colorId+"clrpicker");_21d.style.backgroundColor=_218;var _21e=docid(colorId+"privclr");_21e.style.backgroundColor=_218;var _21f=docid(colorId+"privclr1");_21f.style.backgroundColor=_218;var _220=docid(colorId+"privclr2");_220.style.backgroundColor=_218;}else{if(colorId=="calgrid"){var _221=docid(colorId+"clrpicker");_221.style.backgroundColor=_218;var _222=docid(colorId+"privclr");_222.style.backgroundColor=_218;}else{if(colorId=="labelbg"){docid(colorId+"clrpicker").style.backgroundColor=_218;docid(colorId+"privclr").style.backgroundColor=_218;docid(colorId+"privclr1").style.backgroundColor=_218;}else{if(colorId=="altrow"){docid(colorId+"clrpicker").style.backgroundColor=_218;docid(colorId+"privclr").style.backgroundColor=_218;}}}}}}if(colorId=="header"||colorId=="border"){generateSnippet();}if(colorId=="viewhdr"||colorId=="viewbdr"||colorId=="calBg"||colorId=="calgrid"||colorId=="labelbg"||colorId=="altrow"){if(docid("readsnippet"+vilinkId).style.display=="none"){genJsSnippet();}else{genViewSnippet();}}if(colorId=="plaintxt"){TE.exec("forecolor",false,_218);}closePicker();}}function ValidateColor(_223){_223=_223||"";_223=_223+"";_223=_223.toUpperCase();var _224="0123456789ABCDEF";var out="";for(var i=0;i<_223.length;i++){var _227=_223.charAt(i);if(_224.indexOf(_227)!=-1){out+=_227;}}if(out.length!=6){return null;}return out;}function closePicker(){docid("color_div").style.display="none";if(colorId=="plaintxt"){docid("clrpickrow").style.display="none";}}function showColorDialoginEmbedForm(_228){var _229=docid("color_div");_229.style.display="block";colorId=_228;}function widget(){}widget.submitembed=function(){var url=document.embedformsettings.url.value;var _22b=document.embedformsettings.digest.value;var font=document.embedformsettings.fontstyle_embedform.value;var _22d=document.embedformsettings.bgrndcolor_embedform.value;var _22e=document.embedformsettings.headercolor_embedform.value;var _22f=document.embedformsettings.sectiontextcolor_embedform.value;_22d=_22d.substring(1,_22d.length);_22e=_22e.substring(1,_22e.length);_22f=_22f.substring(1,_22f.length);var uri="/people/embedLiveFormHeader.hr?digest="+_22b+"&font="+font+"&bgrndcolor="+_22d+"&headercolor="+_22e+"&sectionheadercolor="+_22f;url=url+uri;var _231=document.getElementById("embednewform");_231.value="<iframe style='overflow:auto;width:100%;height:500px;' frameborder='0' border='0' src='"+url+"'></iframe>";document.getElementById("embednewform").style.display="inline";};
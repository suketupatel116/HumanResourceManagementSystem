var ZCView=new function(){this.reloadCurrView=true;this.uniqueID=null;this.viewArr=[];this.newviewArr=[];this.viewLinkName=null;this.viewLinkId=null;this.viewFrom="LIVEVIEW";this.profileErecNo=null;this.addToViewArr=function(_1,_2,_3,_4){this.viewLinkName=_2;this.viewLinkId=_4;_1=_1.substring(1,_1.length-1);_1=ZCUtil.getParamsAsMap(_1,",","=");this.viewArr[_2]=_1;this.newviewArr[_4]=_1;};this.showSubMenu=function(_5,_6){ZCUtil.showSubMenu(_5.parentNode,$(_5.parentNode).find("div[elName="+$(_5.parentNode).attr("subMenuName")+"]")[0],_6);};this.hideSubMenu=function(_7,_8){ZCUtil.hideSubMenu(_7.parentNode,$(_7.parentNode).find("div[elName="+$(_7.parentNode).attr("subMenuName")+"]")[0],_8);};this.getViewCont=function(_9){if(this.mode=="FROMPROFILE"){return $("#"+Layout.containerid).find("div#profile-"+this.viewLinkId).find("#zc-viewcontainer_"+_9);}else{return $("#"+Layout.containerid).find("#zc-viewcontainer_"+_9);}};this.regViewEvents=function(_a,_b,_c){this.viewFrom=_c;var _d={};var _e=null;if(_c=="LIVEVIEW"){_e=$("#"+Layout.containerid);var _f=$(_e).children("div");var _10=$(_f)[0];var _11=$(_f)[1];var _12=$(_11).find("table#zpeople-listviewtable").parent("div#listViewDataDiv");_d={"viewCont":_e,"leftContentDiv":_10,"rightContentDiv":_11,"dataTableDiv":_12};var _13=$(_10).children("div#viewNamesDiv");var _14=$(_13).find("ul");_d["viewNamesDiv"]=_13;$(_14).children("li").each(function(_15){var _16=$(this).children("div.cusdelete,div.cusview,div.cusedit");$(this).mouseover(function(){$(_16).css("visibility","visible");});$(this).mouseout(function(){$(_16).css("visibility","hidden");});});var _17=$(_11).height();if(_17>400){$(_10).find("div.cuspanel").css("min-height",_17);}this.changeViewDisplay(_10,_13,_12);}else{if(_c=="FROMPROFILE"){_e=$("#"+Layout.containerid).find("div#profile-"+this.viewLinkId);_d={"viewCont":_e};}}$(_e).unbind("click");$(_e).click(function(_18){var el=$(_18.target);ZCView.uniqueID=_a;return ZCView.processEvent(el,_b,_18,_d);});var _1a=$(_e).find("div[elName=zc-moreactionsel]");$(_1a).mouseover(function(_1b){$(_1a)[0].className="zc-view-moreactions-hover";ZCApp.hideAndStopPropogation(_1b);});$(_1a).mouseout(function(_1c){$(_1a)[0].className="zc-view-moreactions";ZCApp.hideAndStopPropogation(_1c);});$(_e).find("table[elName=zc-viewtable]").find(":input[fieldType="+ZCConstants.DATE+"], :input[fieldType="+ZCConstants.DATE_TIME+"]").each(function(){ZCView.showCalendar(this);});};this.changeViewDisplay=function(_1d,_1e,_1f){var _20=Layout.getCookieValue("zp_viewStatus");var _21=$(_1e).children();var _22=$(_1f).width();if(_20&&_20==="hideLeftCnt"){$(_1f).width(_22<1100?1240:_22);$(_21[0]).css("display","none");$(_21[1]).css("display","none");$(_21[2]).css("display","block");}else{$(_21[0]).css("display","block");$(_21[1]).css("display","block");$(_21[2]).css("display","none");$(_1f).width(_22>1100?985:_22);}};this.showCalendar=function(el){var _24=$(el).attr("id");var _25="dateButtonEl_"+_24.substr(_24.indexOf("_")+1);var _26=($(el).attr("fieldType")==ZCConstants.DATE_TIME)?true:false;var _27=_26?ZCApp.dateFormat+" "+ZCConstants.TIME_FORMAT:ZCApp.dateFormat;ZCForm.setUpCalendar(_24,_25,_27,_26);};this.processEvent=function(el,_29,_2a,_2b){var _2c=true;var _2d=$(el).attr("elName");var _2e=_2b["viewCont"];ZCView.hideViewMenus(_2a,_2e);if(_2d=="zc-viewPaginationEl"){ZCView.paginateView(el,_29);}else{if(_2d=="zc-showEditFormEl"){_2c=ZCView.showEditForm(el,_29,ZCConstants.VIEW_EDIT_FORM);}else{if(_2d=="zc-deleteRecordEl"){ZCView.deleteRecord(el,_29,false);}else{if(_2d=="zc-bulkdeleteEl"){ZCView.deleteRecord(el,_29,true);}else{if(_2d=="zc-viewRecordHistoryEl"){ZCView.showHistory(el,_29);}else{if(_2d=="zc-viewRecordPrintPreview"){ZCView.showPrintPreview(el,_29);}else{if(_2d=="zc-showRecordEl"){_2c=ZCView.showEditForm(el,_29,ZCConstants.VIEW_SINGLE_RECORDVIEW);}else{if(_2d=="zc-showViewSearchEl"){ZCView.showSearch(_29);}else{if(_2d=="zc-hideViewSearchEl"){ZCView.cancelSearch(el,_29);}else{if(_2d=="zc-recSelectionEl"){ZCView.checkRecord(el,_29);}else{if(_2d=="zc-selectAllRecsEl"){ZCView.checkRecSelection(el,_29);}else{if(_2d=="zc-searchViewEl"){ZCView.searchView(el,_29);}else{if(_2d=="zc-getRecordCountEl"){ZCView.showRecordCount(el,_29);}else{if(_2d=="zc-sortViewEl"){ZCView.sortView($(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"),$(el).attr("isAsc"),_29);}else{if(_2d=="zc-groupViewEl"){ZCView.groupView($(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"),$(el).attr("isAsc"),_29);}else{if(_2d=="zc-removegroupingel"){ZCView.removeOrderBy("groupBy",$(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"),_29);}else{if(_2d=="zc-removesortingel"){ZCView.removeOrderBy("sortBy",$(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"),_29);}else{if(_2d=="zc-searchcolEl"){ZCView.showSearch(_29,$(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"));}else{if(_2d=="zc-hideViewColEl"){ZCView.hideColumn(_29,$(_2e).find("div[elName=zc-viewheaderoptionsdiv]").attr("delugeName"));}else{if(_2d=="zc-moreactionsel"){ZCView.showMoreActions(el,_29);}else{if(_2d=="zc-viewrowheader"||_2d=="zc-viewheaderarrow"||_2d=="zc-viewrowheaderdiv"||_2d=="zc-viewrowheaderdivdmy"){ZCView.showColHdrMenu(el,_29);}else{if(_2d=="zc-viewlisting"){ZCView.showViewListing(el,_29);}else{if(_2d=="zc-viewrecordoptions"){ZCView.showViewRecordOptions(el,_29);}else{if(_2d=="zc-liveapprovalstatus"){ZCView.showApprovalListing(el,_29);}else{if(_2d=="zc-showRecordCheckListEl"){ZCView.showCheckListDetail(el,_29);}else{if(_2d=="zp-showImportExport"){$(el).next("div.dropDownMenu").css("visibility","visible");}else{if(_2d=="zp-minimizeLftCnt"||_2d=="zp-maximizeLftCnt"){this.toggleViewSize(_2d,_2b);}}}}}}}}}}}}}}}}}}}}}}}}}}}ZCApp.hideAndStopPropogation(_2a);return _2c;};this.toggleHdrArrow=function(el){var _30=$(el).find("label[elName=zc-viewheaderarrow]")[0];var _31=(_30.style.visibility=="hidden")?"visible":"hidden";_30.style.visibility=_31;};this.showColHdrMenu=function(el,_33){var _34=this.viewArr[_33];var _35=this.getViewCont(_33);if(($(el).attr("elName")=="zc-viewheaderarrow")&&($(el).attr("elNameTy")=="tr")){el=ZCUtil.getParent(el,"th[elName=zc-viewrowheader]");}if($(el).attr("elName")=="zc-viewrowheaderdiv"){el=ZCUtil.getParent(el,"th[elName=zc-viewrowheader]");}if($(el).attr("elName")=="zc-viewrowheaderdivdmy"){el=ZCUtil.getParent(el,"div[elName=zc-viewrowheader]");}if(($(el).attr("elName")=="zc-viewheaderarrow")&&($(el).attr("elNameTy")=="dv")){el=ZCUtil.getParent(el,"div[elName=zc-viewrowheader]");}var _36=$(el).attr("delugeName");var _37=$(_35).find("tr[elName1=zc-lockViewSubMenuEl]");var _38=$(_35).find("div[elName=zc-viewheaderoptionsdiv]");$(_38).attr("inpgridtype","");if(_37.length>0){$(_37)[0].style.display="none";if($(el).attr("inpgridtype").length>0){$(_37)[0].style.display="";$(_38).attr("inpgridtype",$(el).attr("inpgridtype"));}}var _39=$(el).attr("comptype");var _3a=$(_35).find("tr[elName1=zc-filterSubMenuEl]");$(_3a)[0].style.display=($(el).attr("showAutoFilter")=="true")?"":"none";$(_3a).attr("subMenuName","zc-fiterSubMenu-"+$(el).attr("labelName"));$(_38).attr("delugeName",_36);var _3b=$(_35).find("tr[subMenuName=zc-sortSubMenu]");var _3c=$(_35).find("tr[subMenuName=zc-groupSubMenu]");if(_39==IMAGE||_39==FILE_UPLOAD){$(_3b)[0].style.display="none";$(_3c)[0].style.display="none";}else{$(_3b)[0].style.display="";$(_3c)[0].style.display="";}var _3d=ZCUtil.getFromMap(_34,"filterVal");var _3e=_3d.indexOf(":");if(_3e!=-1){var _3f=_3d.substring(0,_3e);var _40=_3d.substr(_3e+1);if(_3f==_36){var _41=$(_38).find("div[elName=zc-fiterSubMenu-"+$(el).attr("labelName")+"]");$(_41).find("td[filterVal="+_3d+"]").html("<B>"+$(_41).find("td[filterVal="+_3d+"]").html()+"</B>");}}ZCView.resetHdrOptions(_38);ZCView.markOrderBy(_34,_38,_36,"group");ZCView.markOrderBy(_34,_38,_36,"sort");if($(_35).find("#zpeople-viewheaderrowdummydiv").css("display")=="none"){$(_38).css("position","absolute");$(_38).removeClass("fieldOptionsdiv");}else{$(_38).css("position","fixed");$(_38).addClass("fieldOptionsdiv");}ZCUtil.showDropDownMenu(el[0],$(_38)[0]);};this.showMoreActions=function(el,_43){var _44=ZCView.getViewCont(_43);var _45=ZCUtil.getParent(el,"div");_45=$(_45).attr("elName")=="zc-moreactionsel"?_45:el;$(_45).parent("div[class=normalDropDown]").attr("class","clickDropDown");ZCUtil.showDropDownMenu(_45[0],$(_44).find("div[elName=zc-viewOptionsDIV]")[0]);};this.showViewListing=function(el,_47){var _48=ZCView.getViewCont(_47);var _49=ZCUtil.getParent(el,"div");_49=$(_49).attr("elName")=="zc-viewlisting"?_49:el;$(_49).parent("div[class=normalDropDown]").attr("class","clickDropDown");ZCUtil.showDropDownMenu(_49[0],$(_48).find("div[elName=zc-viewlistingmenu]")[0]);};this.showApprovalListing=function(el,_4b){var _4c=ZCView.getViewCont(_4b);var _4d=ZCUtil.getParent(el,"div");_4d=$(_4d).attr("elName")=="zc-liveapprovalstatus"?_4d:el;$(_4d).parent("div[class=normalDropDown]").attr("class","clickDropDown");$(_4c).find("div[elName=zc-liveapprovalstatusmenu]").show();};this.showCheckListDetail=function(el,_4f){window.location.href="/people/home/checklist/record/view#recordId:"+$(el).attr("recpkid");return false;};this.showViewRecordOptions=function(el,_51){var _52=ZCView.getViewCont(_51);var _53=ZCUtil.getParent(el,"div");_53=$(_53).attr("elName")=="zc-viewrecordoptions"?_53:el;var _54="table[elname=zc-viewtable]";$(_54).find("div[class=indIconC]").attr("class","indIcon");$(_54).find("div[optionsmenu]").hide();$(_53).attr("class","indIconC");var _55=$(_53).attr("recordId");$(_52).find("div[optionsmenu="+_55+"]").show();};this.resetHdrOptions=function(_56){$.each($(_56).find("div[elName=zc-groupSubMenu],div[elName=zc-sortSubMenu]"),function(_57,div){$.each($(div).find("table[elName=zc-subtable]").find("td"),function(_59,td){var _5b=$(td).attr("isAsc");if(_5b){$(td).html((_5b=="true")?"Asc":"Desc");}else{ZCUtil.getParent(td,"tr")[0].style.display="none";}});});};this.markOrderBy=function(_5c,_5d,_5e,_5f){var _60=ZCUtil.getFromMap(_5c,_5f+"By");$.each(_60.split(";"),function(_61,_62){var _63=_62.substring(0,_62.indexOf(":"));var _64=_62.substr(_62.indexOf(":")+1);if(_63==_5e){var _65=$(_5d).find("div[elName=zc-"+_5f+"SubMenu]");$(_65).find("td[isAsc="+_64+"]").html("<B>"+$(_65).find("td[isAsc="+_64+"]").html()+"</B>");ZCUtil.getParent($(_65).find("td[elName=zc-remove"+_5f+"ingel]"))[0].style.display="";}});};this.hideViewMenus=function(e,_67){if(_67==null){_67=$("td[id^=\"zc-viewcontainer_\"]");}ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewheaderoptionsdiv]")[0]);ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewOptionsDIV]")[0]);ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewactionsdiv]")[0]);ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewaddcoldiv]")[0]);ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewsavediv]")[0]);ZCUtil.hideMenu($(_67)[0],$(_67).find("div[elName=zc-viewlistingmenu]")[0]);$(_67).find("a[elName=zp-liveapprovalstatusmenu]").next("div.dropDownMenu").css("visibility","hidden");$(_67).find("a[elName=zp-showImportExport]").next("div.dropDownMenu").css("visibility","hidden");var _68=$(_67).find("div[class=indIconC]");$(_68).attr("class","indIcon");var _69=$(_68).attr("recordId");ZCUtil.hideMenu($(_67)[0],$(_67).find("div[optionsmenu="+_69+"][elName=zc-viewrecordoptionsmenu]")[0]);$(_67).find("div[class=clickDropDown]").attr("class","normalDropDown");hideOnlyHeaderMenus();hidePopupDiv(e);hideSearchDropDownMenus();hideTabMoreMenus();};this.saveView=function(el,_6b){var _6c=this.viewArr[_6b];var _6d=ZCUtil.getParamsFromMap(_6c);var _6e=ZCUtil.getParent(el,"div[elName=zc-view-save-dialog-div]");var _6f=ZCUtil.getFromMap(_6c,"viewDispName");if(_6e.find("input[elName=zc-view-save-new-chkbox]").is(":checked")||(ZCApp.sharedBy!=ZCApp.loginUser&&ZCApp.loginUser!=ZCApp.appOwner)){_6f=$(_6e).find("input[elName=zc-view-save-name-ip]").val();_6d=_6d+"&isNewView=true&newViewName="+encodeURIComponent(_6f);}closeDialog();ZCUtil.sendRequest("/saveNewView.do",_6d,"json","ZCView.handleSaveViewResponse","",i18n.saving+_6f);};this.hideColumn=function(_70,_71){var _72=this.viewArr[_70];ZCUtil.setInMap(_72,"showColumns",ZCUtil.replaceInParam(ZCUtil.getFromMap(_72,"showColumns"),_71,"",true));var _73=ZCUtil.getFromMap(_72,"hideColumns")+_71+";";ZCUtil.setInMap(_72,"hideColumns",_73);ZCView.showView(_72);};this.showHideColumns=function(el,_75){var _76=this.viewArr[_75];var _77=ZCUtil.getParent(el,"div[elName=zc-view-hidden-cols-dialog-div]");var _78=$(_77).find("table[elName=zc-view-hidden-cols-table]");var _79="";var _7a="";$.each($(_78).find(":input[type=checkbox]"),function(_7b,_7c){ZCUtil.removeFromMap(_76,"hideColumns");ZCUtil.removeFromMap(_76,"showColumns");var _7d=$(_7c).val();if($(_7c).is(":checked")){_79=_79+_7d+";";}else{_7a=_7a+_7d+";";}});ZCUtil.setInMap(_76,"showColumns",_79);ZCUtil.setInMap(_76,"hideColumns",_7a);ZCView.showView(_76);closeDialog();};this.showRecordCount=function(el,_7f){var _80=this.viewArr[_7f];var _81="all";var _82=window.location.href;var _83=_82.split("typeOfView:")[1];if(_83){var _84=_83.indexOf("/");_81=_83.substring(0,_84);}var _85=ZCUtil.getParamsFromMap(_80)+"&typeOfView="+_81;ZCUtil.sendRequest("/people/getRecordCount.do",_85,"json","ZCView.handleRecCountResp",i18n.fetchCount);};this.handleRecCountResp=function(_86,_87){var _88=ZCUtil.getFromMap(_87,"viewLinkName");var _89=ZCView.getViewCont(_88);var _8a=$(_89).find("span[elName=zc-countHold]");var _8b=$(_8a).find("a[elName=zc-getRecordCountEl]");var _8c=$(_8a).find("span[elName=zc-countTargetEl]");var _8d=ZCUtil.parseJSONResponse(_86);var _8e=_8d["totalRec"];var _8f=_8d["errorMsg"];if(ZCUtil.isNull(_8f)){$(_8b).hide();$(_8c).append(_8e);$(_8c).show();}else{alert(i18n.errormsg);}};this.showSearch=function(_90,_91){var _92=ZCView.getViewCont(_90);var _93=$(_92).find("tr[elName=zc-viewsearchrow2]");var _94=$(_92).find("th[elName=dummySearchHeaderColumn]");if($("#zpeople-viewheaderrowdummydiv").css("display")!="none"){$(document).scrollLeft(0);$(document).scrollTop(0);}if(_93.css("display")=="none"){$(_92).find("tr[elName=zc-viewsearchrow1]").show();$(_93).show();if(_91){$(_93).find("input[delugeName="+_91+"]")[0].focus();}$(_94).show();}else{ZCView.hideSearch(_90);$(_94).hide();}};this.hideSearch=function(_95){var _96=ZCView.getViewCont(_95);$(_96).find("tr[elName=zc-viewsearchrow1]").hide();$(_96).find("tr[elName=zc-viewsearchrow2]").hide();$(_96).find("th[elName=dummySearchHeaderColumn]").hide();};this.cancelSearch=function(el,_98){var _99=this.viewArr[_98];var _9a=ZCUtil.getFromMap(_99,"openSearch");if(_9a=="true"){ZCUtil.setInMap(_99,"fromIDX",1);ZCUtil.setInMap(_99,"searchCrit",false);ZCUtil.setInMap(_99,"openSearch",false);ZCView.showView(_99);}else{ZCView.hideSearch(_98);}};this.handleOper=function(el,_9c){var _9d=$(el).attr("elName");var _9e=_9d.substr(0,_9d.length-3);var _9f=$(el).val();var _a0=ZCView.getViewCont(_9c).find("tr[elName=zc-viewsearchrow2]");if(_9f==58){_a0.find("div[elName=zc-regularSearch]").find(":input[delugeName="+_9e+"]").hide();_a0.find("div[elName=zc-rangeSearch]").find("div[elName="+_9e+"]").fadeIn("slow");_a0.find(":input[delugeName="+_9e+"]").attr("disabled",false);}else{var _a1=((_9f>=ZCConstants.EMPTY&&_9f<=ZCConstants.CURRENT_NEXT_YEAR)||_9f==-1)?true:false;var _a2=_a0.find("div[elName=zc-regularSearch]").find(":input[delugeName="+_9e+"]");$(_a2).parent().fadeIn("slow");$(_a2).fadeIn("slow");_a0.find("div[elName=zc-rangeSearch]").find("div[elName="+_9e+"]").hide();_a0.find(":input[delugeName="+_9e+"]").attr("disabled",_a1);}};this.searchView=function(el,_a4){var _a5=false;var _a6=this.viewArr[_a4];var _a7=ZCView.getViewCont(_a4);var _a8=ZCConstants.BETWEEN;var _a9;$.each($(_a7).find("div[elName=zc-regularSearch] input"),function(idx,_ab){var _ac=$(_ab).attr("delugeName");var _ad=encodeURIComponent($.trim($(_ab).val()));var _ae=$(_a7).find("select[elName="+_ac+"_op]").val();var _af=$(_ab).attr("fieldtype");if(!ZCUtil.isNull(_ad)&&((_af==NUMBER&&!isValidNumber(_ad))||(_af==DECIMAL||_af==CURRENCY)&&!IsNumeric(_ad))){alert(i18n.view_numalertmsg);_a5=false;return false;}else{if(!ZCUtil.isNull(_ad)||(_ae>=ZCConstants.EMPTY&&_ae<ZCConstants.BETWEEN)){_a5=true;}}ZCView.setOrRemoveFromMap(_a6,_ac,_ad,_ae);});$.each($(_a7).find("div[elName=zc-rangeSearch] div"),function(idx,_b1){var _b2=null;var _b3=false;var _b4=$(_b1).attr("elName");var _b5=$(_a7).find("select[elName="+_b4+"_op]").val();if(_b5==ZCConstants.BETWEEN){var _b6="";$(_b1).find("input").each(function(){var _b7=encodeURIComponent($.trim($(this).val()));var _b8=$(this).attr("fieldtype");if(!ZCUtil.isNull(_b7)&&(_b8==DATE||_b8==DATE_TIME||(_b8==NUMBER&&isValidNumber(_b7))||(_b8==DECIMAL||_b8==CURRENCY)&&IsNumeric(_b7))){if(ZCUtil.isNull(_b2)){_b2=_b7;}else{_b2=_b2+";"+_b7;}}else{_b3=true;if(_b8==DATE||_b8==DATE_TIME){_b6=i18n.view_datealertmsg;}else{_b6=i18n.view_numalertmsg;}return false;}});if(_b3){_a5=false;_b2=null;alert(_b6);return false;}if(!ZCUtil.isNull(_b2)){if(_b2.indexOf(";")==-1){_b2=_b2.substring(_b2.indexOf(";")+1);_a8=ZCConstants.LESS_EQUAL;}else{if(ZCUtil.isNull(_b2.substring(_b2.indexOf(";")+1))){_b2=_b2.substring(0,_b2.indexOf(";"));_a8=ZCConstants.GREATER_EQUAL;}}_a5=true;ZCView.setOrRemoveFromMap(_a6,_b4,_b2,_a8);}}});if(_a5){ZCUtil.setInMap(_a6,"fromIDX",1);ZCUtil.setInMap(_a6,"searchCrit",true);ZCUtil.setInMap(_a6,"openSearch",true);ZCView.showView(_a6);}};this.setOrRemoveFromMap=function(_b9,_ba,_bb,_bc){if(!ZCUtil.isNull(_bb)||(_bc>=ZCConstants.EMPTY&&_bc<=ZCConstants.BETWEEN)){if(!ZCUtil.isNull(_bb)){ZCUtil.setInMap(_b9,_ba,_bb);}ZCUtil.setInMap(_b9,_ba+"_op",_bc);}else{ZCUtil.removeFromMap(_b9,_ba);ZCUtil.removeFromMap(_b9,_ba+"_op");}};this.sortView=function(_bd,_be,_bf){var _c0=_bd+":"+_be;var _c1=this.viewArr[_bf];var _c2=ZCUtil.getFromMap(_c1,"sortBy");var _c3=ZCUtil.getFromMap(_c1,"groupBy");_bd=_bd+":";if(_c3&&_c3.indexOf(_bd)!=-1){_c0=_c2;ZCUtil.setInMap(_c1,"groupBy",ZCUtil.replaceInParam(_c3,_bd,_be));}else{if(_c2&&_c2.indexOf(_bd)!=-1){_bd=_bd.substring(0,_bd.indexOf(":"));_c0=ZCUtil.replaceInParam(_c2,_bd,_be);}else{if(_c2){_c2=(_c2.substr(_c2.length-1)!=";")?_c2+";":_c2;_c0=_c2+_c0;}}}if(_c0!=""){ZCUtil.setInMap(_c1,"sortBy",_c0);}ZCUtil.setInMap(_c1,"fromIDX",1);ZCView.showView(_c1);};this.groupView=function(_c4,_c5,_c6){var _c7=_c4+":"+_c5;var _c8=this.viewArr[_c6];var _c9=ZCUtil.getFromMap(_c8,"sortBy");var _ca=ZCUtil.getFromMap(_c8,"groupBy");var _cb="";var _cc=new Array();var _cd=new Array();var _ce=new Array();$.each(_ca.split(";"),function(_cf,_d0){var _d1=(_d0.indexOf(":")!=-1)?_d0.substring(0,_d0.indexOf(":")):_d0;_cc[_cf]=_d1;_cd[_cf]=_d0;});if(_c9&&_c9.indexOf(_c4)!=-1){ZCUtil.setInMap(_c8,"sortBy",ZCUtil.replaceInParam(_c9,_c4,_c5,true));if(_ca!=""){_c7=_ca+";"+_c7;}}else{if(_ca){var cnt=0;var _d3=0;for(i=0;i<_cc.length;i++){if(_cc[i]==_c4){_c7=ZCUtil.replaceInParam(_cd[i],_c4,_c5);_ce[cnt]=_c7;_d3++;}else{_ce[cnt]=_cd[i]+";";}cnt++;}for(i=0;i<_ce.length;i++){_cb+=_ce[i];}if(_d3==0){if((_cb.charAt(_cb.length-1)==";")&&(_cb.charAt(_cb.length-2)==";")){_cb=_cb.substring(0,_cb.length-1);}_c7=_cb+_c7;}else{_c7=_cb;}if((_c7.charAt(_c7.length-1)==";")){_c7=_c7.substring(0,_c7.length-1);}}}if(_c7!=""){ZCUtil.setInMap(_c8,"groupBy",_c7);ZCUtil.setInMap(_c8,"showColumns",ZCUtil.replaceInParam(ZCUtil.getFromMap(_c8,"showColumns"),_c4,"",true));}ZCUtil.setInMap(_c8,"fromIDX",1);ZCView.showView(_c8);};this.removeOrderBy=function(_d4,_d5,_d6){var _d7=this.viewArr[_d6];ZCUtil.setInMap(_d7,_d4,ZCUtil.replaceInParam(ZCUtil.getFromMap(_d7,_d4),_d5,"",true));ZCView.showView(_d7);};this.paginateView=function(el,_d9){var _da=$(el).attr("showPage");var _db=this.viewArr[_d9];ZCUtil.setInMap(_db,"showPage",$(el).attr("showPage"));ZCView.showView(_db);};this.sortbyApproval=function(el,_dd){var _de=$(el).attr("appStatus");var _df=this.viewArr[_dd];loadFormAndViewPages("liveView",ZCUtil.getFromMap(_df,"viewID"),ZCUtil.getFromMap(_df,"viewFormID"),"",_de);};this.limitViewRecords=function(el,_e1,_e2){var _e1=ZCView.viewLinkName;var _e3=Layout.findHash();var _e2=_e2!=(null||"undefined")?_e2:_e3.split("-")[1].split("/")[0].split(":")[1];var _e4=this.newviewArr[_e2];var _e5=$(el).val();ZCUtil.setInMap(_e4,"pageSize",$(el).val());ZCUtil.setInMap(_e4,"fromIDX",1);ZCView.showView(_e4);};this.showRecord=function(el,_e7){var _e8=ZCView.getViewCont(_e7);if($(_e8).find("div[elName=zc-recsummarydiv]")[0]){var _e9=$(_e8).find("div[elName=zc-recsummarydiv]");$.each(ZCUtil.getParent(el,"tr").find("td[elName=zc-viewdata]"),function(_ea,_eb){$(_e9).find("td[elName=zc-viewdata]:eq("+_ea+")").html($(_eb).html());});var _ec=this.viewArr[_e7];var _ed=ZCUtil.getFromMap(_ec,"viewFormName");var _ee=ZCUtil.getParent(el,"tr").attr("reclinkid");var _ef=ZCUtil.getParent(el,"tr").attr("recpkid");}return false;};this.deleteRecord=function(el,_f1,_f2){var _f3=this.viewArr[_f1];var _f4=ZCView.getViewCont(_f1);var _f5=0;var _f6="&deletegroup=";var _f7="";if(_f2){$.each($(_f4).find("input[elName=zc-recSelectionEl]"),function(_f8,_f9){if($(_f9).attr("checked")){_f5++;_f7=_f7+ZCView.checkAndGetAttribute(_f9,"recPkID")+",";}});}else{_f7=$(el).attr("recPkID");_f5=1;}var _fa="viewLinkName="+_f1+"&formID="+ZCUtil.getFromMap(_f3,"viewFormID")+"&viewID="+ZCUtil.getFromMap(_f3,"viewID")+"&deletegroup="+_f7+"&isBulkDelete="+_f2+"&"+csrfParamName+"="+csrfToken;return ZCView.delDuplRecords(_f1,"/deleterecordaction.do",_fa,"delete",_f5);};this.delDuplRecords=function(_fb,_fc,_fd,_fe,_ff){var _100="";var _101=i18n.duplinfomsg;var _102=this.viewArr[_fb];if(_ff==0){alert(i18n.selectrecordtodelete);return false;}else{if(_ff==1){_100=i18n.confirmdeleterecord;}else{_100=i18n.deleteselectedrecord;_100=_100.replace("$recCount",_ff);}}if(_fe=="delete"){_101=i18n.deleteinfomsg;}if(!confirm(_100)){return false;}var url="/people/isFormBusy.do";var _fc="/people/deleterecordaction.do";closeDialog();var _fb=ZCUtil.getFromMap(_102,"viewLinkName");var _104=(ZCUtil.getFromMap(_102,"action")=="delete")?"json":"html";ZCUtil.sendRequest(_fc,_fd,_104,"ZCView.handleDelRecAction","delete",i18n.duplicateinfomsg);};this.handleDelRecAction=function(_105,_106,_107){var _108=null;var _109=ZCUtil.getFromMap(_106,"viewLinkName");var _10a=ZCView.getViewCont(_109);var _10b=this.viewArr[_109];var _10c=ZCForm.getMsgFromResponse(_105,"");var _10d=ZCUtil.isNull(_10c["succMsg"])?"":_10c["succMsg"];var _10e=ZCUtil.isNull(_10c["error"])?"":_10c["error"];if(_10e){showerrmsgForView(_10e);}else{ZCView.showView(_10b,_10d,_108);}return false;};this.showEditForm=function(el,_110,_111){closeDialog();var _112=this.viewArr[_110];var _113=ZCUtil.getFromMap(_112,"viewFormName");var _114="compType="+ZCConstants.FORM+"&formLinkName="+_113+"&formAccessType="+_111+"&zc_EditType=default&viewLinkName="+_110+"&recLinkID="+ZCView.checkAndGetAttribute(el,"recLinkID")+"&viewID="+ZCUtil.getFromMap(_112,"viewID")+"&formid="+ZCUtil.getFromMap(_112,"viewFormID");_114=_114+"&viewEdit=True";if(_111==ZCConstants.VIEW_EDIT_FORM){mode="form_RecordEdit";}else{mode="form_RecordView";}var _115=ZCUtil.getFromMap(_112,"viewFormDispName");if(this.viewFrom=="FROMPROFILE"){this.loadRecordActionsByAjax("FROMPROFILE",ZCUtil.getFromMap(_112,"viewFormID"),_111,ZCView.checkAndGetAttribute(el,"recLinkID"));}else{loadFormAndViewPages(mode,ZCUtil.getFromMap(_112,"viewFormID"),ZCView.checkAndGetAttribute(el,"recLinkID"));}return false;};this.showHistory=function(el,_117){closeDialog();var _118=this.viewArr[_117];var _119=ZCUtil.getFromMap(_118,"viewFormName");var _11a="recLinkID="+ZCView.checkAndGetAttribute(el,"recLinkID")+"&formid="+ZCUtil.getFromMap(_118,"viewFormID");var _11b=ZCUtil.getFromMap(_118,"viewFormDispName");loadFormAndViewPages("record_history",ZCUtil.getFromMap(_118,"viewFormID"),$(el).attr("recpkid"));return false;};this.showPrintPreview=function(el,_11d){closeDialog();var _11e=this.viewArr[_11d];var _11f="formAccessType="+ZCConstants.VIEW_SINGLE_RECORDVIEW+"&formid="+ZCUtil.getFromMap(_11e,"viewFormID")+"&isPrintPreview=true&recPkID="+ZCView.checkAndGetAttribute(el,"recLinkID");window.open("/people/PrintRecord.do?"+_11f,"Print","dependent=yes,resizable=yes,scrollbars=yes,fullscreen=yes");return false;};this.showMonthOfYear=function(el,_121,_122){var _123=this.viewArr[_121];ZCUtil.setInMap(_123,_122,$(el).attr(_122));ZCView.showView(_123);};this.clearViewDialogs=function(_124){ZCApp.htmlArr[_124+"-zc-view-save-dialog"]=null;ZCApp.htmlArr[_124+"-zc-view-hidden-cols-dialog"]=null;ZCApp.htmlArr[_124+"-importDialogHtml"]=null;};this.showView=function(_125,_126,_127){var sort=ZCUtil.getFromMap(_125,"sortBy");var _129=this;var _12a=ZCUtil.getFromMap(_125,"viewLinkName");ZCView.clearViewDialogs(_12a);var _12b="all";var _12c=window.location.href;var _12d=_12c.split("typeOfView:")[1];if(_12d){var _12e=_12d.indexOf("/");_12b=_12d.substring(0,_12e);}var _12f=ZCUtil.getParamsFromMap(_125)+"&typeOfView="+_12b;if(this.viewFrom=="FROMPROFILE"){_12f=_12f+"&mode=FROMPROFILE&ERECNO="+profileActions.profileMap["profileErecNo"];$.post("/people/liveViewHeader.do",_12f,function(data){profileActions.loadViewinProfile(data,_129.viewLinkId);});}else{ajaxForCenterBand("/people/liveViewHeader.do",_12f);}};this.showInfo=function(_131){if(!ZCUtil.isNull(_131)){ZCUtil.showInDialog(ZCApp.dialogAbove+_131+ZCApp.dialogBelow,"closeButton=no");ZCUtil.removeInfoHdr();}};this.checkRecSelection=function(el,_133){var _134=ZCView.getViewCont(_133);var _135=$(el).attr("elName");if(_135=="zc-selectAllRecsEl"){var _136=$(el).is(":checked");$.each($(_134).find("input[elName=zc-recSelectionEl]"),function(_137,_138){$(_138).attr("checked",_136);ZCView.markRecord(_138,_133);});}else{if(_135=="zc-recSelectionEl"){var _139=true;var _13a=$(_134).find("input[elName=zc-recSelectionEl]");$.each(_13a,function(idx,el){if(!$(el).is(":checked")){_139=false;return;}});$(_134).find("input[elName=zc-selectAllRecsEl]").attr("checked",_139);}}};this.restoreFieldVal=function(el){var _13e=$(el).attr("origval");if(!ZCUtil.isNull(_13e)){if($(el).attr("type")=="select-multiple"||$(el).attr("type")=="multiselect"){$(el).val(_13e.split(","));}else{if($(el).attr("type")=="checkbox"){if(_13e=="true"){$(el).attr("checked","checked");}else{$(el).attr("checked",false);}}else{$(el).val(_13e);}}}};this.checkRecord=function(el,_140){ZCView.markRecord(el,_140);ZCView.checkRecSelection(el,_140);};this.markRecord=function(el,_142){var _143=this.viewArr[_142];var _144=ZCUtil.getParent(el,"tr");if($(el).is(":checked")){_144.attr("class","zc-viewrow zc-row-sel");}else{_144.attr("class","zc-viewrow "+_144.attr("cls"));if(ZCUtil.getFromMap(_143,"viewType")==ZCConstants.VIEW_SHEET&&$(_144).attr("changed")=="true"){$(_144).removeAttr("changed");$.each(_144.find("td[elName=zc-viewdata]"),function(idx,_146){ZCView.restoreFieldVal($(_146).find(":input"));});}}};this.checkAndGetAttribute=function(el,_148){var _149=$(el).attr(_148);if(ZCUtil.isNull(_149)){_149=ZCUtil.getParent(el,"["+_148+"]").attr("recpkid");}return _149;};this.toggleViewSize=function(_14a,_14b){var _14c=$(_14b["leftContentDiv"]);var _14d=$(_14b["dataTableDiv"]);var _14e=$(_14d).width();if(_14a=="zp-minimizeLftCnt"){$(_14d).width(_14e<1100?1240:_14e);Layout.setinCookie("zp_viewStatus","hideLeftCnt");}else{$(_14d).width(_14e>1100?985:_14e);Layout.setinCookie("zp_viewStatus","showLeftCnt");}$(_14b["viewNamesDiv"]).children().toggle();};this.loadViewForOtherFeatures=function(mode,_150,_151,_152){if(mode=="FROMPROFILE"){var _153="viewID="+_150+"&typeOfView="+_151+"&approvalStatus="+_152+"&mode=FROMPROFILE&ERECNO="+profileActions.profileMap["profileErecNo"];$.post("/people/liveViewHeader.do",_153,function(data){profileActions.loadViewinProfile(data,_150);});}};this.loadRecordActionsByAjax=function(mode,_156,_157,_158){if(mode=="FROMPROFILE"){var _159="formid="+_156+"&"+csrfParamName+"="+csrfToken+"&formAccessType="+_157+"&mode="+mode;if(_158){_159+="&recPkID="+_158;}$.post("/people/LiveFormHeader.do",_159,function(data){if(_157==ZCConstants.VIEW_SINGLE_RECORDVIEW){profileActions.loadContentIntoProfileActionDiv(data,"VIEW");}else{if(_157==ZCConstants.VIEW_EDIT_FORM||_157==ZCConstants.VIEW_ADD_FORM){profileActions.loadContentIntoProfileActionDiv(data,"VIEW");}else{profileActions.loadViewinProfile(data,ZCView.viewLinkId);}}});}};};function closealloptionmenus(){var _15b="table[elname=zc-viewtable]";$(_15b).find("div[optionsmenu]").hide();$(_15b).find("div[class=indIconC]").attr("class","indIcon");}function closeoptionsview(_15c){$(_15c).hide();$(_15c).prev("div[class=indIconC]").attr("class","indIcon");}function closealldropdownmenus(){$("div[class=clickDropDown]").attr("class","normalDropDown");$("div[elName=zc-viewOptionsDIV]").hide();$("div[elName=zc-viewheaderoptionsdiv]").hide();$("div[elName=zc-viewlistingmenu]").hide();$("div[elName=zc-liveapprovalstatusmenu]").hide();}function changevalue(temp,_15e){var _15f=temp.parentNode.getElementsByTagName("select");var _160=temp.parentNode.parentNode;var _161=_160.getElementsByTagName("select").item(2);var _162=_160.getElementsByTagName("input").item(1);var _163=_160.getElementsByTagName("input").item(0);var _164="";var _165=_15f.item(0).selectedIndex;var _166=_15f.item(0).options.item(_165);_164=getA(_166,"fctype");var _167=getA(_166,"formuladtype");_162.style.display="none";_163.style.display="block";_161.options.length=0;_161.options[0]=new Option(i18n.none,"None");_163.disabled=false;if(_164==TEXT||_164==EMAIL_ADDRESS||_164==PHONE_NUMBER||_164==URL||_164==TEXT_AREA||_164==LOOKUP||_164==FILE_UPLOAD||_164==IMAGE||_164==BLOODGROUP||_164==GENDER||_164==COUNTRY){_161.options[1]=new Option(i18n.is,"18",true);_161.options[2]=new Option(i18n.isnot,"19");_161.options[3]=new Option(i18n.isempty,"29");_161.options[4]=new Option(i18n.isnotempty,"30");_161.options[5]=new Option(i18n.startswith,"24");_161.options[6]=new Option(i18n.endswith,"25");_161.options[7]=new Option(i18n.contains,"26");_161.options[8]=new Option(i18n.notcontains,"27");}else{if(_164==PICKLIST||(_164==SCRIPT&&_167!="date")){_161.options[1]=new Option(i18n.is,"18",true);_161.options[2]=new Option(i18n.isnot,"19");_161.options[3]=new Option(i18n.isempty,"29");_161.options[4]=new Option(i18n.isnotempty,"30");_161.options[5]=new Option(i18n.startswith,"24");_161.options[6]=new Option(i18n.endswith,"25");_161.options[7]=new Option(i18n.contains,"26");_161.options[8]=new Option(i18n.notcontains,"27");_161.options[9]=new Option(i18n.lesserthan,"20");_161.options[10]=new Option(i18n.greaterthan,"21");_161.options[11]=new Option(i18n.lesserorequalto,"22");_161.options[12]=new Option(i18n.greaterorequalto,"23");}else{if(_164==DATE||_164==DATE_TIME||(_164==SCRIPT&&_167=="date")){_161.options[1]=new Option(i18n.is,"18",true);_161.options[2]=new Option(i18n.isnot,"19");_161.options[3]=new Option(i18n.isempty,"29");_161.options[4]=new Option(i18n.isnotempty,"30");_161.options[5]=new Option(i18n.before,"20");_161.options[6]=new Option(i18n.after,"21");_162.style.display="block";_163.style.display="none";if(_164==DATE){var _168=_15e!=null?_15e:"%d-%b-%Y";calCalender(_162,_168);}else{if(_164==DATE_TIME||_164==SCRIPT){var _168=(_15e!=null?_15e:"%d-%b-%Y")+" "+"%H:%M:%S";calCalender(_162,_168);}}}else{if(_164==CHECK_BOX){_161.options[1]=new Option(i18n.view_true,"49",true);_161.options[2]=new Option(i18n.view_false,"50");}else{if(_164==NUMBER||_164==CURRENCY||_164==DECIMAL){_161.options[1]=new Option(i18n.is,"18",true);_161.options[2]=new Option(i18n.isnot,"19");_161.options[3]=new Option(i18n.isempty,"29");_161.options[4]=new Option(i18n.isnotempty,"30");_161.options[5]=new Option(i18n.lesserthan,"20");_161.options[6]=new Option(i18n.greaterthan,"21");_161.options[7]=new Option(i18n.lesserorequalto,"22");_161.options[8]=new Option(i18n.greaterorequalto,"23");}else{_161.options[1]=new Option(i18n.is,"18",true);}}}}}}function addRow(_169,_16a){var _16b=_169.parentNode.parentNode;var _16c=_16b.parentNode;var rs=_16c.rows;if(rs.length==2){_16b.cells.item(4).getElementsByTagName("img").item(1).style.visibility="visible";}var _16e=_16b.cells.item(1).getElementsByTagName("select").item(0);var _16f=_16c.insertBefore(_16b.cloneNode(true),_16b.nextSibling);var _170=_16e.selectedIndex;var _171=_16b.cells.item(2).getElementsByTagName("select").item(0).selectedIndex;_16f.cells.item(1).getElementsByTagName("select").item(0).selectedIndex=_170;_16f.cells.item(2).getElementsByTagName("select").item(0).selectedIndex=_171;_16f.cells.item(3).getElementsByTagName("input").item(0).value="";_16f.cells.item(3).getElementsByTagName("input").item(1).value="";_16f.cells.item(0).getElementsByTagName("select").item(0).disabled="";_16f.cells.item(0).getElementsByTagName("select").item(0).style.border="";_16f.cells.item(4).getElementsByTagName("img").item(0).visibility="visible";var _172=_16f.cells.item(3).getElementsByTagName("input").item(1);if(_172.style.display!="none"){var _173=$(_16e).find("option:selected").attr("fctype");var _174=$(_16e).find("option:selected").attr("formuladtype");if(_173==DATE){var _175=_16a!=null?_16a:"%d-%b-%Y";calCalender(_172,_175);}else{if(_173==DATE_TIME||(_173==SCRIPT&&_174)){var _175=(_16a!=null?_16a:"%d-%b-%Y")+" "+"%H:%M:%S";calCalender(_172,_175);}}}rs.item(rs.length-1).style.display=rowdisp;}function removeRow(_176){var _177=_176.parentNode.parentNode;var _178=_177.parentNode;var rs=_178.rows;var _17a=$("tbody#criteriaRel").find("tr").index(_177);if(rs.length==2&&_17a==1){rs.item(1).cells.item(0).getElementsByTagName("select").item(0).disabled="disabled";rs.item(1).cells.item(1).getElementsByTagName("select").item(0).value=i18n.none;rs.item(1).cells.item(2).getElementsByTagName("select").item(0).value=i18n.none;var _17b=rs.item(1).cells.item(3).getElementsByTagName("input");for(var i=0;i<_17b.length;i++){_17b[i].value="";}}else{if(rs.length>2){if(_17a==1){rs.item(2).cells.item(0).getElementsByTagName("select").item(0).disabled="disabled";}_178.removeChild(_177);}}}function showCriteriaComp(obj){$("#"+Layout.containerid).find("#criteriaRelSpan").toggle();if($(obj).children("img").hasClass("blkDwn")){$(obj).children("img").removeClass("blkDwn").addClass("blkUp");}else{if($(obj).children("img").hasClass("blkUp")){$(obj).children("img").removeClass("blkUp").addClass("blkDwn");}}}function toggleEditView(_17e){var _17f=$(_17e).parent("div").parent("div.viewRight");var _180=$("#"+Layout.containerid).find("#editView_maindiv");if(_180){var prop=$(_17f).attr("viewprop");var mode=$(_17f).attr("propmode");if(mode=="edit"||mode=="reorder"){$(_17f).css("display","none");$(_180).find("div[viewprop="+prop+"][propmode=view]").css("display","");$(_180).find("div[viewprop="+prop+"][propmode=view]").parent("div.line").removeClass("lineSel");}else{var _183=$(_180).find("div:not(:hidden)[propmode=edit]").length;if(_183!=0){showSuccessMessage(i18n.saveorclosepreviouschanges);return;}$(_17f).css("display","none");$(_180).find("div.lineSel").removeClass("lineSel");switch(prop){case "criteria":showcriteria();clearValueTextBox();break;case "sortCols":showSortBy();break;case "groupCols":showGroupBy();break;case "listCols":var _184=$(_17e).attr("linktype");if(_184=="edit"){showhide();}break;case "rename":var _185=$(_180).find("div[viewprop="+prop+"][propmode=edit]").find("input[type='text']");$(_185).val($(_17e).parent("div").attr("vName"));$(_180).find("div[viewprop="+prop+"][propmode=edit]").parent("div.line").addClass("lineSel");$(_180).find("div[viewprop="+prop+"][propmode=edit]").css("display","");$(_185).focus();return;}$(_180).find("div[viewprop="+prop+"][propmode=edit]").parent("div.line").addClass("lineSel");$(_180).find("div[viewprop="+prop+"][propmode=edit]").css("display","");}}}function rnView(_186,_187,_188){if(_188){_187=$(_187).parent("div").siblings("div").find("input[type='text']")[0];}if(_188||_186.keyCode==13){var _189=$(_187).siblings("div.red");$(_189).html("");$(_189).hide();var _18a=$(_187).val().trim();var _18b=$(_187).attr("vLinkName").trim();if(_18a==""){$(_189).html(i18n.specifyviewname);$(_189).show();return false;}else{if(_18a.length>100){$(_189).html(i18Arr["hrms.viewedit.shortnameforview"]);$(_189).show();return false;}}var keys=new Array("viewID","viewName","viewLinkName");var vals=new Array(vid,_18a,_18b);getHtmlForForm((getForm("/people/renameView.do",keys,vals)),"setUpd");}else{if(_186.keyCode==27){toggleEditView(_187);}}}function setViewProps(_18e,_18f,_190){var _191=$(_18f).attr("formid");if(_190){_18f=$(_18f).parent("div").siblings().find("input[type='checkbox']");}if(_190){var _192=_18f[0].checked;var _193=false;if(_18f.length>1){_193=_18f[1].checked;}var keys=new Array("viewID","isDefaultView","showViewToAll","formID");var vals=new Array(vid,_192,_193,_191);getHtmlForForm((getForm("/people/setViewProp.do",keys,vals)),"setUpd");loadtabformmenus(_191,"/people/view/edit");}else{if(_18e.keyCode==27){toggleEditView(_18f);}}}function clearValueTextBox(sElm){var _197=$(sElm).val();if(_197==29||_197==30||_197==49||_197==50){$(sElm).parent().parent().find("#valueTextBox").attr("value","");$(sElm).parent().parent().find("#valueTextBox").attr("disabled",true);}else{$(sElm).parent().parent().find("#valueTextBox").removeAttr("disabled");}}function exportDataForForm(_198){var _199="";if(_198){_199=$("#"+Layout.containerid).find("div#profile-"+_198);}else{_199=$("#"+Layout.containerid);}var _19a=$(_199).find("#exportform").html();showDialog(_19a,"position=absolute, closeButton=no, modal=yes",null,null);centerDialog("_DIALOG_LAYER");return;}function customizeView(_19b,_19c,_19d){var _19e="viewId="+_19b+"&formId="+_19c+"&userId="+_19d;$.get("/people/FetchCustomizedViewConf.do",_19e,function(data){if(data.indexOf("Error:")!=-1){var _1a0=data.replace("Error:","");showErrorMessage(_1a0);}else{showDialog(data,"position=absolute, left=290, top=180, closeButton=no, modal=yes, height=500",null,"");var ht=$("#customizeFieldsInView").height();var _1a2=0;if(ht>=450){_1a2=125;}centerDialog("_DIALOG_LAYER",_1a2);}});}function toggleCustomViewFieldClass(obj,_1a4){var _1a5=$(obj).parent().parent().parent();_1a5.toggleClass("disab");_1a5.attr("enable",_1a4);}function closeCustomizeViewdialog(){var _1a6=$("#cutomizeView_viewId").val();var _1a7=$("#cutomizeView_userId").val();var _1a8="";$("#customizeFieldsInView").find("tr.row").each(function(){var _1a9=$(this).hasClass("row disab");if(!_1a9){_1a8=_1a8+$(this).attr("id")+",";}});var _1aa="viewId="+_1a6+"&userId="+_1a7+"&selectedList="+_1a8+"&"+csrfParamName+"="+csrfToken;$.post("/people/CustomizeView.do",_1aa,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("success")!=-1){window.location.reload();var _1ac=$("#zpeople_progressbar");_1ac.ajaxStart(function(){showhideprogressbar(true,_1ac);});}else{alert(data);}}});}function isValidNumber(val){var _1ae=/^-*\d*$/.test(val);return _1ae;}var TEXT=1;var PASSWORD=2;var TEXT_AREA=3;var EMAIL_ADDRESS=4;var NUMBER=5;var CURRENCY=6;var PHONE_NUMBER=8;var CHECK_BOX=9;var DATE=10;var SINGLE_SELECT=12;var FLOAT=16;var FILE_UPLOAD=18;var DECIMAL=19;var IMAGE=20;var URL=21;var DATE_TIME=22;var prevSeqStr="";function showcriteria(){if(!isLiveMode){var _1af=$("#"+Layout.containerid).find("#criteriaDIV").html();var _1b0=$("#"+Layout.containerid).find("#editView_maindiv").find("div[viewprop=criteria][propmode=edit]")[0];_1b0.innerHTML=_1af;$(_1b0).css("display","");}}function showGroupBy(){var _1b1=$("#"+Layout.containerid).find("#groupByDIV").html();var _1b2=$("#"+Layout.containerid).find("#editView_maindiv").find("div[viewprop=groupCols][propmode=edit]")[0];_1b2.innerHTML=_1b1;var _1b3=$("#groupRightSelect,#groupLeftSelect");$(_1b3).sortable({connectWith:$(_1b3),cursor:"move",handle:"span.drag",items:"li[svcID]",update:function(_1b4,ui){}});}function showSortBy(){var _1b6=$("#"+Layout.containerid).find("#sortByDIV").html();var _1b7=$("#"+Layout.containerid).find("#editView_maindiv").find("div[viewprop=sortCols][propmode=edit]")[0];_1b7.innerHTML=_1b6;var _1b8=$("#"+Layout.containerid).find("#sortRightSelect,#sortLeftSelect");$(_1b8).sortable({connectWith:$(_1b8),cursor:"move",handle:"span.drag",items:"li[svcID]",update:function(_1b9,ui){}});}function setSortMode(_1bb){var _1bc=$(_1bb).parent();if(_1bc!=null){var _1bd=$(_1bc).attr("isAsc");if(_1bd=="true"){$(_1bc).attr("isAsc",false);$(_1bb).css("display","none");$(_1bb).siblings("img").css("display","");}else{$(_1bc).attr("isAsc",true);$(_1bb).css("display","none");$(_1bb).siblings("img").css("display","");}}}function setSortBy(){var _1be=$("#"+Layout.containerid).find("#sortRightSelect")[0];var ops=$(_1be).find("li[svcId]");var _1c0=ops.length;var _1c1="";for(var i=0;i<_1c0;i++){var _1c3=ops[i];var _1c4=getA(_1c3,"svcID");var _1c5=getA(_1c3,"isAsc");_1c1=_1c1+_1c4+":"+_1c5+",";}var keys=new Array("viewid","sortByStr");var vals=new Array(vid,_1c1);getHtmlForForm(getForm("/people/setSortBy.do",keys,vals),"setUpd");}function setGroupBy(){var _1c8=$("#"+Layout.containerid).find("#groupRightSelect")[0];var ops=$(_1c8).find("li[svcId]");var _1ca=ops.length;var _1cb="";for(var i=0;i<_1ca;i++){var _1cd=ops[i];var _1ce=getA(_1cd,"svcID");var _1cf=getA(_1cd,"isAsc");_1cb=_1cb+_1ce+":"+_1cf+",";}var keys=new Array("viewid","groupByStr");var vals=new Array(vid,_1cb);getHtmlForForm(getForm("/people/setGroupBy.do",keys,vals),"setUpd");}function showhide(){var _1d2=$("#"+Layout.containerid).find("#showhide").html();var _1d3=$("#"+Layout.containerid).find("#editView_maindiv").find("div[viewprop=listCols][propmode=edit]")[0];_1d3.innerHTML=_1d2;}function hideSubFormViews(id){var shb=$("#"+Layout.containerid).find("#showhidebody")[0];var rs=shb.rows;for(var i=0;i<rs.length;i++){var node=rs.item(i);var _1d9=getA(node,"reffcid");if(id.substring(6)==_1d9){var trid=getA(node,"id");var elid="shhref"+trid.substring(4);var elem=$("#"+Layout.containerid).find("#"+elid)[0];if(elem.className=="showhide-show"){elem.className="showhide-hide";elem.checked=false;elem.parentNode.parentNode.className="columnprop-hide";$("#"+Layout.containerid).find("#shtrinput"+elid.substring(6))[0].disabled="true";}}}}function showhidecol(id,ev){if(ev){var _1df=null;if(document.all){_1df=window.event.srcElement;}else{if(browser_nn4||browser_nn6){_1df=ev.target;}}if(getA(_1df,"fcid")!=null||getA(_1df,"id")!=null){return;}}var elem=$("#"+Layout.containerid).find("#"+id)[0];var _1e1=elem.parentNode.parentNode;var inp=$("#"+Layout.containerid).find("#shtrinput"+id.substring(6));var _1e3=$("#"+Layout.containerid).find("#shtrselect"+id.substring(6));var _1e4=_1e1.getAttribute("hassubform");if(elem.className=="showhide-show"&&_1e4=="true"){var conf=confirm(i18n["hrms.viewedit.hiderefferedcolwarning"]+" \n"+i18n["hrms.viewedit.doyouwanttoproceed"]);if(!conf){return false;}else{hideSubFormViews(id);}}if(elem.className=="showhide-hide"&&getA(elem,"elname")=="subFormViewCheck"){var _1e6=getA($("#"+Layout.containerid).find("#shtr"+id.substring(6))[0],"reffcid");if($("#"+Layout.containerid).find("#shtr"+_1e6)[0].className=="columnprop-hide"){alert(i18n["hrms.viewedit.selectrelatedfield"]);elem.className=="showhide-hide";elem.checked=false;return false;}}if(elem.className=="showhide-show"){elem.className="showhide-hide";elem.checked=false;_1e1.className="columnprop-hide";inp.disabled="true";if(_1e3){_1e3.disabled="true";}}else{elem.className="showhide-show";_1e1.className="columnprop-show";elem.checked=true;inp.disabled="";if(_1e3){_1e3.disabled="";}inp.focus();}}function showhideSum(elem){if(elem.className=="enablesum"){elem.className="disablesum";elem.innerHTML="<span style=\"padding-left:14px;font-size:10px\">"+i18n["hrms.viewedit.sum"]+"</span><span class=\"enabledisable-text\">"+i18n["hrms.viewedit.disabled"];}else{elem.className="enablesum";elem.innerHTML="<span style=\"padding-left:14px;font-size:10px\">"+i18n["hrms.viewedit.sum"]+"</span><span class=\"enabledisable-text\">"+i18n["hrms.viewedit.enabled"];}return false;}function colupdate(){var shb=$("#"+Layout.containerid).find("#showhidebody")[0];var rs=shb.rows;var cols="";var _1eb="";var _1ec=true;var _1ed=new Array();var keys=new Array();var vals=new Array();keys.push("vid");vals.push(vid);keys.push("basesubvid");vals.push(basesubvid);for(var i=0;i<rs.length;i++){var node=rs.item(i);var id=node.id;if(id&&id.indexOf("shtr")!=-1){var send="";var fcid=id.substring(4);if(getA(node,"subvid")==basesubvid){var _1f5=$("#"+Layout.containerid).find("#shhref"+fcid)[0].className.substring(9);if(_1f5=="show"&&getA(node,"hassubform")=="false"){_1ec=false;}}cols=cols+"col_"+fcid+",";_1eb=_1eb+"subFormView_"+fcid+",";var _1f6=$("#"+Layout.containerid).find("#shtrinput"+fcid).val();if(_1f6==""){alert(i18n.viewcomponentnameemptymsg);return;}else{while(_1f6.indexOf(":")!=-1){_1f6=_1f6.replace(":","@#zc_colon#@");}var _1f7=getA(node,"subvcid");if($("#"+Layout.containerid).find("#shtrsum"+fcid)[0]){send=send+fcid+":"+$("#"+Layout.containerid).find("#shhref"+fcid)[0].className.substring(9)+":"+_1f6+":"+_1f7+":"+getA(node,"subvid")+":"+getA(node,"refformid")+":"+$("#"+Layout.containerid).find("#shtrsum"+fcid)[0].className;}else{send=send+fcid+":"+$("#"+Layout.containerid).find("#shhref"+fcid)[0].className.substring(9)+":"+_1f6+":"+_1f7+":"+getA(node,"subvid")+":"+getA(node,"refformid");}if($("#"+Layout.containerid).find("#shhref"+fcid)[0].className.substring(9)=="hide"&&getA(node,"elname")!="subFormView"){if(_1f7!="null"){_1ed.push(_1f6);}}var _1f8="subFormView_"+fcid;if(getA(node,"hassubform")=="true"){sfVal="true-";for(var j=0;j<rs.length;j++){var _1fa=rs.item(j);if(getA(_1fa,"elname")=="subFormView"&&getA(_1fa,"reffcid")==fcid){var _1fb=_1fa.id.substring(4);var _1fc=$("#"+Layout.containerid).find("#shtrinput"+_1fb)[o].value;while(_1fc.indexOf(":")!=-1){_1fc=_1fc.replace(":","@#zc_colon#@");}sfVal+=$("#"+Layout.containerid).find("#shhref"+_1fb)[0].checked+"_"+getA(_1fa,"basefcid")+"_"+_1fb.split("-")[0]+"_"+_1fc+",";}}}else{sfVal="false-";}keys.push(_1f8);vals.push(sfVal);keys.push("col_"+fcid);vals.push(send);}}}var _1fd=_1ed.length;if(_1ec){var _1fe=replaceParams(i18n["hrms.viewedit.atleastonecolumn"],new Array(currFormName));alert(_1fe);return;}else{if(_1fd>0){var _1ff=i18n["hrms.viewedit.delcoldetails"]+"\n";for(var idx=0;idx<_1fd;idx++){_1ff+="\n"+(idx+1)+". "+_1ed[idx];}_1ff+="\n\n"+i18n["hrms.viewedit.delcolwarning"];_1ff+="\n"+i18n["hrms.viewedit.doyouwanttoproceed"];}}keys.push("cols");vals.push(cols);keys.push("refferedFields");vals.push(_1eb);getHtmlForForm(getForm("/people/colupdate.do",keys,vals),"setcolupd");}function setcolupd(txt){if(txt&&txt!=null){if(txt.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{alert(txt);}}else{generateFormPages("form_EditViewMode",fid,viewdisplayname,vid);}}function expandRows(fcid){var shb=$("#"+Layout.containerid).find("#showhidebody")[0];var rs=shb.rows;var show="/people/images/edit/collapse_bullet.gif";for(var i=0;i<rs.length;i++){var node=rs.item(i);var id=node.id;var _209=getA(node,"basefcid");var _20a=getA(node,"reffcid");if(id&&id.indexOf("shtr")!=-1&&_209&&_209!=null&&fcid==_209){var _20b=node.style.display;if(_20b==rowdisp){node.style.display="none";}else{node.style.display=rowdisp;show="/people/images/edit/expand_bullet.gif";}}if(id&&id.indexOf("shtr")!=-1&&_20a&&_20a!=null&&fcid==_20a){var _20b=node.style.display;if(_20b==rowdisp){node.style.display="none";}}}$("#"+Layout.containerid).find("#expand"+fcid).attr("src",show);}function setViewSeq(){var _20c=$("#"+Layout.containerid).find("#colReordertab")[0].getElementsByTagName("TR");var _20d=1;var send="";var _20f=new Array();for(var i=0;i<_20c.length;i++){var _211=getA(_20c[i],"svcid");if((_211==null)||(_211=="_")||(_211=="")){continue;}if(_20f[_211]){continue;}_20f[_211]="present";send=send+_211+":"+(_20d++)+",";}send=trimString(send);send=trimString(send);if(send==""||send==prevSeqStr){return;}prevSeqStr=send;var keys=new Array("seq","vid");var vals=new Array(send,vid);getHtmlForForm(getForm("/people/setViewSeq.do",keys,vals),"setUpd");}function setUpd(txt){if(txt&&txt!=null){if(txt.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{alert(txt);return;}}else{closeDialog();generateFormPages("form_EditViewMode",fid,viewdisplayname,vid);}}function trim(str){var str1=str.replace(/\S/g,"|");var i=str1.indexOf("|")-1;var j=str1.lastIndexOf("|")+1;var _219=str.substring(0,i).replace(/\s/g,"")+str.substring(i+1,j);_219=_219+str.substring(j).replace(/\s/g,"");return _219;}
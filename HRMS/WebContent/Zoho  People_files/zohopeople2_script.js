(function(A,w){function ma(){if(!c.isReady){try{s.documentElement.doScroll("left");}catch(a){setTimeout(ma,1);return;}c.ready();}}function Qa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b);}function X(a,b,d,f,e,j){var i=a.length;if(typeof b==="object"){for(var o in b){X(a,o,b[o],f,e,d);}return a;}if(d!==w){f=!j&&f&&c.isFunction(d);for(o=0;o<i;o++){e(a[o],b,f?d.call(a[o],o,e(a[o],b)):d,j);}return a;}return i?e(a[0],b):w;}function J(){return (new Date).getTime();}function Y(){return false;}function Z(){return true;}function na(a,b,d){d[0].type=a;return c.event.handle.apply(b,d);}function oa(a){var b,d=[],f=[],e=arguments,j,i,o,k,n,r;i=c.data(this,"events");if(!(a.liveFired===this||!i||!i.live||a.button&&a.type==="click")){a.liveFired=this;var u=i.live.slice(0);for(k=0;k<u.length;k++){i=u[k];i.origType.replace(O,"")===a.type?f.push(i.selector):u.splice(k--,1);}j=c(a.target).closest(f,a.currentTarget);n=0;for(r=j.length;n<r;n++){for(k=0;k<u.length;k++){i=u[k];if(j[n].selector===i.selector){o=j[n].elem;f=null;if(i.preType==="mouseenter"||i.preType==="mouseleave"){f=c(a.relatedTarget).closest(i.selector)[0];}if(!f||f!==o){d.push({elem:o,handleObj:i});}}}}n=0;for(r=d.length;n<r;n++){j=d[n];a.currentTarget=j.elem;a.data=j.handleObj.data;a.handleObj=j.handleObj;if(j.handleObj.origHandler.apply(j.elem,e)===false){b=false;break;}}return b;}}function pa(a,b){return "live."+(a&&a!=="*"?a+".":"")+b.replace(/\./g,"`").replace(/ /g,"&");}function qa(a){return !a||!a.parentNode||a.parentNode.nodeType===11;}function ra(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var f=c.data(a[d++]),e=c.data(this,f);if(f=f&&f.events){delete e.handle;e.events={};for(var j in f){for(var i in f[j]){c.event.add(this,j,f[j][i],f[j][i].data);}}}}});}function sa(a,b,d){var f,e,j;b=b&&b[0]?b[0].ownerDocument||b[0]:s;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===s&&!ta.test(a[0])&&(c.support.checkClone||!ua.test(a[0]))){e=true;if(j=c.fragments[a[0]]){if(j!==1){f=j;}}}if(!f){f=b.createDocumentFragment();c.clean(a,b,f,d);}if(e){c.fragments[a[0]]=j?f:1;}return {fragment:f,cacheable:e};}function K(a,b){var d={};c.each(va.concat.apply([],va.slice(0,b)),function(){d[this]=a;});return d;}function wa(a){return "scrollTo" in a&&a.document?a:a.nodeType===9?a.defaultView||a.parentWindow:false;}var c=function(a,b){return new c.fn.init(a,b);},Ra=A.jQuery,Sa=A.$,s=A.document,T,Ta=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,Ua=/^.[^:#\[\.,]*$/,Va=/\S/,Wa=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,Xa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,P=navigator.userAgent,xa=false,Q=[],L,$=Object.prototype.toString,aa=Object.prototype.hasOwnProperty,ba=Array.prototype.push,R=Array.prototype.slice,ya=Array.prototype.indexOf;c.fn=c.prototype={init:function(a,b){var d,f;if(!a){return this;}if(a.nodeType){this.context=this[0]=a;this.length=1;return this;}if(a==="body"&&!b){this.context=s;this[0]=s.body;this.selector="body";this.length=1;return this;}if(typeof a==="string"){if((d=Ta.exec(a))&&(d[1]||!b)){if(d[1]){f=b?b.ownerDocument||b:s;if(a=Xa.exec(a)){if(c.isPlainObject(b)){a=[s.createElement(a[1])];c.fn.attr.call(a,b,true);}else{a=[f.createElement(a[1])];}}else{a=sa([d[1]],[f]);a=(a.cacheable?a.fragment.cloneNode(true):a.fragment).childNodes;}return c.merge(this,a);}else{if(b=s.getElementById(d[2])){if(b.id!==d[2]){return T.find(a);}this.length=1;this[0]=b;}this.context=s;this.selector=a;return this;}}else{if(!b&&/^\w+$/.test(a)){this.selector=a;this.context=s;a=s.getElementsByTagName(a);return c.merge(this,a);}else{return !b||b.jquery?(b||T).find(a):c(b).find(a);}}}else{if(c.isFunction(a)){return T.ready(a);}}if(a.selector!==w){this.selector=a.selector;this.context=a.context;}return c.makeArray(a,this);},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length;},toArray:function(){return R.call(this,0);},get:function(a){return a==null?this.toArray():a<0?this.slice(a)[0]:this[a];},pushStack:function(a,b,d){var f=c();c.isArray(a)?ba.apply(f,a):c.merge(f,a);f.prevObject=this;f.context=this.context;if(b==="find"){f.selector=this.selector+(this.selector?" ":"")+d;}else{if(b){f.selector=this.selector+"."+b+"("+d+")";}}return f;},each:function(a,b){return c.each(this,a,b);},ready:function(a){c.bindReady();if(c.isReady){a.call(s,c);}else{Q&&Q.push(a);}return this;},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},slice:function(){return this.pushStack(R.apply(this,arguments),"slice",R.call(arguments).join(","));},map:function(a){return this.pushStack(c.map(this,function(b,d){return a.call(b,d,b);}));},end:function(){return this.prevObject||c(null);},push:ba,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a=arguments[0]||{},b=1,d=arguments.length,f=false,e,j,i,o;if(typeof a==="boolean"){f=a;a=arguments[1]||{};b=2;}if(typeof a!=="object"&&!c.isFunction(a)){a={};}if(d===b){a=this;--b;}for(;b<d;b++){if((e=arguments[b])!=null){for(j in e){i=a[j];o=e[j];if(a!==o){if(f&&o&&(c.isPlainObject(o)||c.isArray(o))){i=i&&(c.isPlainObject(i)||c.isArray(i))?i:c.isArray(o)?[]:{};a[j]=c.extend(f,i,o);}else{if(o!==w){a[j]=o;}}}}}}return a;};c.extend({noConflict:function(a){A.$=Sa;if(a){A.jQuery=Ra;}return c;},isReady:false,ready:function(){if(!c.isReady){if(!s.body){return setTimeout(c.ready,13);}c.isReady=true;if(Q){for(var a,b=0;a=Q[b++];){a.call(s,c);}Q=null;}c.fn.triggerHandler&&c(s).triggerHandler("ready");}},bindReady:function(){if(!xa){xa=true;if(s.readyState==="complete"){return c.ready();}if(s.addEventListener){s.addEventListener("DOMContentLoaded",L,false);A.addEventListener("load",c.ready,false);}else{if(s.attachEvent){s.attachEvent("onreadystatechange",L);A.attachEvent("onload",c.ready);var a=false;try{a=A.frameElement==null;}catch(b){}s.documentElement.doScroll&&a&&ma();}}}},isFunction:function(a){return $.call(a)==="[object Function]";},isArray:function(a){return $.call(a)==="[object Array]";},isPlainObject:function(a){if(!a||$.call(a)!=="[object Object]"||a.nodeType||a.setInterval){return false;}if(a.constructor&&!aa.call(a,"constructor")&&!aa.call(a.constructor.prototype,"isPrototypeOf")){return false;}var b;for(b in a){}return b===w||aa.call(a,b);},isEmptyObject:function(a){for(var b in a){return false;}return true;},error:function(a){throw a;},parseJSON:function(a){if(typeof a!=="string"||!a){return null;}a=c.trim(a);if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return A.JSON&&A.JSON.parse?A.JSON.parse(a):(new Function("return "+a))();}else{c.error("Invalid JSON: "+a);}},noop:function(){},globalEval:function(a){if(a&&Va.test(a)){var b=s.getElementsByTagName("head")[0]||s.documentElement,d=s.createElement("script");d.type="text/javascript";if(c.support.scriptEval){d.appendChild(s.createTextNode(a));}else{d.text=a;}b.insertBefore(d,b.firstChild);b.removeChild(d);}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase();},each:function(a,b,d){var f,e=0,j=a.length,i=j===w||c.isFunction(a);if(d){if(i){for(f in a){if(b.apply(a[f],d)===false){break;}}}else{for(;e<j;){if(b.apply(a[e++],d)===false){break;}}}}else{if(i){for(f in a){if(b.call(a[f],f,a[f])===false){break;}}}else{for(d=a[0];e<j&&b.call(d,e,d)!==false;d=a[++e]){}}}return a;},trim:function(a){return (a||"").replace(Wa,"");},makeArray:function(a,b){b=b||[];if(a!=null){a.length==null||typeof a==="string"||c.isFunction(a)||typeof a!=="function"&&a.setInterval?ba.call(b,a):c.merge(b,a);}return b;},inArray:function(a,b){if(b.indexOf){return b.indexOf(a);}for(var d=0,f=b.length;d<f;d++){if(b[d]===a){return d;}}return -1;},merge:function(a,b){var d=a.length,f=0;if(typeof b.length==="number"){for(var e=b.length;f<e;f++){a[d++]=b[f];}}else{for(;b[f]!==w;){a[d++]=b[f++];}}a.length=d;return a;},grep:function(a,b,d){for(var f=[],e=0,j=a.length;e<j;e++){!d!==!b(a[e],e)&&f.push(a[e]);}return f;},map:function(a,b,d){for(var f=[],e,j=0,i=a.length;j<i;j++){e=b(a[j],j,d);if(e!=null){f[f.length]=e;}}return f.concat.apply([],f);},guid:1,proxy:function(a,b,d){if(arguments.length===2){if(typeof b==="string"){d=a;a=d[b];b=w;}else{if(b&&!c.isFunction(b)){d=b;b=w;}}}if(!b&&a){b=function(){return a.apply(d||this,arguments);};}if(a){b.guid=a.guid=a.guid||b.guid||c.guid++;}return b;},uaMatch:function(a){a=a.toLowerCase();a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];return {browser:a[1]||"",version:a[2]||"0"};},browser:{}});P=c.uaMatch(P);if(P.browser){c.browser[P.browser]=true;c.browser.version=P.version;}if(c.browser.webkit){c.browser.safari=true;}if(ya){c.inArray=function(a,b){return ya.call(b,a);};}T=c(s);if(s.addEventListener){L=function(){s.removeEventListener("DOMContentLoaded",L,false);c.ready();};}else{if(s.attachEvent){L=function(){if(s.readyState==="complete"){s.detachEvent("onreadystatechange",L);c.ready();}};}}(function(){c.support={};var a=s.documentElement,b=s.createElement("script"),d=s.createElement("div"),f="script"+J();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=d.getElementsByTagName("*"),j=d.getElementsByTagName("a")[0];if(!(!e||!e.length||!j)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(j.getAttribute("style")),hrefNormalized:j.getAttribute("href")==="/a",opacity:/^0.55$/.test(j.style.opacity),cssFloat:!!j.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:s.createElement("select").appendChild(s.createElement("option")).selected,parentNode:d.removeChild(d.appendChild(s.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};b.type="text/javascript";try{b.appendChild(s.createTextNode("window."+f+"=1;"));}catch(i){}a.insertBefore(b,a.firstChild);if(A[f]){c.support.scriptEval=true;delete A[f];}try{delete b.test;}catch(o){c.support.deleteExpando=false;}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function k(){c.support.noCloneEvent=false;d.detachEvent("onclick",k);});d.cloneNode(true).fireEvent("onclick");}d=s.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=s.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var k=s.createElement("div");k.style.width=k.style.paddingLeft="1px";s.body.appendChild(k);c.boxModel=c.support.boxModel=k.offsetWidth===2;s.body.removeChild(k).style.display="none";});a=function(k){var n=s.createElement("div");k="on"+k;var r=k in n;if(!r){n.setAttribute(k,"return;");r=typeof n[k]==="function";}return r;};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=e=j=null;}})();c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var G="jQuery"+J(),Ya=0,za={};c.extend({cache:{},expando:G,noData:{embed:true,object:true,applet:true},data:function(a,b,d){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=a==A?za:a;var f=a[G],e=c.cache;if(!f&&typeof b==="string"&&d===w){return null;}f||(f=++Ya);if(typeof b==="object"){a[G]=f;e[f]=c.extend(true,{},b);}else{if(!e[f]){a[G]=f;e[f]={};}}a=e[f];if(d!==w){a[b]=d;}return typeof b==="string"?a[b]:a;}},removeData:function(a,b){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=a==A?za:a;var d=a[G],f=c.cache,e=f[d];if(b){if(e){delete e[b];c.isEmptyObject(e)&&c.removeData(a);}}else{if(c.support.deleteExpando){delete a[c.expando];}else{a.removeAttribute&&a.removeAttribute(c.expando);}delete f[d];}}}});c.fn.extend({data:function(a,b){if(typeof a==="undefined"&&this.length){return c.data(this[0]);}else{if(typeof a==="object"){return this.each(function(){c.data(this,a);});}}var d=a.split(".");d[1]=d[1]?"."+d[1]:"";if(b===w){var f=this.triggerHandler("getData"+d[1]+"!",[d[0]]);if(f===w&&this.length){f=c.data(this[0],a);}return f===w&&d[1]?this.data(d[0]):f;}else{return this.trigger("setData"+d[1]+"!",[d[0],b]).each(function(){c.data(this,a,b);});}},removeData:function(a){return this.each(function(){c.removeData(this,a);});}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var f=c.data(a,b);if(!d){return f||[];}if(!f||c.isArray(d)){f=c.data(a,b,c.makeArray(d));}else{f.push(d);}return f;}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),f=d.shift();if(f==="inprogress"){f=d.shift();}if(f){b==="fx"&&d.unshift("inprogress");f.call(a,function(){c.dequeue(a,b);});}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx";}if(b===w){return c.queue(this[0],a);}return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a);});},dequeue:function(a){return this.each(function(){c.dequeue(this,a);});},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b);},a);});},clearQueue:function(a){return this.queue(a||"fx",[]);}});var Aa=/[\n\t]/g,ca=/\s+/,Za=/\r/g,$a=/href|src|style/,ab=/(button|input)/i,bb=/(button|input|object|select|textarea)/i,cb=/^(a|area)$/i,Ba=/radio|checkbox/;c.fn.extend({attr:function(a,b){return X(this,a,b,true,c.attr);},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a);});},addClass:function(a){if(c.isFunction(a)){return this.each(function(n){var r=c(this);r.addClass(a.call(this,n,r.attr("class")));});}if(a&&typeof a==="string"){for(var b=(a||"").split(ca),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1){if(e.className){for(var j=" "+e.className+" ",i=e.className,o=0,k=b.length;o<k;o++){if(j.indexOf(" "+b[o]+" ")<0){i+=" "+b[o];}}e.className=c.trim(i);}else{e.className=a;}}}}return this;},removeClass:function(a){if(c.isFunction(a)){return this.each(function(k){var n=c(this);n.removeClass(a.call(this,k,n.attr("class")));});}if(a&&typeof a==="string"||a===w){for(var b=(a||"").split(ca),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1&&e.className){if(a){for(var j=(" "+e.className+" ").replace(Aa," "),i=0,o=b.length;i<o;i++){j=j.replace(" "+b[i]+" "," ");}e.className=c.trim(j);}else{e.className="";}}}}return this;},toggleClass:function(a,b){var d=typeof a,f=typeof b==="boolean";if(c.isFunction(a)){return this.each(function(e){var j=c(this);j.toggleClass(a.call(this,e,j.attr("class"),b),b);});}return this.each(function(){if(d==="string"){for(var e,j=0,i=c(this),o=b,k=a.split(ca);e=k[j++];){o=f?o:!i.hasClass(e);i[o?"addClass":"removeClass"](e);}}else{if(d==="undefined"||d==="boolean"){this.className&&c.data(this,"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||"";}}});},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++){if((" "+this[b].className+" ").replace(Aa," ").indexOf(a)>-1){return true;}}return false;},val:function(a){if(a===w){var b=this[0];if(b){if(c.nodeName(b,"option")){return (b.attributes.value||{}).specified?b.value:b.text;}if(c.nodeName(b,"select")){var d=b.selectedIndex,f=[],e=b.options;b=b.type==="select-one";if(d<0){return null;}var j=b?d:0;for(d=b?d+1:e.length;j<d;j++){var i=e[j];if(i.selected){a=c(i).val();if(b){return a;}f.push(a);}}return f;}if(Ba.test(b.type)&&!c.support.checkOn){return b.getAttribute("value")===null?"on":b.value;}return (b.value||"").replace(Za,"");}return w;}var o=c.isFunction(a);return this.each(function(k){var n=c(this),r=a;if(this.nodeType===1){if(o){r=a.call(this,k,n.val());}if(typeof r==="number"){r+="";}if(c.isArray(r)&&Ba.test(this.type)){this.checked=c.inArray(n.val(),r)>=0;}else{if(c.nodeName(this,"select")){var u=c.makeArray(r);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),u)>=0;});if(!u.length){this.selectedIndex=-1;}}else{this.value=r;}}}});}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,d,f){if(!a||a.nodeType===3||a.nodeType===8){return w;}if(f&&b in c.attrFn){return c(a)[b](d);}f=a.nodeType!==1||!c.isXMLDoc(a);var e=d!==w;b=f&&c.props[b]||b;if(a.nodeType===1){var j=$a.test(b);if(b in a&&f&&!j){if(e){b==="type"&&ab.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");a[b]=d;}if(c.nodeName(a,"form")&&a.getAttributeNode(b)){return a.getAttributeNode(b).nodeValue;}if(b==="tabIndex"){return (b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:bb.test(a.nodeName)||cb.test(a.nodeName)&&a.href?0:w;}return a[b];}if(!c.support.style&&f&&b==="style"){if(e){a.style.cssText=""+d;}return a.style.cssText;}e&&a.setAttribute(b,""+d);a=!c.support.hrefNormalized&&f&&j?a.getAttribute(b,2):a.getAttribute(b);return a===null?w:a;}return c.style(a,b,d);}});var O=/\.(.*)$/,db=function(a){return a.replace(/[^\w\s\.\|`]/g,function(b){return "\\"+b;});};c.event={add:function(a,b,d,f){if(!(a.nodeType===3||a.nodeType===8)){if(a.setInterval&&a!==A&&!a.frameElement){a=A;}var e,j;if(d.handler){e=d;d=e.handler;}if(!d.guid){d.guid=c.guid++;}if(j=c.data(a)){var i=j.events=j.events||{},o=j.handle;if(!o){j.handle=o=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(o.elem,arguments):w;};}o.elem=a;b=b.split(" ");for(var k,n=0,r;k=b[n++];){j=e?c.extend({},e):{handler:d,data:f};if(k.indexOf(".")>-1){r=k.split(".");k=r.shift();j.namespace=r.slice(0).sort().join(".");}else{r=[];j.namespace="";}j.type=k;j.guid=d.guid;var u=i[k],z=c.event.special[k]||{};if(!u){u=i[k]=[];if(!z.setup||z.setup.call(a,f,r,o)===false){if(a.addEventListener){a.addEventListener(k,o,false);}else{a.attachEvent&&a.attachEvent("on"+k,o);}}}if(z.add){z.add.call(a,j);if(!j.handler.guid){j.handler.guid=d.guid;}}u.push(j);c.event.global[k]=true;}a=null;}}},global:{},remove:function(a,b,d,f){if(!(a.nodeType===3||a.nodeType===8)){var e,j=0,i,o,k,n,r,u,z=c.data(a),C=z&&z.events;if(z&&C){if(b&&b.type){d=b.handler;b=b.type;}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(e in C){c.event.remove(a,e+b);}}else{for(b=b.split(" ");e=b[j++];){n=e;i=e.indexOf(".")<0;o=[];if(!i){o=e.split(".");e=o.shift();k=new RegExp("(^|\\.)"+c.map(o.slice(0).sort(),db).join("\\.(?:.*\\.)?")+"(\\.|$)");}if(r=C[e]){if(d){n=c.event.special[e]||{};for(B=f||0;B<r.length;B++){u=r[B];if(d.guid===u.guid){if(i||k.test(u.namespace)){f==null&&r.splice(B--,1);n.remove&&n.remove.call(a,u);}if(f!=null){break;}}}if(r.length===0||f!=null&&r.length===1){if(!n.teardown||n.teardown.call(a,o)===false){Ca(a,e,z.handle);}delete C[e];}}else{for(var B=0;B<r.length;B++){u=r[B];if(i||k.test(u.namespace)){c.event.remove(a,n,u.handler,B);r.splice(B--,1);}}}}}if(c.isEmptyObject(C)){if(b=z.handle){b.elem=null;}delete z.events;delete z.handle;c.isEmptyObject(z)&&c.removeData(a);}}}}},trigger:function(a,b,d,f){var e=a.type||a;if(!f){a=typeof a==="object"?a[G]?a:c.extend(c.Event(e),a):c.Event(e);if(e.indexOf("!")>=0){a.type=e=e.slice(0,-1);a.exclusive=true;}if(!d){a.stopPropagation();c.event.global[e]&&c.each(c.cache,function(){this.events&&this.events[e]&&c.event.trigger(a,b,this.handle.elem);});}if(!d||d.nodeType===3||d.nodeType===8){return w;}a.result=w;a.target=d;b=c.makeArray(b);b.unshift(a);}a.currentTarget=d;(f=c.data(d,"handle"))&&f.apply(d,b);f=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()])){if(d["on"+e]&&d["on"+e].apply(d,b)===false){a.result=false;}}}catch(j){}if(!a.isPropagationStopped()&&f){c.event.trigger(a,b,f,true);}else{if(!a.isDefaultPrevented()){f=a.target;var i,o=c.nodeName(f,"a")&&e==="click",k=c.event.special[e]||{};if((!k._default||k._default.call(d,a)===false)&&!o&&!(f&&f.nodeName&&c.noData[f.nodeName.toLowerCase()])){try{if(f[e]){if(i=f["on"+e]){f["on"+e]=null;}c.event.triggered=true;f[e]();}}catch(n){}if(i){f["on"+e]=i;}c.event.triggered=false;}}}},handle:function(a){var b,d,f,e;a=arguments[0]=c.event.fix(a||A.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){d=a.type.split(".");a.type=d.shift();f=new RegExp("(^|\\.)"+d.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");}e=c.data(this,"events");d=e[a.type];if(e&&d){d=d.slice(0);e=0;for(var j=d.length;e<j;e++){var i=d[e];if(b||f.test(i.namespace)){a.handler=i.handler;a.data=i.data;a.handleObj=i;i=i.handler.apply(this,arguments);if(i!==w){a.result=i;if(i===false){a.preventDefault();a.stopPropagation();}}if(a.isImmediatePropagationStopped()){break;}}}}return a.result;},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[G]){return a;}var b=a;a=c.Event(b);for(var d=this.props.length,f;d;){f=this.props[--d];a[f]=b[f];}if(!a.target){a.target=a.srcElement||s;}if(a.target.nodeType===3){a.target=a.target.parentNode;}if(!a.relatedTarget&&a.fromElement){a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;}if(a.pageX==null&&a.clientX!=null){b=s.documentElement;d=s.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0);}if(!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode)){a.which=a.charCode||a.keyCode;}if(!a.metaKey&&a.ctrlKey){a.metaKey=a.ctrlKey;}if(!a.which&&a.button!==w){a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;}return a;},guid:100000000,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,a.origType,c.extend({},a,{handler:oa}));},remove:function(a){var b=true,d=a.origType.replace(O,"");c.each(c.data(this,"events").live||[],function(){if(d===this.origType.replace(O,"")){return b=false;}});b&&c.event.remove(this,a.origType,oa);}},beforeunload:{setup:function(a,b,d){if(this.setInterval){this.onbeforeunload=d;}return false;},teardown:function(a,b){if(this.onbeforeunload===b){this.onbeforeunload=null;}}}}};var Ca=s.removeEventListener?function(a,b,d){a.removeEventListener(b,d,false);}:function(a,b,d){a.detachEvent("on"+b,d);};c.Event=function(a){if(!this.preventDefault){return new c.Event(a);}if(a&&a.type){this.originalEvent=a;this.type=a.type;}else{this.type=a;}this.timeStamp=J();this[G]=true;};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Z;var a=this.originalEvent;if(a){a.preventDefault&&a.preventDefault();a.returnValue=false;}},stopPropagation:function(){this.isPropagationStopped=Z;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true;}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z;this.stopPropagation();},isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y};var Da=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;){b=b.parentNode;}if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments);}}catch(d){}},Ea=function(a){a.type=a.data;c.event.handle.apply(this,arguments);};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?Ea:Da,a);},teardown:function(d){c.event.remove(this,b,d&&d.selector?Ea:Da);}};});if(!c.support.submitBubbles){c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length){return na("submit",this,arguments);}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13){return na("submit",this,arguments);}});}else{return false;}},teardown:function(){c.event.remove(this,".specialSubmit");}};}if(!c.support.changeBubbles){var da=/textarea|input|select/i,ea,Fa=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox"){d=a.checked;}else{if(b==="select-multiple"){d=a.selectedIndex>-1?c.map(a.options,function(f){return f.selected;}).join("-"):"";}else{if(a.nodeName.toLowerCase()==="select"){d=a.selectedIndex;}}}return d;},fa=function(a,b){var d=a.target,f,e;if(!(!da.test(d.nodeName)||d.readOnly)){f=c.data(d,"_change_data");e=Fa(d);if(a.type!=="focusout"||d.type!=="radio"){c.data(d,"_change_data",e);}if(!(f===w||e===f)){if(f!=null||e){a.type="change";return c.event.trigger(a,b,d);}}}};c.event.special.change={filters:{focusout:fa,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select"){return fa.call(this,a);}},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple"){return fa.call(this,a);}},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",Fa(a));}},setup:function(){if(this.type==="file"){return false;}for(var a in ea){c.event.add(this,a+".specialChange",ea[a]);}return da.test(this.nodeName);},teardown:function(){c.event.remove(this,".specialChange");return da.test(this.nodeName);}};ea=c.event.special.change.filters;}s.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(f){f=c.event.fix(f);f.type=b;return c.event.handle.call(this,f);}c.event.special[b]={setup:function(){this.addEventListener(a,d,true);},teardown:function(){this.removeEventListener(a,d,true);}};});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,f,e){if(typeof d==="object"){for(var j in d){this[b](j,f,d[j],e);}return this;}if(c.isFunction(f)){e=f;f=w;}var i=b==="one"?c.proxy(e,function(k){c(this).unbind(k,i);return e.apply(this,arguments);}):e;if(d==="unload"&&b!=="one"){this.one(d,f,e);}else{j=0;for(var o=this.length;j<o;j++){c.event.add(this[j],d,i,f);}}return this;};});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault){for(var d in a){this.unbind(d,a[d]);}}else{d=0;for(var f=this.length;d<f;d++){c.event.remove(this[d],a,b);}}return this;},delegate:function(a,b,d,f){return this.live(b,d,f,a);},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a);},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this);});},triggerHandler:function(a,b){if(this[0]){a=c.Event(a);a.preventDefault();a.stopPropagation();c.event.trigger(a,b,this[0]);return a.result;}},toggle:function(a){for(var b=arguments,d=1;d<b.length;){c.proxy(a,b[d++]);}return this.click(c.proxy(a,function(f){var e=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,e+1);f.preventDefault();return b[e].apply(this,arguments)||false;}));},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a);}});var Ga={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,f,e,j){var i,o=0,k,n,r=j||this.selector,u=j?this:c(this.context);if(c.isFunction(f)){e=f;f=w;}for(d=(d||"").split(" ");(i=d[o++])!=null;){j=O.exec(i);k="";if(j){k=j[0];i=i.replace(O,"");}if(i==="hover"){d.push("mouseenter"+k,"mouseleave"+k);}else{n=i;if(i==="focus"||i==="blur"){d.push(Ga[i]+k);i+=k;}else{i=(Ga[i]||i)+k;}b==="live"?u.each(function(){c.event.add(this,pa(i,r),{data:f,selector:r,handler:e,origType:i,origHandler:e,preType:n});}):u.unbind(pa(i,r),e);}}return this;};});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d){return d?this.bind(b,d):this.trigger(b);};if(c.attrFn){c.attrFn[b]=true;}});A.attachEvent&&!A.addEventListener&&A.attachEvent("onunload",function(){for(var a in c.cache){if(c.cache[a].handle){try{c.event.remove(c.cache[a].handle.elem);}catch(b){}}}});(function(){function a(g){for(var h="",l,m=0;g[m];m++){l=g[m];if(l.nodeType===3||l.nodeType===4){h+=l.nodeValue;}else{if(l.nodeType!==8){h+=a(l.childNodes);}}}return h;}function b(g,h,l,m,q,p){q=0;for(var v=m.length;q<v;q++){var t=m[q];if(t){t=t[g];for(var y=false;t;){if(t.sizcache===l){y=m[t.sizset];break;}if(t.nodeType===1&&!p){t.sizcache=l;t.sizset=q;}if(t.nodeName.toLowerCase()===h){y=t;break;}t=t[g];}m[q]=y;}}}function d(g,h,l,m,q,p){q=0;for(var v=m.length;q<v;q++){var t=m[q];if(t){t=t[g];for(var y=false;t;){if(t.sizcache===l){y=m[t.sizset];break;}if(t.nodeType===1){if(!p){t.sizcache=l;t.sizset=q;}if(typeof h!=="string"){if(t===h){y=true;break;}}else{if(k.filter(h,[t]).length>0){y=t;break;}}}t=t[g];}m[q]=y;}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,j=Object.prototype.toString,i=false,o=true;[0,0].sort(function(){o=false;return 0;});var k=function(g,h,l,m){l=l||[];var q=h=h||s;if(h.nodeType!==1&&h.nodeType!==9){return [];}if(!g||typeof g!=="string"){return l;}for(var p=[],v,t,y,S,H=true,M=x(h),I=g;(f.exec(""),v=f.exec(I))!==null;){I=v[3];p.push(v[1]);if(v[2]){S=v[3];break;}}if(p.length>1&&r.exec(g)){if(p.length===2&&n.relative[p[0]]){t=ga(p[0]+p[1],h);}else{for(t=n.relative[p[0]]?[h]:k(p.shift(),h);p.length;){g=p.shift();if(n.relative[g]){g+=p.shift();}t=ga(g,t);}}}else{if(!m&&p.length>1&&h.nodeType===9&&!M&&n.match.ID.test(p[0])&&!n.match.ID.test(p[p.length-1])){v=k.find(p.shift(),h,M);h=v.expr?k.filter(v.expr,v.set)[0]:v.set[0];}if(h){v=m?{expr:p.pop(),set:z(m)}:k.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&h.parentNode?h.parentNode:h,M);t=v.expr?k.filter(v.expr,v.set):v.set;if(p.length>0){y=z(t);}else{H=false;}for(;p.length;){var D=p.pop();v=D;if(n.relative[D]){v=p.pop();}else{D="";}if(v==null){v=h;}n.relative[D](y,v,M);}}else{y=[];}}y||(y=t);y||k.error(D||g);if(j.call(y)==="[object Array]"){if(H){if(h&&h.nodeType===1){for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&E(h,y[g]))){l.push(t[g]);}}}else{for(g=0;y[g]!=null;g++){y[g]&&y[g].nodeType===1&&l.push(t[g]);}}}else{l.push.apply(l,y);}}else{z(y,l);}if(S){k(S,q,l,m);k.uniqueSort(l);}return l;};k.uniqueSort=function(g){if(B){i=o;g.sort(B);if(i){for(var h=1;h<g.length;h++){g[h]===g[h-1]&&g.splice(h--,1);}}}return g;};k.matches=function(g,h){return k(g,null,null,h);};k.find=function(g,h,l){var m,q;if(!g){return [];}for(var p=0,v=n.order.length;p<v;p++){var t=n.order[p];if(q=n.leftMatch[t].exec(g)){var y=q[1];q.splice(1,1);if(y.substr(y.length-1)!=="\\"){q[1]=(q[1]||"").replace(/\\/g,"");m=n.find[t](q,h,l);if(m!=null){g=g.replace(n.match[t],"");break;}}}}m||(m=h.getElementsByTagName("*"));return {set:m,expr:g};};k.filter=function(g,h,l,m){for(var q=g,p=[],v=h,t,y,S=h&&h[0]&&x(h[0]);g&&h.length;){for(var H in n.filter){if((t=n.leftMatch[H].exec(g))!=null&&t[2]){var M=n.filter[H],I,D;D=t[1];y=false;t.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(v===p){p=[];}if(n.preFilter[H]){if(t=n.preFilter[H](t,v,l,p,m,S)){if(t===true){continue;}}else{y=I=true;}}if(t){for(var U=0;(D=v[U])!=null;U++){if(D){I=M(D,t,U,v);var Ha=m^!!I;if(l&&I!=null){if(Ha){y=true;}else{v[U]=false;}}else{if(Ha){p.push(D);y=true;}}}}}if(I!==w){l||(v=p);g=g.replace(n.match[H],"");if(!y){return [];}break;}}}}if(g===q){if(y==null){k.error(g);}else{break;}}q=g;}return v;};k.error=function(g){throw "Syntax error, unrecognized expression: "+g;};var n=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href");}},relative:{"+":function(g,h){var l=typeof h==="string",m=l&&!/\W/.test(h);l=l&&!m;if(m){h=h.toLowerCase();}m=0;for(var q=g.length,p;m<q;m++){if(p=g[m]){for(;(p=p.previousSibling)&&p.nodeType!==1;){}g[m]=l||p&&p.nodeName.toLowerCase()===h?p||false:p===h;}}l&&k.filter(h,g,true);},">":function(g,h){var l=typeof h==="string";if(l&&!/\W/.test(h)){h=h.toLowerCase();for(var m=0,q=g.length;m<q;m++){var p=g[m];if(p){l=p.parentNode;g[m]=l.nodeName.toLowerCase()===h?l:false;}}}else{m=0;for(q=g.length;m<q;m++){if(p=g[m]){g[m]=l?p.parentNode:p.parentNode===h;}}l&&k.filter(h,g,true);}},"":function(g,h,l){var m=e++,q=d;if(typeof h==="string"&&!/\W/.test(h)){var p=h=h.toLowerCase();q=b;}q("parentNode",h,m,g,p,l);},"~":function(g,h,l){var m=e++,q=d;if(typeof h==="string"&&!/\W/.test(h)){var p=h=h.toLowerCase();q=b;}q("previousSibling",h,m,g,p,l);}},find:{ID:function(g,h,l){if(typeof h.getElementById!=="undefined"&&!l){return (g=h.getElementById(g[1]))?[g]:[];}},NAME:function(g,h){if(typeof h.getElementsByName!=="undefined"){var l=[];h=h.getElementsByName(g[1]);for(var m=0,q=h.length;m<q;m++){h[m].getAttribute("name")===g[1]&&l.push(h[m]);}return l.length===0?null:l;}},TAG:function(g,h){return h.getElementsByTagName(g[1]);}},preFilter:{CLASS:function(g,h,l,m,q,p){g=" "+g[1].replace(/\\/g,"")+" ";if(p){return g;}p=0;for(var v;(v=h[p])!=null;p++){if(v){if(q^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0)){l||m.push(v);}else{if(l){h[p]=false;}}}}return false;},ID:function(g){return g[1].replace(/\\/g,"");},TAG:function(g){return g[1].toLowerCase();},CHILD:function(g){if(g[1]==="nth"){var h=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=h[1]+(h[2]||1)-0;g[3]=h[3]-0;}g[0]=e++;return g;},ATTR:function(g,h,l,m,q,p){h=g[1].replace(/\\/g,"");if(!p&&n.attrMap[h]){g[1]=n.attrMap[h];}if(g[2]==="~="){g[4]=" "+g[4]+" ";}return g;},PSEUDO:function(g,h,l,m,q){if(g[1]==="not"){if((f.exec(g[3])||"").length>1||/^\w/.test(g[3])){g[3]=k(g[3],null,null,h);}else{g=k.filter(g[3],h,l,true^q);l||m.push.apply(m,g);return false;}}else{if(n.match.POS.test(g[0])||n.match.CHILD.test(g[0])){return true;}}return g;},POS:function(g){g.unshift(true);return g;}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden";},disabled:function(g){return g.disabled===true;},checked:function(g){return g.checked===true;},selected:function(g){return g.selected===true;},parent:function(g){return !!g.firstChild;},empty:function(g){return !g.firstChild;},has:function(g,h,l){return !!k(l[3],g).length;},header:function(g){return /h\d/i.test(g.nodeName);},text:function(g){return "text"===g.type;},radio:function(g){return "radio"===g.type;},checkbox:function(g){return "checkbox"===g.type;},file:function(g){return "file"===g.type;},password:function(g){return "password"===g.type;},submit:function(g){return "submit"===g.type;},image:function(g){return "image"===g.type;},reset:function(g){return "reset"===g.type;},button:function(g){return "button"===g.type||g.nodeName.toLowerCase()==="button";},input:function(g){return /input|select|textarea|button/i.test(g.nodeName);}},setFilters:{first:function(g,h){return h===0;},last:function(g,h,l,m){return h===m.length-1;},even:function(g,h){return h%2===0;},odd:function(g,h){return h%2===1;},lt:function(g,h,l){return h<l[3]-0;},gt:function(g,h,l){return h>l[3]-0;},nth:function(g,h,l){return l[3]-0===h;},eq:function(g,h,l){return l[3]-0===h;}},filter:{PSEUDO:function(g,h,l,m){var q=h[1],p=n.filters[q];if(p){return p(g,l,h,m);}else{if(q==="contains"){return (g.textContent||g.innerText||a([g])||"").indexOf(h[3])>=0;}else{if(q==="not"){h=h[3];l=0;for(m=h.length;l<m;l++){if(h[l]===g){return false;}}return true;}else{k.error("Syntax error, unrecognized expression: "+q);}}}},CHILD:function(g,h){var l=h[1],m=g;switch(l){case "only":case "first":for(;m=m.previousSibling;){if(m.nodeType===1){return false;}}if(l==="first"){return true;}m=g;case "last":for(;m=m.nextSibling;){if(m.nodeType===1){return false;}}return true;case "nth":l=h[2];var q=h[3];if(l===1&&q===0){return true;}h=h[0];var p=g.parentNode;if(p&&(p.sizcache!==h||!g.nodeIndex)){var v=0;for(m=p.firstChild;m;m=m.nextSibling){if(m.nodeType===1){m.nodeIndex=++v;}}p.sizcache=h;}g=g.nodeIndex-q;return l===0?g===0:g%l===0&&g/l>=0;}},ID:function(g,h){return g.nodeType===1&&g.getAttribute("id")===h;},TAG:function(g,h){return h==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===h;},CLASS:function(g,h){return (" "+(g.className||g.getAttribute("class"))+" ").indexOf(h)>-1;},ATTR:function(g,h){var l=h[1];g=n.attrHandle[l]?n.attrHandle[l](g):g[l]!=null?g[l]:g.getAttribute(l);l=g+"";var m=h[2];h=h[4];return g==null?m==="!=":m==="="?l===h:m==="*="?l.indexOf(h)>=0:m==="~="?(" "+l+" ").indexOf(h)>=0:!h?l&&g!==false:m==="!="?l!==h:m==="^="?l.indexOf(h)===0:m==="$="?l.substr(l.length-h.length)===h:m==="|="?l===h||l.substr(0,h.length+1)===h+"-":false;},POS:function(g,h,l,m){var q=n.setFilters[h[2]];if(q){return q(g,l,h,m);}}}},r=n.match.POS;for(var u in n.match){n.match[u]=new RegExp(n.match[u].source+/(?![^\[]*\])(?![^\(]*\))/.source);n.leftMatch[u]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[u].source.replace(/\\(\d+)/g,function(g,h){return "\\"+(h-0+1);}));}var z=function(g,h){g=Array.prototype.slice.call(g,0);if(h){h.push.apply(h,g);return h;}return g;};try{Array.prototype.slice.call(s.documentElement.childNodes,0);}catch(C){z=function(g,h){h=h||[];if(j.call(g)==="[object Array]"){Array.prototype.push.apply(h,g);}else{if(typeof g.length==="number"){for(var l=0,m=g.length;l<m;l++){h.push(g[l]);}}else{for(l=0;g[l];l++){h.push(g[l]);}}}return h;};}var B;if(s.documentElement.compareDocumentPosition){B=function(g,h){if(!g.compareDocumentPosition||!h.compareDocumentPosition){if(g==h){i=true;}return g.compareDocumentPosition?-1:1;}g=g.compareDocumentPosition(h)&4?-1:g===h?0:1;if(g===0){i=true;}return g;};}else{if("sourceIndex" in s.documentElement){B=function(g,h){if(!g.sourceIndex||!h.sourceIndex){if(g==h){i=true;}return g.sourceIndex?-1:1;}g=g.sourceIndex-h.sourceIndex;if(g===0){i=true;}return g;};}else{if(s.createRange){B=function(g,h){if(!g.ownerDocument||!h.ownerDocument){if(g==h){i=true;}return g.ownerDocument?-1:1;}var l=g.ownerDocument.createRange(),m=h.ownerDocument.createRange();l.setStart(g,0);l.setEnd(g,0);m.setStart(h,0);m.setEnd(h,0);g=l.compareBoundaryPoints(Range.START_TO_END,m);if(g===0){i=true;}return g;};}}}(function(){var g=s.createElement("div"),h="script"+(new Date).getTime();g.innerHTML="<a name='"+h+"'/>";var l=s.documentElement;l.insertBefore(g,l.firstChild);if(s.getElementById(h)){n.find.ID=function(m,q,p){if(typeof q.getElementById!=="undefined"&&!p){return (q=q.getElementById(m[1]))?q.id===m[1]||typeof q.getAttributeNode!=="undefined"&&q.getAttributeNode("id").nodeValue===m[1]?[q]:w:[];}};n.filter.ID=function(m,q){var p=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&p&&p.nodeValue===q;};}l.removeChild(g);l=g=null;})();(function(){var g=s.createElement("div");g.appendChild(s.createComment(""));if(g.getElementsByTagName("*").length>0){n.find.TAG=function(h,l){l=l.getElementsByTagName(h[1]);if(h[1]==="*"){h=[];for(var m=0;l[m];m++){l[m].nodeType===1&&h.push(l[m]);}l=h;}return l;};}g.innerHTML="<a href='#'></a>";if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#"){n.attrHandle.href=function(h){return h.getAttribute("href",2);};}g=null;})();s.querySelectorAll&&function(){var g=k,h=s.createElement("div");h.innerHTML="<p class='TEST'></p>";if(!(h.querySelectorAll&&h.querySelectorAll(".TEST").length===0)){k=function(m,q,p,v){q=q||s;if(!v&&q.nodeType===9&&!x(q)){try{return z(q.querySelectorAll(m),p);}catch(t){}}return g(m,q,p,v);};for(var l in g){k[l]=g[l];}h=null;}}();(function(){var g=s.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){n.order.splice(1,0,"CLASS");n.find.CLASS=function(h,l,m){if(typeof l.getElementsByClassName!=="undefined"&&!m){return l.getElementsByClassName(h[1]);}};g=null;}}})();var E=s.compareDocumentPosition?function(g,h){return !!(g.compareDocumentPosition(h)&16);}:function(g,h){return g!==h&&(g.contains?g.contains(h):true);},x=function(g){return (g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false;},ga=function(g,h){var l=[],m="",q;for(h=h.nodeType?[h]:h;q=n.match.PSEUDO.exec(g);){m+=q[0];g=g.replace(n.match.PSEUDO,"");}g=n.relative[g]?g+"*":g;q=0;for(var p=h.length;q<p;q++){k(g,h[q],l);}return k.filter(m,l);};c.find=k;c.expr=k.selectors;c.expr[":"]=c.expr.filters;c.unique=k.uniqueSort;c.text=a;c.isXMLDoc=x;c.contains=E;})();var eb=/Until$/,fb=/^(?:parents|prevUntil|prevAll)/,gb=/,/;R=Array.prototype.slice;var Ia=function(a,b,d){if(c.isFunction(b)){return c.grep(a,function(e,j){return !!b.call(e,j,e)===d;});}else{if(b.nodeType){return c.grep(a,function(e){return e===b===d;});}else{if(typeof b==="string"){var f=c.grep(a,function(e){return e.nodeType===1;});if(Ua.test(b)){return c.filter(b,f,!d);}else{b=c.filter(b,f);}}}}return c.grep(a,function(e){return c.inArray(e,b)>=0===d;});};c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,f=0,e=this.length;f<e;f++){d=b.length;c.find(a,this[f],b);if(f>0){for(var j=d;j<b.length;j++){for(var i=0;i<d;i++){if(b[i]===b[j]){b.splice(j--,1);break;}}}}}return b;},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,f=b.length;d<f;d++){if(c.contains(this,b[d])){return true;}}});},not:function(a){return this.pushStack(Ia(this,a,false),"not",a);},filter:function(a){return this.pushStack(Ia(this,a,true),"filter",a);},is:function(a){return !!a&&c.filter(a,this).length>0;},closest:function(a,b){if(c.isArray(a)){var d=[],f=this[0],e,j={},i;if(f&&a.length){e=0;for(var o=a.length;e<o;e++){i=a[e];j[i]||(j[i]=c.expr.match.POS.test(i)?c(i,b||this.context):i);}for(;f&&f.ownerDocument&&f!==b;){for(i in j){e=j[i];if(e.jquery?e.index(f)>-1:c(f).is(e)){d.push({selector:i,elem:f});delete j[i];}}f=f.parentNode;}}return d;}var k=c.expr.match.POS.test(a)?c(a,b||this.context):null;return this.map(function(n,r){for(;r&&r.ownerDocument&&r!==b;){if(k?k.index(r)>-1:c(r).is(a)){return r;}r=r.parentNode;}return null;});},index:function(a){if(!a||typeof a==="string"){return c.inArray(this[0],a?c(a):this.parent().children());}return c.inArray(a.jquery?a[0]:a,this);},add:function(a,b){a=typeof a==="string"?c(a,b||this.context):c.makeArray(a);b=c.merge(this.get(),a);return this.pushStack(qa(a[0])||qa(b[0])?b:c.unique(b));},andSelf:function(){return this.add(this.prevObject);}});c.each({parent:function(a){return (a=a.parentNode)&&a.nodeType!==11?a:null;},parents:function(a){return c.dir(a,"parentNode");},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d);},next:function(a){return c.nth(a,2,"nextSibling");},prev:function(a){return c.nth(a,2,"previousSibling");},nextAll:function(a){return c.dir(a,"nextSibling");},prevAll:function(a){return c.dir(a,"previousSibling");},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d);},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d);},siblings:function(a){return c.sibling(a.parentNode.firstChild,a);},children:function(a){return c.sibling(a.firstChild);},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes);}},function(a,b){c.fn[a]=function(d,f){var e=c.map(this,b,d);eb.test(a)||(f=d);if(f&&typeof f==="string"){e=c.filter(f,e);}e=this.length>1?c.unique(e):e;if((this.length>1||gb.test(f))&&fb.test(a)){e=e.reverse();}return this.pushStack(e,a,R.call(arguments).join(","));};});c.extend({filter:function(a,b,d){if(d){a=":not("+a+")";}return c.find.matches(a,b);},dir:function(a,b,d){var f=[];for(a=a[b];a&&a.nodeType!==9&&(d===w||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&f.push(a);a=a[b];}return f;},nth:function(a,b,d){b=b||1;for(var f=0;a;a=a[d]){if(a.nodeType===1&&++f===b){break;}}return a;},sibling:function(a,b){for(var d=[];a;a=a.nextSibling){a.nodeType===1&&a!==b&&d.push(a);}return d;}});var Ja=/ jQuery\d+="(?:\d+|null)"/g,V=/^\s+/,Ka=/(<([\w:]+)[^>]*?)\/>/g,hb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,La=/<([\w:]+)/,ib=/<tbody/i,jb=/<|&#?\w+;/,ta=/<script|<object|<embed|<option|<style/i,ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=function(a,b,d){return hb.test(d)?a:b+"></"+d+">";},F={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};F.optgroup=F.option;F.tbody=F.tfoot=F.colgroup=F.caption=F.thead;F.th=F.td;if(!c.support.htmlSerialize){F._default=[1,"div<div>","</div>"];}c.fn.extend({text:function(a){if(c.isFunction(a)){return this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()));});}if(typeof a!=="object"&&a!==w){return this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(a));}return c.text(this);},wrapAll:function(a){if(c.isFunction(a)){return this.each(function(d){c(this).wrapAll(a.call(this,d));});}if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;){d=d.firstChild;}return d;}).append(this);}return this;},wrapInner:function(a){if(c.isFunction(a)){return this.each(function(b){c(this).wrapInner(a.call(this,b));});}return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a);});},wrap:function(a){return this.each(function(){c(this).wrapAll(a);});},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes);}).end();},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a);});},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild);});},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this);});}else{if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments);}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling);});}else{if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a;}}},remove:function(a,b){for(var d=0,f;(f=this[d])!=null;d++){if(!a||c.filter(a,[f]).length){if(!b&&f.nodeType===1){c.cleanData(f.getElementsByTagName("*"));c.cleanData([f]);}f.parentNode&&f.parentNode.removeChild(f);}}return this;},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;){b.removeChild(b.firstChild);}}return this;},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,f=this.ownerDocument;if(!d){d=f.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML;}return c.clean([d.replace(Ja,"").replace(/=([^="'>\s]+\/)>/g,"=\"$1\">").replace(V,"")],f)[0];}else{return this.cloneNode(true);}});if(a===true){ra(this,b);ra(this.find("*"),b.find("*"));}return b;},html:function(a){if(a===w){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ja,""):null;}else{if(typeof a==="string"&&!ta.test(a)&&(c.support.leadingWhitespace||!V.test(a))&&!F[(La.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ka,Ma);try{for(var b=0,d=this.length;b<d;b++){if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a;}}}catch(f){this.empty().append(a);}}else{c.isFunction(a)?this.each(function(e){var j=c(this),i=j.html();j.empty().append(function(){return a.call(this,e,i);});}):this.empty().append(a);}}return this;},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a)){return this.each(function(b){var d=c(this),f=d.html();d.replaceWith(a.call(this,b,f));});}if(typeof a!=="string"){a=c(a).detach();}return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a);});}else{return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a);}},detach:function(a){return this.remove(a,true);},domManip:function(a,b,d){function f(u){return c.nodeName(u,"table")?u.getElementsByTagName("tbody")[0]||u.appendChild(u.ownerDocument.createElement("tbody")):u;}var e,j,i=a[0],o=[],k;if(!c.support.checkClone&&arguments.length===3&&typeof i==="string"&&ua.test(i)){return this.each(function(){c(this).domManip(a,b,d,true);});}if(c.isFunction(i)){return this.each(function(u){var z=c(this);a[0]=i.call(this,u,b?z.html():w);z.domManip(a,b,d);});}if(this[0]){e=i&&i.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:sa(a,this,o);k=e.fragment;if(j=k.childNodes.length===1?(k=k.firstChild):k.firstChild){b=b&&c.nodeName(j,"tr");for(var n=0,r=this.length;n<r;n++){d.call(b?f(this[n],j):this[n],n>0||e.cacheable||this.length>1?k.cloneNode(true):k);}}o.length&&c.each(o,Qa);}return this;}});c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var f=[];d=c(d);var e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&d.length===1){d[b](this[0]);return this;}else{e=0;for(var j=d.length;e<j;e++){var i=(e>0?this.clone(true):this).get();c.fn[b].apply(c(d[e]),i);f=f.concat(i);}return this.pushStack(f,a,d.selector);}};});c.extend({clean:function(a,b,d,f){b=b||s;if(typeof b.createElement==="undefined"){b=b.ownerDocument||b[0]&&b[0].ownerDocument||s;}for(var e=[],j=0,i;(i=a[j])!=null;j++){if(typeof i==="number"){i+="";}if(i){if(typeof i==="string"&&!jb.test(i)){i=b.createTextNode(i);}else{if(typeof i==="string"){i=i.replace(Ka,Ma);var o=(La.exec(i)||["",""])[1].toLowerCase(),k=F[o]||F._default,n=k[0],r=b.createElement("div");for(r.innerHTML=k[1]+i+k[2];n--;){r=r.lastChild;}if(!c.support.tbody){n=ib.test(i);o=o==="table"&&!n?r.firstChild&&r.firstChild.childNodes:k[1]==="<table>"&&!n?r.childNodes:[];for(k=o.length-1;k>=0;--k){c.nodeName(o[k],"tbody")&&!o[k].childNodes.length&&o[k].parentNode.removeChild(o[k]);}}!c.support.leadingWhitespace&&V.test(i)&&r.insertBefore(b.createTextNode(V.exec(i)[0]),r.firstChild);i=r.childNodes;}}if(i.nodeType){e.push(i);}else{e=c.merge(e,i);}}}if(d){for(j=0;e[j];j++){if(f&&c.nodeName(e[j],"script")&&(!e[j].type||e[j].type.toLowerCase()==="text/javascript")){f.push(e[j].parentNode?e[j].parentNode.removeChild(e[j]):e[j]);}else{e[j].nodeType===1&&e.splice.apply(e,[j+1,0].concat(c.makeArray(e[j].getElementsByTagName("script"))));d.appendChild(e[j]);}}}return e;},cleanData:function(a){for(var b,d,f=c.cache,e=c.event.special,j=c.support.deleteExpando,i=0,o;(o=a[i])!=null;i++){if(d=o[c.expando]){b=f[d];if(b.events){for(var k in b.events){e[k]?c.event.remove(o,k):Ca(o,k,b.handle);}}if(j){delete o[c.expando];}else{o.removeAttribute&&o.removeAttribute(c.expando);}delete f[d];}}}});var kb=/z-?index|font-?weight|opacity|zoom|line-?height/i,Na=/alpha\([^)]*\)/,Oa=/opacity=([^)]*)/,ha=/float/i,ia=/-([a-z])/ig,lb=/([A-Z])/g,mb=/^-?\d+(?:px)?$/i,nb=/^-?\d/,ob={position:"absolute",visibility:"hidden",display:"block"},pb=["Left","Right"],qb=["Top","Bottom"],rb=s.defaultView&&s.defaultView.getComputedStyle,Pa=c.support.cssFloat?"cssFloat":"styleFloat",ja=function(a,b){return b.toUpperCase();};c.fn.css=function(a,b){return X(this,a,b,true,function(d,f,e){if(e===w){return c.curCSS(d,f);}if(typeof e==="number"&&!kb.test(f)){e+="px";}c.style(d,f,e);});};c.extend({style:function(a,b,d){if(!a||a.nodeType===3||a.nodeType===8){return w;}if((b==="width"||b==="height")&&parseFloat(d)<0){d=w;}var f=a.style||a,e=d!==w;if(!c.support.opacity&&b==="opacity"){if(e){f.zoom=1;b=parseInt(d,10)+""==="NaN"?"":"alpha(opacity="+d*100+")";a=f.filter||c.curCSS(a,"filter")||"";f.filter=Na.test(a)?a.replace(Na,b):b;}return f.filter&&f.filter.indexOf("opacity=")>=0?parseFloat(Oa.exec(f.filter)[1])/100+"":"";}if(ha.test(b)){b=Pa;}b=b.replace(ia,ja);if(e){f[b]=d;}return f[b];},css:function(a,b,d,f){if(b==="width"||b==="height"){var e,j=b==="width"?pb:qb;function i(){e=b==="width"?a.offsetWidth:a.offsetHeight;f!=="border"&&c.each(j,function(){f||(e-=parseFloat(c.curCSS(a,"padding"+this,true))||0);if(f==="margin"){e+=parseFloat(c.curCSS(a,"margin"+this,true))||0;}else{e-=parseFloat(c.curCSS(a,"border"+this+"Width",true))||0;}});}a.offsetWidth!==0?i():c.swap(a,ob,i);return Math.max(0,Math.round(e));}return c.curCSS(a,b,d);},curCSS:function(a,b,d){var f,e=a.style;if(!c.support.opacity&&b==="opacity"&&a.currentStyle){f=Oa.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return f===""?"1":f;}if(ha.test(b)){b=Pa;}if(!d&&e&&e[b]){f=e[b];}else{if(rb){if(ha.test(b)){b="float";}b=b.replace(lb,"-$1").toLowerCase();e=a.ownerDocument.defaultView;if(!e){return null;}if(a=e.getComputedStyle(a,null)){f=a.getPropertyValue(b);}if(b==="opacity"&&f===""){f="1";}}else{if(a.currentStyle){d=b.replace(ia,ja);f=a.currentStyle[b]||a.currentStyle[d];if(!mb.test(f)&&nb.test(f)){b=e.left;var j=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left=d==="fontSize"?"1em":f||0;f=e.pixelLeft+"px";e.left=b;a.runtimeStyle.left=j;}}}}return f;},swap:function(a,b,d){var f={};for(var e in b){f[e]=a.style[e];a.style[e]=b[e];}d.call(a);for(e in b){a.style[e]=f[e];}}});if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetWidth,d=a.offsetHeight,f=a.nodeName.toLowerCase()==="tr";return b===0&&d===0&&!f?true:b>0&&d>0&&!f?false:c.curCSS(a,"display")==="none";};c.expr.filters.visible=function(a){return !c.expr.filters.hidden(a);};}var sb=J(),tb=/<script(.|\s)*?\/script>/gi,ub=/select|textarea/i,vb=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,N=/=\?(&|$)/,ka=/\?/,wb=/(\?|&)_=.*?(&|$)/,xb=/^(\w+:)?\/\/([^\/?#]+)/,yb=/%20/g,zb=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string"){return zb.call(this,a);}else{if(!this.length){return this;}}var f=a.indexOf(" ");if(f>=0){var e=a.slice(f,a.length);a=a.slice(0,f);}f="GET";if(b){if(c.isFunction(b)){d=b;b=null;}else{if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);f="POST";}}}var j=this;c.ajax({url:a,type:f,dataType:"html",data:b,complete:function(i,o){if(o==="success"||o==="notmodified"){j.html(e?c("<div />").append(i.responseText.replace(tb,"")).find(e):i.responseText);}d&&j.each(d,[i.responseText,o,i]);}});return this;},serialize:function(){return c.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||ub.test(this.nodeName)||vb.test(this.type));}).map(function(a,b){a=c(this).val();return a==null?null:c.isArray(a)?c.map(a,function(d){return {name:b.name,value:d};}):{name:b.name,value:a};}).get();}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d);};});c.extend({get:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b=null;}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:f});},getScript:function(a,b){return c.get(a,null,b,"script");},getJSON:function(a,b,d){return c.get(a,b,d,"json");},post:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b={};}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:f});},ajaxSetup:function(a){c.extend(c.ajaxSettings,a);},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:A.XMLHttpRequest&&(A.location.protocol!=="file:"||!A.ActiveXObject)?function(){return new A.XMLHttpRequest;}:function(){try{return new A.ActiveXObject("Microsoft.XMLHTTP");}catch(a){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(a){function b(){e.success&&e.success.call(k,o,i,x);e.global&&f("ajaxSuccess",[x,e]);}function d(){e.complete&&e.complete.call(k,x,i);e.global&&f("ajaxComplete",[x,e]);e.global&&!--c.active&&c.event.trigger("ajaxStop");}function f(q,p){(e.context?c(e.context):c.event).trigger(q,p);}var e=c.extend(true,{},c.ajaxSettings,a),j,i,o,k=a&&a.context||e,n=e.type.toUpperCase();if(e.data&&e.processData&&typeof e.data!=="string"){e.data=c.param(e.data,e.traditional);}if(e.dataType==="jsonp"){if(n==="GET"){N.test(e.url)||(e.url+=(ka.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?");}else{if(!e.data||!N.test(e.data)){e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?";}}e.dataType="json";}if(e.dataType==="json"&&(e.data&&N.test(e.data)||N.test(e.url))){j=e.jsonpCallback||"jsonp"+sb++;if(e.data){e.data=(e.data+"").replace(N,"="+j+"$1");}e.url=e.url.replace(N,"="+j+"$1");e.dataType="script";A[j]=A[j]||function(q){o=q;b();d();A[j]=w;try{delete A[j];}catch(p){}z&&z.removeChild(C);};}if(e.dataType==="script"&&e.cache===null){e.cache=false;}if(e.cache===false&&n==="GET"){var r=J(),u=e.url.replace(wb,"$1_="+r+"$2");e.url=u+(u===e.url?(ka.test(e.url)?"&":"?")+"_="+r:"");}if(e.data&&n==="GET"){e.url+=(ka.test(e.url)?"&":"?")+e.data;}e.global&&!c.active++&&c.event.trigger("ajaxStart");r=(r=xb.exec(e.url))&&(r[1]&&r[1]!==location.protocol||r[2]!==location.host);if(e.dataType==="script"&&n==="GET"&&r){var z=s.getElementsByTagName("head")[0]||s.documentElement,C=s.createElement("script");C.src=e.url;if(e.scriptCharset){C.charset=e.scriptCharset;}if(!j){var B=false;C.onload=C.onreadystatechange=function(){if(!B&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){B=true;b();d();C.onload=C.onreadystatechange=null;z&&C.parentNode&&z.removeChild(C);}};}z.insertBefore(C,z.firstChild);return w;}var E=false,x=e.xhr();if(x){e.username?x.open(n,e.url,e.async,e.username,e.password):x.open(n,e.url,e.async);try{if(e.data||a&&a.contentType){x.setRequestHeader("Content-Type",e.contentType);}if(e.ifModified){c.lastModified[e.url]&&x.setRequestHeader("If-Modified-Since",c.lastModified[e.url]);c.etag[e.url]&&x.setRequestHeader("If-None-Match",c.etag[e.url]);}r||x.setRequestHeader("X-Requested-With","XMLHttpRequest");x.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":e.accepts._default);}catch(ga){}if(e.beforeSend&&e.beforeSend.call(k,x,e)===false){e.global&&!--c.active&&c.event.trigger("ajaxStop");x.abort();return false;}e.global&&f("ajaxSend",[x,e]);var g=x.onreadystatechange=function(q){if(!x||x.readyState===0||q==="abort"){E||d();E=true;if(x){x.onreadystatechange=c.noop;}}else{if(!E&&x&&(x.readyState===4||q==="timeout")){E=true;x.onreadystatechange=c.noop;i=q==="timeout"?"timeout":!c.httpSuccess(x)?"error":e.ifModified&&c.httpNotModified(x,e.url)?"notmodified":"success";var p;if(i==="success"){try{o=c.httpData(x,e.dataType,e);}catch(v){i="parsererror";p=v;}}if(i==="success"||i==="notmodified"){j||b();}else{c.handleError(e,x,i,p);}d();q==="timeout"&&x.abort();if(e.async){x=null;}}}};try{var h=x.abort;x.abort=function(){x&&h.call(x);g("abort");};}catch(l){}e.async&&e.timeout>0&&setTimeout(function(){x&&!E&&g("timeout");},e.timeout);try{x.send(n==="POST"||n==="PUT"||n==="DELETE"?e.data:null);}catch(m){c.handleError(e,x,null,m);d();}e.async||g();return x;}},handleError:function(a,b,d,f){if(a.error){a.error.call(a.context||a,b,d,f);}if(a.global){(a.context?c(a.context):c.event).trigger("ajaxError",[b,a,f]);}},active:0,httpSuccess:function(a){try{return !a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223||a.status===0;}catch(b){}return false;},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),f=a.getResponseHeader("Etag");if(d){c.lastModified[b]=d;}if(f){c.etag[b]=f;}return a.status===304||a.status===0;},httpData:function(a,b,d){var f=a.getResponseHeader("content-type")||"",e=b==="xml"||!b&&f.indexOf("xml")>=0;a=e?a.responseXML:a.responseText;e&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter){a=d.dataFilter(a,b);}if(typeof a==="string"){if(b==="json"||!b&&f.indexOf("json")>=0){a=c.parseJSON(a);}else{if(b==="script"||!b&&f.indexOf("javascript")>=0){c.globalEval(a);}}}return a;},param:function(a,b){function d(i,o){if(c.isArray(o)){c.each(o,function(k,n){b||/\[\]$/.test(i)?f(i,n):d(i+"["+(typeof n==="object"||c.isArray(n)?k:"")+"]",n);});}else{!b&&o!=null&&typeof o==="object"?c.each(o,function(k,n){d(i+"["+k+"]",n);}):f(i,o);}}function f(i,o){o=c.isFunction(o)?o():o;e[e.length]=encodeURIComponent(i)+"="+encodeURIComponent(o);}var e=[];if(b===w){b=c.ajaxSettings.traditional;}if(c.isArray(a)||a.jquery){c.each(a,function(){f(this.name,this.value);});}else{for(var j in a){d(j,a[j]);}}return e.join("&").replace(yb,"+");}});var la={},Ab=/toggle|show|hide/,Bb=/^([+-]=)?([\d+-.]+)(.*)$/,W,va=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b){if(a||a===0){return this.animate(K("show",3),a,b);}else{a=0;for(b=this.length;a<b;a++){var d=c.data(this[a],"olddisplay");this[a].style.display=d||"";if(c.css(this[a],"display")==="none"){d=this[a].nodeName;var f;if(la[d]){f=la[d];}else{var e=c("<"+d+" />").appendTo("body");f=e.css("display");if(f==="none"){f="block";}e.remove();la[d]=f;}c.data(this[a],"olddisplay",f);}}a=0;for(b=this.length;a<b;a++){this[a].style.display=c.data(this[a],"olddisplay")||"";}return this;}},hide:function(a,b){if(a||a===0){return this.animate(K("hide",3),a,b);}else{a=0;for(b=this.length;a<b;a++){var d=c.data(this[a],"olddisplay");!d&&d!=="none"&&c.data(this[a],"olddisplay",c.css(this[a],"display"));}a=0;for(b=this.length;a<b;a++){this[a].style.display="none";}return this;}},_toggle:c.fn.toggle,toggle:function(a,b){var d=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b)){this._toggle.apply(this,arguments);}else{a==null||d?this.each(function(){var f=d?a:c(this).is(":hidden");c(this)[f?"show":"hide"]();}):this.animate(K("toggle",3),a,b);}return this;},fadeTo:function(a,b,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d);},animate:function(a,b,d,f){var e=c.speed(b,d,f);if(c.isEmptyObject(a)){return this.each(e.complete);}return this[e.queue===false?"each":"queue"](function(){var j=c.extend({},e),i,o=this.nodeType===1&&c(this).is(":hidden"),k=this;for(i in a){var n=i.replace(ia,ja);if(i!==n){a[n]=a[i];delete a[i];i=n;}if(a[i]==="hide"&&o||a[i]==="show"&&!o){return j.complete.call(this);}if((i==="height"||i==="width")&&this.style){j.display=c.css(this,"display");j.overflow=this.style.overflow;}if(c.isArray(a[i])){(j.specialEasing=j.specialEasing||{})[i]=a[i][1];a[i]=a[i][0];}}if(j.overflow!=null){this.style.overflow="hidden";}j.curAnim=c.extend({},a);c.each(a,function(r,u){var z=new c.fx(k,j,r);if(Ab.test(u)){z[u==="toggle"?o?"show":"hide":u](a);}else{var C=Bb.exec(u),B=z.cur(true)||0;if(C){u=parseFloat(C[2]);var E=C[3]||"px";if(E!=="px"){k.style[r]=(u||1)+E;B=(u||1)/z.cur(true)*B;k.style[r]=B+E;}if(C[1]){u=(C[1]==="-="?-1:1)*u+B;}z.custom(B,u,E);}else{z.custom(B,u,"");}}});return true;});},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var f=d.length-1;f>=0;f--){if(d[f].elem===this){b&&d[f](true);d.splice(f,1);}}});b||this.dequeue();return this;}});c.each({slideDown:K("show",1),slideUp:K("hide",1),slideToggle:K("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(a,b){c.fn[a]=function(d,f){return this.animate(b,d,f);};});c.extend({speed:function(a,b,d){var f=a&&typeof a==="object"?a:{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};f.duration=c.fx.off?0:typeof f.duration==="number"?f.duration:c.fx.speeds[f.duration]||c.fx.speeds._default;f.old=f.complete;f.complete=function(){f.queue!==false&&c(this).dequeue();c.isFunction(f.old)&&f.old.call(this);};return f;},easing:{linear:function(a,b,d,f){return d+f*a;},swing:function(a,b,d,f){return (-Math.cos(a*Math.PI)/2+0.5)*f+d;}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig){b.orig={};}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block";}},cur:function(a){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];}return (a=parseFloat(c.css(this.elem,this.prop,a)))&&a>-10000?a:parseFloat(c.curCSS(this.elem,this.prop))||0;},custom:function(a,b,d){function f(j){return e.step(j);}this.startTime=J();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;var e=this;f.elem=this.elem;if(f()&&c.timers.push(f)&&!W){W=setInterval(c.fx.tick,13);}},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show();},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(a){var b=J(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var f in this.options.curAnim){if(this.options.curAnim[f]!==true){d=false;}}if(d){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;a=c.data(this.elem,"olddisplay");this.elem.style.display=a?a:this.options.display;if(c.css(this.elem,"display")==="none"){this.elem.style.display="block";}}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show){for(var e in this.options.curAnim){c.style(this.elem,e,this.options.orig[e]);}}this.options.complete.call(this.elem);}return false;}else{e=b-this.startTime;this.state=e/this.options.duration;a=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||a](this.state,e,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();}return true;}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++){a[b]()||a.splice(b--,1);}a.length||c.fx.stop();},stop:function(){clearInterval(W);W=null;},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now);},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null){a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;}else{a.elem[a.prop]=a.now;}}}});if(c.expr&&c.expr.filters){c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem;}).length;};}c.fn.offset="getBoundingClientRect" in s.documentElement?function(a){var b=this[0];if(a){return this.each(function(e){c.offset.setOffset(this,a,e);});}if(!b||!b.ownerDocument){return null;}if(b===b.ownerDocument.body){return c.offset.bodyOffset(b);}var d=b.getBoundingClientRect(),f=b.ownerDocument;b=f.body;f=f.documentElement;return {top:d.top+(self.pageYOffset||c.support.boxModel&&f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0),left:d.left+(self.pageXOffset||c.support.boxModel&&f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0)};}:function(a){var b=this[0];if(a){return this.each(function(r){c.offset.setOffset(this,a,r);});}if(!b||!b.ownerDocument){return null;}if(b===b.ownerDocument.body){return c.offset.bodyOffset(b);}c.offset.initialize();var d=b.offsetParent,f=b,e=b.ownerDocument,j,i=e.documentElement,o=e.body;f=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;for(var k=b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==o&&b!==i;){if(c.offset.supportsFixedPosition&&f.position==="fixed"){break;}j=e?e.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;n-=b.scrollLeft;if(b===d){k+=b.offsetTop;n+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.nodeName))){k+=parseFloat(j.borderTopWidth)||0;n+=parseFloat(j.borderLeftWidth)||0;}f=d;d=b.offsetParent;}if(c.offset.subtractsBorderForOverflowNotVisible&&j.overflow!=="visible"){k+=parseFloat(j.borderTopWidth)||0;n+=parseFloat(j.borderLeftWidth)||0;}f=j;}if(f.position==="relative"||f.position==="static"){k+=o.offsetTop;n+=o.offsetLeft;}if(c.offset.supportsFixedPosition&&f.position==="fixed"){k+=Math.max(i.scrollTop,o.scrollTop);n+=Math.max(i.scrollLeft,o.scrollLeft);}return {top:k,left:n};};c.offset={initialize:function(){var a=s.body,b=s.createElement("div"),d,f,e,j=parseFloat(c.curCSS(a,"marginTop",true))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;f=d.firstChild;e=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=f.offsetTop!==5;this.doesAddBorderForTableAndCells=e.offsetTop===5;f.style.position="fixed";f.style.top="20px";this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15;f.style.position=f.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==j;a.removeChild(b);c.offset.initialize=c.noop;},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.curCSS(a,"marginTop",true))||0;d+=parseFloat(c.curCSS(a,"marginLeft",true))||0;}return {top:b,left:d};},setOffset:function(a,b,d){if(/static/.test(c.curCSS(a,"position"))){a.style.position="relative";}var f=c(a),e=f.offset(),j=parseInt(c.curCSS(a,"top",true),10)||0,i=parseInt(c.curCSS(a,"left",true),10)||0;if(c.isFunction(b)){b=b.call(a,d,e);}d={top:b.top-e.top+j,left:b.left-e.left+i};"using" in b?b.using.call(a,d):f.css(d);}};c.fn.extend({position:function(){if(!this[0]){return null;}var a=this[0],b=this.offsetParent(),d=this.offset(),f=/^body|html$/i.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.curCSS(a,"marginTop",true))||0;d.left-=parseFloat(c.curCSS(a,"marginLeft",true))||0;f.top+=parseFloat(c.curCSS(b[0],"borderTopWidth",true))||0;f.left+=parseFloat(c.curCSS(b[0],"borderLeftWidth",true))||0;return {top:d.top-f.top,left:d.left-f.left};},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||s.body;a&&!/^body|html$/i.test(a.nodeName)&&c.css(a,"position")==="static";){a=a.offsetParent;}return a;});}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(f){var e=this[0],j;if(!e){return null;}if(f!==w){return this.each(function(){if(j=wa(this)){j.scrollTo(!a?f:c(j).scrollLeft(),a?f:c(j).scrollTop());}else{this[d]=f;}});}else{return (j=wa(e))?"pageXOffset" in j?j[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&j.document.documentElement[d]||j.document.body[d]:e[d];}};});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?c.css(this[0],d,false,"padding"):null;};c.fn["outer"+b]=function(f){return this[0]?c.css(this[0],d,false,f?"margin":"border"):null;};c.fn[d]=function(f){var e=this[0];if(!e){return f==null?null:this;}if(c.isFunction(f)){return this.each(function(j){var i=c(this);i[d](f.call(this,j,i[d]()));});}return "scrollTo" in e&&e.document?e.document.compatMode==="CSS1Compat"&&e.document.documentElement["client"+b]||e.document.body["client"+b]:e.nodeType===9?Math.max(e.documentElement["client"+b],e.body["scroll"+b],e.documentElement["scroll"+b],e.body["offset"+b],e.documentElement["offset"+b]):f===w?c.css(e,d):this.css(d,typeof f==="string"?f:f+"px");};});A.jQuery=A.$=c;})(window);(function(c,j){function k(a){return !c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this);}).length;}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.7",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d);},a);}):this._focus.apply(this,arguments);},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return /(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1));}).eq(0):this.parents().filter(function(){return /(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1));}).eq(0);return /fixed/.test(this.css("position"))||!a.length?c(document):a;},zIndex:function(a){if(a!==j){return this.css("zIndex",a);}if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0){return b;}}a=a.parent();}}return 0;},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l){g-=parseFloat(c.curCSS(f,"border"+this+"Width",true))||0;}if(m){g-=parseFloat(c.curCSS(f,"margin"+this,true))||0;}});return g;}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j){return i["inner"+b].call(this);}return this.each(function(){c(this).css(h,d(this,f)+"px");});};c.fn["outer"+b]=function(f,g){if(typeof f!=="number"){return i["outer"+b].call(this,f);}return this.each(function(){c(this).css(h,d(this,f,true,g)+"px");});};});c.extend(c.expr[":"],{data:function(a,b,d){return !!c.data(a,d[3]);},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map"){return false;}a=c("img[usemap=#"+d+"]")[0];return !!a&&k(a);}return (/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a);},tabbable:function(a){var b=c.attr(a,"tabindex");return (isNaN(b)||b>=0)&&c(a).is(":focusable");}});c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart" in b;a.removeChild(b).style.display="none";});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]]);}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode){for(var e=0;e<b.length;e++){a.options[b[e][0]]&&b[e][1].apply(a.element,d);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden"){return false;}b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0){return true;}a[b]=1;d=a[b]>0;a[b]=0;return d;},isOverAxis:function(a,b,d){return a>b&&a<b+d;},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i);}});}})(jQuery);(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++){b(d).triggerHandler("remove");}k(a);};}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c){if(!a||b.filter(a,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove");});}}return l.call(b(this),a,c);});};}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget;}b.expr[":"][f]=function(h){return !!b.data(h,a);};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g);};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a]);};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_"){return h;}e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false;}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this));});return h;};};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c);};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy();});this._create();this._trigger("create");this._init();},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName];},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");},widget:function(){return this.element;},option:function(a,c){var d=a;if(arguments.length===0){return b.extend({},this.options);}if(typeof a==="string"){if(c===j){return this.options[a];}d={};d[a]=c;}this._setOptions(d);return this;},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e);});return this;},_setOption:function(a,c){this.options[a]=c;if(a==="disabled"){this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);}return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f];}}this.element.trigger(c,d);return !(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented());}};})(jQuery);(function(c){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b);}).bind("click."+this.widgetName,function(b){if(true===c.data(b.target,a.widgetName+".preventClickEvent")){c.removeData(b.target,a.widgetName+".preventClickEvent");b.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);},_mouseDown:function(a){a.originalEvent=a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,e=a.which==1,f=typeof this.options.cancel=="string"?c(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true;}}this._mouseMoveDelegate=function(d){return b._mouseMove(d);};this._mouseUpDelegate=function(d){return b._mouseUp(d);};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true;}},_mouseMove:function(a){if(c.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a);}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault();}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);}return !this._mouseStarted;},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a);}return false;},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance;},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function(c){c.ui=c.ui||{};var n=/left|center|right/,o=/top|center|bottom/,t=c.fn.position,u=c.fn.offset;c.fn.position=function(b){if(!b||!b.of){return t.apply(this,arguments);}b=c.extend({},b);var a=c(b.of),d=a[0],g=(b.collision||"flip").split(" "),e=b.offset?b.offset.split(" "):[0,0],h,k,j;if(d.nodeType===9){h=a.width();k=a.height();j={top:0,left:0};}else{if(d.setTimeout){h=a.width();k=a.height();j={top:a.scrollTop(),left:a.scrollLeft()};}else{if(d.preventDefault){b.at="left top";h=k=0;j={top:b.of.pageY,left:b.of.pageX};}else{h=a.outerWidth();k=a.outerHeight();j=a.offset();}}}c.each(["my","at"],function(){var f=(b[this]||"").split(" ");if(f.length===1){f=n.test(f[0])?f.concat(["center"]):o.test(f[0])?["center"].concat(f):["center","center"];}f[0]=n.test(f[0])?f[0]:"center";f[1]=o.test(f[1])?f[1]:"center";b[this]=f;});if(g.length===1){g[1]=g[0];}e[0]=parseInt(e[0],10)||0;if(e.length===1){e[1]=e[0];}e[1]=parseInt(e[1],10)||0;if(b.at[0]==="right"){j.left+=h;}else{if(b.at[0]==="center"){j.left+=h/2;}}if(b.at[1]==="bottom"){j.top+=k;}else{if(b.at[1]==="center"){j.top+=k/2;}}j.left+=e[0];j.top+=e[1];return this.each(function(){var f=c(this),l=f.outerWidth(),m=f.outerHeight(),p=parseInt(c.curCSS(this,"marginLeft",true))||0,q=parseInt(c.curCSS(this,"marginTop",true))||0,v=l+p+parseInt(c.curCSS(this,"marginRight",true))||0,w=m+q+parseInt(c.curCSS(this,"marginBottom",true))||0,i=c.extend({},j),r;if(b.my[0]==="right"){i.left-=l;}else{if(b.my[0]==="center"){i.left-=l/2;}}if(b.my[1]==="bottom"){i.top-=m;}else{if(b.my[1]==="center"){i.top-=m/2;}}i.left=Math.round(i.left);i.top=Math.round(i.top);r={left:i.left-p,top:i.top-q};c.each(["left","top"],function(s,x){c.ui.position[g[s]]&&c.ui.position[g[s]][x](i,{targetWidth:h,targetHeight:k,elemWidth:l,elemHeight:m,collisionPosition:r,collisionWidth:v,collisionHeight:w,offset:e,my:b.my,at:b.at});});c.fn.bgiframe&&f.bgiframe();f.offset(c.extend(i,{using:b.using}));});};c.ui.position={fit:{left:function(b,a){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();b.left=d>0?b.left-d:Math.max(b.left-a.collisionPosition.left,b.left);},top:function(b,a){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();b.top=d>0?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top);}},flip:{left:function(b,a){if(a.at[0]!=="center"){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();var g=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0,e=a.at[0]==="left"?a.targetWidth:-a.targetWidth,h=-2*a.offset[0];b.left+=a.collisionPosition.left<0?g+e+h:d>0?g+e+h:0;}},top:function(b,a){if(a.at[1]!=="center"){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();var g=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:0,e=a.at[1]==="top"?a.targetHeight:-a.targetHeight,h=-2*a.offset[1];b.top+=a.collisionPosition.top<0?g+e+h:d>0?g+e+h:0;}}}};if(!c.offset.setOffset){c.offset.setOffset=function(b,a){if(/static/.test(c.curCSS(b,"position"))){b.style.position="relative";}var d=c(b),g=d.offset(),e=parseInt(c.curCSS(b,"top",true),10)||0,h=parseInt(c.curCSS(b,"left",true),10)||0;g={top:a.top-g.top+e,left:a.left-g.left+h};"using" in a?a.using.call(b,g):d.css(g);};c.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument){return null;}if(b){return this.each(function(){c.offset.setOffset(this,b);});}return u.call(this);};}})(jQuery);(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative";}this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit();},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this;}},_mouseCapture:function(a){var b=this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle")){return false;}this.handle=this._getHandle(a);if(!this.handle){return false;}return true;},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager){d.ui.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false;}this._cacheHelperProportions();d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true;},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false;}this.position=b.position;}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false;},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour){b=d.ui.ddmanager.drop(this,a);}if(this.dropped){b=this.dropped;this.dropped=false;}if(!this.element[0]||!this.element[0].parentNode){return false;}if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear();});}else{this._trigger("stop",a)!==false&&this._clear();}return false;},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this;},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target){b=true;}});return b;},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a;},_adjustOffsetFromHelper:function(a){if(typeof a=="string"){a=a.split(" ");}if(d.isArray(a)){a={left:+a[0],top:+a[1]||0};}if("left" in a){this.offset.click.left=a.left+this.margins.left;}if("right" in a){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if("top" in a){this.offset.click.top=a.top+this.margins.top;}if("bottom" in a){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0};}return {top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return {top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return {top:0,left:0};}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var a=this.options;if(a.containment=="parent"){a.containment=this.helper[0].parentNode;}if(a.containment=="document"||a.containment=="window"){this.containment=[(a.containment=="document"?0:d(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:d(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}}else{if(a.containment.constructor==Array){this.containment=a.containment;}}},_convertPositionTo:function(a,b){if(!b){b=this.position;}a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return {top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*a)};},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left;}if(a.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top;}if(a.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left;}if(a.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top;}}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;e=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-b.grid[0]:e+b.grid[0]:e;}}return {top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag"){this.positionAbs=this._convertPositionTo("absolute");}return d.Widget.prototype._trigger.call(this,a,b,c);},plugins:{},_uiHash:function(){return {helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});d.extend(d.ui.draggable,{version:"1.8.7"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var g=d.data(this,"sortable");if(g&&!g.options.disabled){c.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",a,e);}});},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true;}this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"});}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f);}});},drag:function(a,b){var c=d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0];};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c;}this.instance.currentItem&&this.instance._mouseDrag(a);}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false;}}});}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor")){b._cursor=a.css("cursor");}a.css("cursor",b.cursor);},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor);}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=d(this).data("draggable").options;d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d("<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body");});},stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("opacity")){b._opacity=a.css("opacity");}a.css("opacity",b.opacity);},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",a._opacity);}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML"){a.overflowOffset=a.scrollParent.offset();}},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x"){if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity){b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed;}else{if(a.pageY-b.overflowOffset.top<c.scrollSensitivity){b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed;}}}if(!c.axis||c.axis!="y"){if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity){b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;}else{if(a.pageX-b.overflowOffset.left<c.scrollSensitivity){b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed;}}}}else{if(!c.axis||c.axis!="x"){if(a.pageY-d(document).scrollTop()<c.scrollSensitivity){f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);}else{if(d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity){f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);}}}if(!c.axis||c.axis!="y"){if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity){f=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed);}else{if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity){f=d(document).scrollLeft(d(document).scrollLeft()+c.scrollSpeed);}}}}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a);}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left});});},drag:function(a,b){for(var c=d(this).data("draggable"),f=c.options,e=f.snapTolerance,g=b.offset.left,n=g+c.helperProportions.width,m=b.offset.top,o=m+c.helperProportions.height,h=c.snapElements.length-1;h>=0;h--){var i=c.snapElements[h].left,k=i+c.snapElements[h].width,j=c.snapElements[h].top,l=j+c.snapElements[h].height;if(i-e<g&&g<k+e&&j-e<m&&m<l+e||i-e<g&&g<k+e&&j-e<o&&o<l+e||i-e<n&&n<k+e&&j-e<m&&m<l+e||i-e<n&&n<k+e&&j-e<o&&o<l+e){if(f.snapMode!="inner"){var p=Math.abs(j-o)<=e,q=Math.abs(l-m)<=e,r=Math.abs(i-n)<=e,s=Math.abs(k-g)<=e;if(p){b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top-c.margins.top;}if(q){b.position.top=c._convertPositionTo("relative",{top:l,left:0}).top-c.margins.top;}if(r){b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;}if(s){b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left;}}var t=p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(j-m)<=e;q=Math.abs(l-o)<=e;r=Math.abs(i-g)<=e;s=Math.abs(k-n)<=e;if(p){b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top-c.margins.top;}if(q){b.position.top=c._convertPositionTo("relative",{top:l-c.helperProportions.height,left:0}).top-c.margins.top;}if(r){b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;}if(s){b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left;}}if(!c.snapElements[h].snapping&&(p||q||r||s||t)){c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));}c.snapElements[h].snapping=p||q||r||s||t;}else{c.snapElements[h].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=false;}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return (parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0);});if(a.length){var b=parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c;});this[0].style.zIndex=b+a.length;}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex")){b._zIndex=a.css("zIndex");}a.css("zIndex",b.zIndex);},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex);}});})(jQuery);(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(c){return c.is(b);};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);a.addClasses&&this.element.addClass("ui-droppable");},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++){a[b]==this&&a.splice(b,1);}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this;},_setOption:function(a,b){if(a=="accept"){this.accept=d.isFunction(b)?b:function(c){return c.is(b);};}d.Widget.prototype._setOption.apply(this,arguments);},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b));},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b));},_over:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0])){if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",a,this.ui(b));}}},_out:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0])){if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(b));}}},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return false;}var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=d.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(g,{offset:g.element.offset()}),g.options.tolerance)){e=true;return false;}});if(e){return false;}if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",a,this.ui(c));return this.element;}return false;},ui:function(a){return {draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs};}});d.extend(d.ui.droppable,{version:"1.8.7"});d.ui.intersect=function(a,b,c){if(!b.offset){return false;}var e=(a.positionAbs||a.position.absolute).left,g=e+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,h=f+a.helperProportions.height,i=b.offset.left,k=i+b.proportions.width,j=b.offset.top,l=j+b.proportions.height;switch(c){case "fit":return i<=e&&g<=k&&j<=f&&h<=l;case "intersect":return i<e+a.helperProportions.width/2&&g-a.helperProportions.width/2<k&&j<f+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case "touch":return (f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l)&&(e>=i&&e<=k||g>=i&&g<=k||e<i&&g>k);default:return false;}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],e=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<c.length;f++){if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++){if(g[h]==c[f].element[0]){c[f].proportions.height=0;continue a;}}c[f].visible=c[f].element.css("display")!="none";if(c[f].visible){c[f].offset=c[f].element.offset();c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight};e=="mousedown"&&c[f]._activate.call(c[f],b);}}}},drop:function(a,b){var c=false;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance)){c=c||this._drop.call(this,b);}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)){this.isout=1;this.isover=0;this._deactivate.call(this,b);}}});return c;},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");if(g.length){e=d.data(g[0],"droppable");e.greedyChild=c=="isover"?1:0;}}if(e&&c=="isover"){e.isover=0;e.isout=1;e._out.call(e,b);}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,b);if(e&&c=="isout"){e.isout=0;e.isover=1;e._over.call(e,b);}}}});}};})(jQuery);(function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var b=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(e("<div class=\"ui-wrapper\" style=\"overflow: hidden;\"></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw";}var c=this.handles.split(",");this.handles={};for(var d=0;d<c.length;d++){var f=e.trim(c[d]),g=e("<div class=\"ui-resizable-handle "+("ui-resizable-"+f)+"\"></div>");/sw|se|ne|nw/.test(f)&&g.css({zIndex:++a.zIndex});"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g);}}this._renderAxis=function(h){h=h||this.element;for(var i in this.handles){if(this.handles[i].constructor==String){this.handles[i]=e(this.handles[i],this.element).show();}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var j=e(this.handles[i],this.element),k=0;k=/sw|ne|nw|se|n|s/.test(i)?j.outerHeight():j.outerWidth();j=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");h.css(j,k);this._proportionallyResize();}e(this.handles[i]);}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className){var h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}b.axis=h&&h[1]?h[1]:"se";}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide");b._handles.show();},function(){if(!b.resizing){e(this).addClass("ui-resizable-autohide");b._handles.hide();}});}this._mouseInit();},destroy:function(){this._mouseDestroy();var b=function(c){e(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove();}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this;},_mouseCapture:function(b){var a=false;for(var c in this.handles){if(e(this.handles[c])[0]==b.target){a=true;}}return !this.options.disabled&&a;},_mouseStart:function(b){var a=this.options,c=this.element.position(),d=this.element;this.resizing=true;this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()};if(d.is(".ui-draggable")||/absolute/.test(d.css("position"))){d.css({position:"absolute",top:c.top,left:c.left});}e.browser.opera&&/relative/.test(d.css("position"))&&d.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();c=m(this.helper.css("left"));var f=m(this.helper.css("top"));if(a.containment){c+=e(a.containment).scrollLeft()||0;f+=e(a.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:c,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:c,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio=typeof a.aspectRatio=="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;a=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",a=="auto"?this.axis+"-resize":a);d.addClass("ui-resizable-resizing");this._propagate("start",b);return true;},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d){return false;}c=d.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);if(this._aspectRatio||b.shiftKey){c=this._updateRatio(c,b);}c=this._respectSize(c,b);this._propagate("resize",b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",b,this.ui());return false;},_mouseStop:function(b){this.resizing=false;var a=this.options,c=this;if(this._helper){var d=this._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName);d=f&&e.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height;f={width:c.size.width-(f?0:c.sizeDiff.width),height:c.size.height-d};d=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var g=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;a.animate||this.element.css(e.extend(f,{top:g,left:d}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!a.animate&&this._proportionallyResize();}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return false;},_updateCache:function(b){this.offset=this.helper.offset();if(l(b.left)){this.position.left=b.left;}if(l(b.top)){this.position.top=b.top;}if(l(b.height)){this.size.height=b.height;}if(l(b.width)){this.size.width=b.width;}},_updateRatio:function(b){var a=this.position,c=this.size,d=this.axis;if(b.height){b.width=c.height*this.aspectRatio;}else{if(b.width){b.height=c.width/this.aspectRatio;}}if(d=="sw"){b.left=a.left+(c.width-b.width);b.top=null;}if(d=="nw"){b.top=a.top+(c.height-b.height);b.left=a.left+(c.width-b.width);}return b;},_respectSize:function(b){var a=this.options,c=this.axis,d=l(b.width)&&a.maxWidth&&a.maxWidth<b.width,f=l(b.height)&&a.maxHeight&&a.maxHeight<b.height,g=l(b.width)&&a.minWidth&&a.minWidth>b.width,h=l(b.height)&&a.minHeight&&a.minHeight>b.height;if(g){b.width=a.minWidth;}if(h){b.height=a.minHeight;}if(d){b.width=a.maxWidth;}if(f){b.height=a.maxHeight;}var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);if(g&&k){b.left=i-a.minWidth;}if(d&&k){b.left=i-a.maxWidth;}if(h&&c){b.top=j-a.minHeight;}if(f&&c){b.top=j-a.maxHeight;}if((a=!b.width&&!b.height)&&!b.left&&b.top){b.top=null;}else{if(a&&!b.top&&b.left){b.left=null;}}return b;},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var b=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var c=this._proportionallyResizeElements[a];if(!this.borderDif){var d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],f=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=e.map(d,function(g,h){g=parseInt(g,10)||0;h=parseInt(f[h],10)||0;return g+h;});}e.browser.msie&&(e(b).is(":hidden")||e(b).parents(":hidden").length)||c.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0});}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||e("<div style=\"overflow:hidden;\"></div>");var a=e.browser.msie&&e.browser.version<7,c=a?1:0;a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(b,a){return {width:this.originalSize.width+a};},w:function(b,a){return {left:this.originalPosition.left+a,width:this.originalSize.width-a};},n:function(b,a,c){return {top:this.originalPosition.top+c,height:this.originalSize.height-c};},s:function(b,a,c){return {height:this.originalSize.height+c};},se:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,c]));},sw:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,c]));},ne:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,a,c]));},nw:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,c]));}},_propagate:function(b,a){e.ui.plugin.call(this,b,[a,this.ui()]);b!="resize"&&this._trigger(b,a,this.ui());},plugins:{},ui:function(){return {originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});e.extend(e.ui.resizable,{version:"1.8.7"});e.ui.plugin.add("resizable","alsoResize",{start:function(){var b=e(this).data("resizable").options,a=function(c){e(c).each(function(){var d=e(this);d.data("resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10),position:d.css("position")});});};if(typeof b.alsoResize=="object"&&!b.alsoResize.parentNode){if(b.alsoResize.length){b.alsoResize=b.alsoResize[0];a(b.alsoResize);}else{e.each(b.alsoResize,function(c){a(c);});}}else{a(b.alsoResize);}},resize:function(b,a){var c=e(this).data("resizable");b=c.options;var d=c.originalSize,f=c.originalPosition,g={height:c.size.height-d.height||0,width:c.size.width-d.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(i,j){e(i).each(function(){var k=e(this),q=e(this).data("resizable-alsoresize"),p={},r=j&&j.length?j:k.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(n,o){if((n=(q[o]||0)+(g[o]||0))&&n>=0){p[o]=n||null;}});if(e.browser.opera&&/relative/.test(k.css("position"))){c._revertToRelativePosition=true;k.css({position:"absolute",top:"auto",left:"auto"});}k.css(p);});};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?e.each(b.alsoResize,function(i,j){h(i,j);}):h(b.alsoResize);},stop:function(){var b=e(this).data("resizable"),a=b.options,c=function(d){e(d).each(function(){var f=e(this);f.css({position:f.data("resizable-alsoresize").position});});};if(b._revertToRelativePosition){b._revertToRelativePosition=false;typeof a.alsoResize=="object"&&!a.alsoResize.nodeType?e.each(a.alsoResize,function(d){c(d);}):c(a.alsoResize);}e(this).removeData("resizable-alsoresize");}});e.ui.plugin.add("resizable","animate",{stop:function(b){var a=e(this).data("resizable"),c=a.options,d=a._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName),g=f&&e.ui.hasScroll(d[0],"left")?0:a.sizeDiff.height;f={width:a.size.width-(f?0:a.sizeDiff.width),height:a.size.height-g};g=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null;var h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:i.width,height:i.height});a._updateCache(i);a._propagate("resize",b);}});}});e.ui.plugin.add("resizable","containment",{start:function(){var b=e(this).data("resizable"),a=b.element,c=b.options.containment;if(a=c instanceof e?c.get(0):/parent/.test(c)?a.parent().get(0):c){b.containerElement=e(a);if(/document/.test(c)||c==document){b.containerOffset={left:0,top:0};b.containerPosition={left:0,top:0};b.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};}else{var d=e(a),f=[];e(["Top","Right","Left","Bottom"]).each(function(i,j){f[i]=m(d.css("padding"+j));});b.containerOffset=d.offset();b.containerPosition=d.position();b.containerSize={height:d.innerHeight()-f[3],width:d.innerWidth()-f[1]};c=b.containerOffset;var g=b.containerSize.height,h=b.containerSize.width;h=e.ui.hasScroll(a,"left")?a.scrollWidth:h;g=e.ui.hasScroll(a)?a.scrollHeight:g;b.parentData={element:a,left:c.left,top:c.top,width:h,height:g};}}},resize:function(b){var a=e(this).data("resizable"),c=a.options,d=a.containerOffset,f=a.position;b=a._aspectRatio||b.shiftKey;var g={top:0,left:0},h=a.containerElement;if(h[0]!=document&&/static/.test(h.css("position"))){g=d;}if(f.left<(a._helper?d.left:0)){a.size.width+=a._helper?a.position.left-d.left:a.position.left-g.left;if(b){a.size.height=a.size.width/c.aspectRatio;}a.position.left=c.helper?d.left:0;}if(f.top<(a._helper?d.top:0)){a.size.height+=a._helper?a.position.top-d.top:a.position.top;if(b){a.size.width=a.size.height*c.aspectRatio;}a.position.top=a._helper?d.top:0;}a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;c=Math.abs((a._helper?a.offset.left-g.left:a.offset.left-g.left)+a.sizeDiff.width);d=Math.abs((a._helper?a.offset.top-g.top:a.offset.top-d.top)+a.sizeDiff.height);f=a.containerElement.get(0)==a.element.parent().get(0);g=/relative|absolute/.test(a.containerElement.css("position"));if(f&&g){c-=a.parentData.left;}if(c+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-c;if(b){a.size.height=a.size.width/a.aspectRatio;}}if(d+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-d;if(b){a.size.width=a.size.height*a.aspectRatio;}}},stop:function(){var b=e(this).data("resizable"),a=b.options,c=b.containerOffset,d=b.containerPosition,f=b.containerElement,g=e(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width;g=g.outerHeight()-b.sizeDiff.height;b._helper&&!a.animate&&/relative/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g});b._helper&&!a.animate&&/static/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g});}});e.ui.plugin.add("resizable","ghost",{start:function(){var b=e(this).data("resizable"),a=b.options,c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof a.ghost=="string"?a.ghost:"");b.ghost.appendTo(b.helper);},resize:function(){var b=e(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width});},stop:function(){var b=e(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0));}});e.ui.plugin.add("resizable","grid",{resize:function(){var b=e(this).data("resizable"),a=b.options,c=b.size,d=b.originalSize,f=b.originalPosition,g=b.axis;a.grid=typeof a.grid=="number"?[a.grid,a.grid]:a.grid;var h=Math.round((c.width-d.width)/(a.grid[0]||1))*(a.grid[0]||1);a=Math.round((c.height-d.height)/(a.grid[1]||1))*(a.grid[1]||1);if(/^(se|s|e)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a;}else{if(/^(ne)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a;}else{if(/^(sw)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a;}else{b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a;}b.position.left=f.left-h;}}}});var m=function(b){return parseInt(b,10)||0;},l=function(b){return !isNaN(parseInt(b,10));};})(jQuery);(function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=e(c.options.filter,c.element[0]);f.each(function(){var d=e(this),b=d.offset();e.data(this,"selectable-item",{element:this,$element:d,left:b.left,top:b.top,right:b.left+d.outerWidth(),bottom:b.top+d.outerHeight(),startselected:false,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")});});};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>");},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this;},_mouseStart:function(c){var f=this;this.opos=[c.pageX,c.pageY];if(!this.options.disabled){var d=this.options;this.selectees=e(d.filter,this.element[0]);this._trigger("start",c);e(d.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var b=e.data(this,"selectable-item");b.startselected=true;if(!c.metaKey){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");b.unselecting=true;f._trigger("unselecting",c,{unselecting:b.element});}});e(c.target).parents().andSelf().each(function(){var b=e.data(this,"selectable-item");if(b){var g=!c.metaKey||!b.$element.hasClass("ui-selected");b.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting");b.unselecting=!g;b.selecting=g;(b.selected=g)?f._trigger("selecting",c,{selecting:b.element}):f._trigger("unselecting",c,{unselecting:b.element});return false;}});}},_mouseDrag:function(c){var f=this;this.dragged=true;if(!this.options.disabled){var d=this.options,b=this.opos[0],g=this.opos[1],h=c.pageX,i=c.pageY;if(b>h){var j=h;h=b;b=j;}if(g>i){j=i;i=g;g=j;}this.helper.css({left:b,top:g,width:h-b,height:i-g});this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!(!a||a.element==f.element[0])){var k=false;if(d.tolerance=="touch"){k=!(a.left>h||a.right<b||a.top>i||a.bottom<g);}else{if(d.tolerance=="fit"){k=a.left>b&&a.right<h&&a.top>g&&a.bottom<i;}}if(k){if(a.selected){a.$element.removeClass("ui-selected");a.selected=false;}if(a.unselecting){a.$element.removeClass("ui-unselecting");a.unselecting=false;}if(!a.selecting){a.$element.addClass("ui-selecting");a.selecting=true;f._trigger("selecting",c,{selecting:a.element});}}else{if(a.selecting){if(c.metaKey&&a.startselected){a.$element.removeClass("ui-selecting");a.selecting=false;a.$element.addClass("ui-selected");a.selected=true;}else{a.$element.removeClass("ui-selecting");a.selecting=false;if(a.startselected){a.$element.addClass("ui-unselecting");a.unselecting=true;}f._trigger("unselecting",c,{unselecting:a.element});}}if(a.selected){if(!c.metaKey&&!a.startselected){a.$element.removeClass("ui-selected");a.selected=false;a.$element.addClass("ui-unselecting");a.unselecting=true;f._trigger("unselecting",c,{unselecting:a.element});}}}}});return false;}},_mouseStop:function(c){var f=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=false;d.startselected=false;f._trigger("unselected",c,{unselected:d.element});});e(".ui-selecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=false;d.selected=true;d.startselected=true;f._trigger("selected",c,{selected:d.element});});this._trigger("stop",c);this.helper.remove();return false;}});e.extend(e.ui.selectable,{version:"1.8.7"});})(jQuery);(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit();},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData("sortable-item");}return this;},_setOption:function(a,b){if(a==="disabled"){this.options[a]=b;this.widget()[b?"addClass":"removeClass"]("ui-sortable-disabled");}else{d.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(a,b){if(this.reverting){return false;}if(this.options.disabled||this.options.type=="static"){return false;}this._refreshItems(a);var c=null,e=this;d(a.target).parents().each(function(){if(d.data(this,"sortable-item")==e){c=d(this);return false;}});if(d.data(a.target,"sortable-item")==e){c=d(a.target);}if(!c){return false;}if(this.options.handle&&!b){var f=false;d(this.options.handle,c).find("*").andSelf().each(function(){if(this==a.target){f=true;}});if(!f){return false;}}this.currentItem=c;this._removeCurrentsFromItems();return true;},_mouseStart:function(a,b,c){b=this.options;var e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();if(b.cursor){if(d("body").css("cursor")){this._storedCursor=d("body").css("cursor");}d("body").css("cursor",b.cursor);}if(b.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}this.helper.css("opacity",b.opacity);}if(b.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}this.helper.css("zIndex",b.zIndex);}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset();}this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c){for(c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("activate",a,e._uiHash(this));}}if(d.ui.ddmanager){d.ui.ddmanager.current=this;}d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return true;},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}if(this.options.scroll){var b=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;}else{if(a.pageY-this.overflowOffset.top<b.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed;}}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed;}else{if(a.pageX-this.overflowOffset.left<b.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed;}}}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity){c=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed);}else{if(d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity){c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed);}}if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity){c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);}else{if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity){c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed);}}}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}for(b=this.items.length-1;b>=0;b--){c=this.items[b];var e=c.item[0],f=this._intersectsWithPointer(c);if(f){if(e!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=e&&!d.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],e):true)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(c)){this._rearrange(a,c);}else{break;}this._trigger("change",a,this._uiHash());break;}}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=c.placeholder.offset();c.reverting=true;d(this.helper).animate({left:b.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a);});}else{this._clear(a,b);}return false;}},cancel:function(){var a=this;if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,a._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,a._uiHash(this));this.containers[b].containerCache.over=0;}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem);return this;},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(e){c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]));}});!c.length&&a.key&&c.push(a.key+"=");return c.join("&");},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"");});return c;},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;j=e+j>i&&e+j<k&&b+l>g&&b+l<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k;},_intersectsWithPointer:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();if(!b){return false;}return this.floating?c&&c=="right"||a=="down"?2:1:a&&(a=="down"?2:1);},_intersectsWithSides:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&a||e=="left"&&!a:c&&(c=="down"&&b||c=="up"&&!b);},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up");},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left");},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this;},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith;},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();if(e&&a){for(a=e.length-1;a>=0;a--){for(var f=d(e[a]),g=f.length-1;g>=0;g--){var h=d.data(f[g],"sortable");if(h&&h!=this&&!h.options.disabled){c.push([d.isFunction(h.options.items)?h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);}}}}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=c.length-1;a>=0;a--){c[a][0].each(function(){b.push(this);});}return d(b);},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++){for(var c=0;c<a.length;c++){a[c]==this.items[b].item[0]&&this.items.splice(b,1);}}},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]],e=this._connectWith();if(e){for(var f=e.length-1;f>=0;f--){for(var g=d(e[f]),h=g.length-1;h>=0;h--){var i=d.data(g[h],"sortable");if(i&&i!=this&&!i.options.disabled){c.push([d.isFunction(i.options.items)?i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]);this.containers.push(i);}}}}for(f=c.length-1;f>=0;f--){a=c[f][1];e=c[f][0];h=0;for(g=e.length;h<g;h++){i=d(e[h]);i.data("sortable-item",a);b.push({item:i,instance:a,width:0,height:0,left:0,top:0});}}},refreshPositions:function(a){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}for(var b=this.items.length-1;b>=0;b--){var c=this.items[b],e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight();}e=e.offset();c.left=e.left;c.top=e.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(b=this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=this.containers[b].element.outerHeight();}}return this;},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var f=d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e){f.style.visibility="hidden";}return f;},update:function(f,g){if(!(e&&!c.forcePlaceholderSize)){g.height()||g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10));}}};}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder);},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;e>=0;e--){if(!d.ui.contains(this.currentItem[0],this.containers[e].element[0])){if(this._intersectsWith(this.containers[e].containerCache)){if(!(b&&d.ui.contains(this.containers[e].element[0],b.element[0]))){b=this.containers[e];c=e;}}else{if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",a,this._uiHash(this));this.containers[e].containerCache.over=0;}}}}if(b){if(this.containers.length===1){this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1;}else{if(this.currentContainer!=this.containers[c]){b=10000;e=null;for(var f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-1;g>=0;g--){if(d.ui.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[c].floating?"left":"top"];if(Math.abs(h-f)<b){b=Math.abs(h-f);e=this.items[g];}}}if(e||this.options.dropOnEmpty){this.currentContainer=this.containers[c];e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[c].element,true);this._trigger("change",a,this._uiHash());this.containers[c]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1;}}}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):b.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}if(a[0].style.width==""||b.forceHelperSize){a.width(this.currentItem.width());}if(a[0].style.height==""||b.forceHelperSize){a.height(this.currentItem.height());}return a;},_adjustOffsetFromHelper:function(a){if(typeof a=="string"){a=a.split(" ");}if(d.isArray(a)){a={left:+a[0],top:+a[1]||0};}if("left" in a){this.offset.click.left=a.left+this.margins.left;}if("right" in a){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if("top" in a){this.offset.click.top=a.top+this.margins.top;}if("bottom" in a){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0};}return {top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return {top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return {top:0,left:0};}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var a=this.options;if(a.containment=="parent"){a.containment=this.helper[0].parentNode;}if(a.containment=="document"||a.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!/^(document|window|parent)$/.test(a.containment)){var b=d(a.containment)[0];a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(a,b){if(!b){b=this.position;}a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return {top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a)};},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}var f=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0]){f=this.containment[0]+this.offset.click.left;}if(a.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top;}if(a.pageX-this.offset.click.left>this.containment[2]){f=this.containment[2]+this.offset.click.left;}if(a.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top;}}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;f=this.originalPageX+Math.round((f-this.originalPageX)/b.grid[0])*b.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f;}}return {top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())};},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e);},0);},_clear:function(a,b){this.reverting=false;var c=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS){if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static"){this._storedCSS[e]="";}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}this.fromOutside&&!b&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside));});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!b){c.push(function(f){this._trigger("update",f,this._uiHash());});}if(!d.ui.contains(this.element[0],this.currentItem[0])){b||c.push(function(f){this._trigger("remove",f,this._uiHash());});for(e=this.containers.length-1;e>=0;e--){if(d.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!b){c.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this));};}.call(this,this.containers[e]));c.push(function(f){return function(g){f._trigger("update",g,this._uiHash(this));};}.call(this,this.containers[e]));}}}for(e=this.containers.length-1;e>=0;e--){b||c.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this));};}.call(this,this.containers[e]));if(this.containers[e].containerCache.over){c.push(function(f){return function(g){f._trigger("out",g,this._uiHash(this));};}.call(this,this.containers[e]));this.containers[e].containerCache.over=0;}}this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);}this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;e<c.length;e++){c[e].call(this,a);}this._trigger("stop",a,this._uiHash());}return false;}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<c.length;e++){c[e].call(this,a);}this._trigger("stop",a,this._uiHash());}this.fromOutside=false;return true;},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel();},_uiHash:function(a){var b=a||this;return {helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null};}});d.extend(d.ui.sortable,{version:"1.8.7"});})(jQuery);(function(c){c.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase();}},_create:function(){var a=this,b=a.options;a.running=0;a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");a.headers=a.element.find(b.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){b.disabled||c(this).addClass("ui-state-hover");}).bind("mouseleave.accordion",function(){b.disabled||c(this).removeClass("ui-state-hover");}).bind("focus.accordion",function(){b.disabled||c(this).addClass("ui-state-focus");}).bind("blur.accordion",function(){b.disabled||c(this).removeClass("ui-state-focus");});a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(b.navigation){var d=a.element.find("a").filter(b.navigationFilter).eq(0);if(d.length){var f=d.closest(".ui-accordion-header");a.active=f.length?f:d.closest(".ui-accordion-content").prev();}}a.active=a._findActive(a.active||b.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");a.active.next().addClass("ui-accordion-content-active");a._createIcons();a.resize();a.element.attr("role","tablist");a.headers.attr("role","tab").bind("keydown.accordion",function(g){return a._keydown(g);}).next().attr("role","tabpanel");a.headers.not(a.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();a.active.length?a.active.attr({"aria-expanded":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0);c.browser.safari||a.headers.find("a").attr("tabIndex",-1);b.event&&a.headers.bind(b.event.split(" ").join(".accordion ")+".accordion",function(g){a._clickHandler.call(a,g,this);g.preventDefault();});},_createIcons:function(){var a=this.options;if(a.icons){c("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected);this.element.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons");},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(a.autoHeight||a.fillHeight){b.css("height","");}return c.Widget.prototype.destroy.call(this);},_setOption:function(a,b){c.Widget.prototype._setOption.apply(this,arguments);a=="active"&&this.activate(b);if(a=="icons"){this._destroyIcons();b&&this._createIcons();}if(a=="disabled"){this.headers.add(this.headers.next())[b?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled");}},_keydown:function(a){if(!(this.options.disabled||a.altKey||a.ctrlKey)){var b=c.ui.keyCode,d=this.headers.length,f=this.headers.index(a.target),g=false;switch(a.keyCode){case b.RIGHT:case b.DOWN:g=this.headers[(f+1)%d];break;case b.LEFT:case b.UP:g=this.headers[(f-1+d)%d];break;case b.SPACE:case b.ENTER:this._clickHandler({target:a.target},a.target);a.preventDefault();}if(g){c(a.target).attr("tabIndex",-1);c(g).attr("tabIndex",0);g.focus();return false;}return true;}},resize:function(){var a=this.options,b;if(a.fillSpace){if(c.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden");}b=this.element.parent().height();c.browser.msie&&this.element.parent().css("overflow",d);this.headers.each(function(){b-=c(this).outerHeight(true);});this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()));}).css("overflow","auto");}else{if(a.autoHeight){b=0;this.headers.next().each(function(){b=Math.max(b,c(this).height("").height());}).height(b);}}return this;},activate:function(a){this.options.active=a;a=this._findActive(a)[0];this._clickHandler({target:a},a);return this;},_findActive:function(a){return a?typeof a==="number"?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===false?c([]):this.headers.filter(":eq(0)");},_clickHandler:function(a,b){var d=this.options;if(!d.disabled){if(a.target){a=c(a.currentTarget||b);b=a[0]===this.active[0];d.active=d.collapsible&&b?false:this.headers.index(a);if(!(this.running||!d.collapsible&&b)){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);if(!b){a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected);a.next().addClass("ui-accordion-content-active");}h=a.next();f=this.active.next();g={options:d,newHeader:b&&d.collapsible?c([]):a,oldHeader:this.active,newContent:b&&d.collapsible?c([]):h,oldContent:f};d=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=b?c([]):a;this._toggle(h,f,g,b,d);}}else{if(d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);this.active.next().addClass("ui-accordion-content-active");var f=this.active.next(),g={options:d,newHeader:c([]),oldHeader:d.active,newContent:c([]),oldContent:f},h=this.active=c([]);this._toggle(h,f,g);}}}},_toggle:function(a,b,d,f,g){var h=this,e=h.options;h.toShow=a;h.toHide=b;h.data=d;var j=function(){if(h){return h._completed.apply(h,arguments);}};h._trigger("changestart",null,h.data);h.running=b.size()===0?a.size():b.size();if(e.animated){d={};d=e.collapsible&&f?{toShow:c([]),toHide:b,complete:j,down:g,autoHeight:e.autoHeight||e.fillSpace}:{toShow:a,toHide:b,complete:j,down:g,autoHeight:e.autoHeight||e.fillSpace};if(!e.proxied){e.proxied=e.animated;}if(!e.proxiedDuration){e.proxiedDuration=e.duration;}e.animated=c.isFunction(e.proxied)?e.proxied(d):e.proxied;e.duration=c.isFunction(e.proxiedDuration)?e.proxiedDuration(d):e.proxiedDuration;f=c.ui.accordion.animations;var i=e.duration,k=e.animated;if(k&&!f[k]&&!c.easing[k]){k="slide";}f[k]||(f[k]=function(l){this.slide(l,{easing:k,duration:i||700});});f[k](d);}else{if(e.collapsible&&f){a.toggle();}else{b.hide();a.show();}j(true);}b.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();a.prev().attr({"aria-expanded":"true",tabIndex:0}).focus();},_completed:function(a){this.running=a?0:--this.running;if(!this.running){this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");this._trigger("change",null,this.data);}}});c.extend(c.ui.accordion,{version:"1.8.7",animations:{slide:function(a,b){a=c.extend({easing:"swing",duration:300},a,b);if(a.toHide.size()){if(a.toShow.size()){var d=a.toShow.css("overflow"),f=0,g={},h={},e;b=a.toShow;e=b[0].style.width;b.width(parseInt(b.parent().width(),10)-parseInt(b.css("paddingLeft"),10)-parseInt(b.css("paddingRight"),10)-(parseInt(b.css("borderLeftWidth"),10)||0)-(parseInt(b.css("borderRightWidth"),10)||0));c.each(["height","paddingTop","paddingBottom"],function(j,i){h[i]="hide";j=(""+c.css(a.toShow[0],i)).match(/^([\d+-.]+)(.*)$/);g[i]={value:j[1],unit:j[2]||"px"};});a.toShow.css({height:0,overflow:"hidden"}).show();a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(h,{step:function(j,i){if(i.prop=="height"){f=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start);}a.toShow[0].style[i.prop]=f*g[i.prop].value+g[i.prop].unit;},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height","");a.toShow.css({width:e,overflow:d});a.complete();}});}else{a.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},a);}}else{a.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},a);}},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1000:200});}}});})(jQuery);(function(d){d.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var a=this,b=this.element[0].ownerDocument,f;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!(a.options.disabled||a.element.attr("readonly"))){f=false;var e=d.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:a._move("previousPage",c);break;case e.PAGE_DOWN:a._move("nextPage",c);break;case e.UP:a._move("previous",c);c.preventDefault();break;case e.DOWN:a._move("next",c);c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:if(a.menu.active){f=true;c.preventDefault();}case e.TAB:if(!a.menu.active){return;}a.menu.select(c);break;case e.ESCAPE:a.element.val(a.term);a.close(c);break;default:clearTimeout(a.searching);a.searching=setTimeout(function(){if(a.term!=a.element.val()){a.selectedItem=null;a.search(null,c);}},a.options.delay);break;}}}).bind("keypress.autocomplete",function(c){if(f){f=false;c.preventDefault();}}).bind("focus.autocomplete",function(){if(!a.options.disabled){a.selectedItem=null;a.previous=a.element.val();}}).bind("blur.autocomplete",function(c){if(!a.options.disabled){clearTimeout(a.searching);a.closing=setTimeout(function(){a.close(c);a._change(c);},150);}});this._initSource();this.response=function(){return a._response.apply(a,arguments);};this.menu=d("<ul></ul>").addClass("ui-autocomplete").appendTo(d(this.options.appendTo||"body",b)[0]).mousedown(function(c){var e=a.menu.element[0];d(c.target).closest(".ui-menu-item").length||setTimeout(function(){d(document).one("mousedown",function(g){g.target!==a.element[0]&&g.target!==e&&!d.ui.contains(e,g.target)&&a.close();});},1);setTimeout(function(){clearTimeout(a.closing);},13);}).menu({focus:function(c,e){e=e.item.data("item.autocomplete");false!==a._trigger("focus",c,{item:e})&&/^key/.test(c.originalEvent.type)&&a.element.val(e.value);},selected:function(c,e){var g=e.item.data("item.autocomplete"),h=a.previous;if(a.element[0]!==b.activeElement){a.element.focus();a.previous=h;setTimeout(function(){a.previous=h;a.selectedItem=g;},1);}false!==a._trigger("select",c,{item:g})&&a.element.val(g.value);a.term=a.element.val();a.close(c);a.selectedItem=g;},blur:function(){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term);}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");d.fn.bgiframe&&this.menu.element.bgiframe();},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();d.Widget.prototype.destroy.call(this);},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);a==="source"&&this._initSource();if(a==="appendTo"){this.menu.element.appendTo(d(b||"body",this.element[0].ownerDocument)[0]);}},_initSource:function(){var a=this,b,f;if(d.isArray(this.options.source)){b=this.options.source;this.source=function(c,e){e(d.ui.autocomplete.filter(b,c.term));};}else{if(typeof this.options.source==="string"){f=this.options.source;this.source=function(c,e){a.xhr&&a.xhr.abort();a.xhr=d.ajax({url:f,data:c,dataType:"json",success:function(g,h,i){i===a.xhr&&e(g);a.xhr=null;},error:function(g){g===a.xhr&&e([]);a.xhr=null;}});};}else{this.source=this.options.source;}}},search:function(a,b){a=a!=null?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength){return this.close(b);}clearTimeout(this.closing);if(this._trigger("search",b)!==false){return this._search(a);}},_search:function(a){this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response);},_response:function(a){if(a&&a.length){a=this._normalize(a);this._suggest(a);this._trigger("open");}else{this.close();}this.element.removeClass("ui-autocomplete-loading");},close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",a);}},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem});},_normalize:function(a){if(a.length&&a[0].label&&a[0].value){return a;}return d.map(a,function(b){if(typeof b==="string"){return {label:b,value:b};}return d.extend({label:b.label||b.value,value:b.value||b.label},b);});},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(b,a);this.menu.deactivate();this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()));},_renderMenu:function(a,b){var f=this;d.each(b,function(c,e){f._renderItem(a,e);});},_renderItem:function(a,b){return d("<li></li>").data("item.autocomplete",b).append(d("<a></a>").text(b.label)).appendTo(a);},_move:function(a,b){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term);this.menu.deactivate();}else{this.menu[a](b);}}else{this.search(null,b);}},widget:function(){return this.menu.element;}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");},filter:function(a,b){var f=new RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(c){return f.test(c.label||c.value||c);});}});})(jQuery);(function(d){d.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(b){if(d(b.target).closest(".ui-menu-item a").length){b.preventDefault();a.select(b);}});this.refresh();},refresh:function(){var a=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(b){a.activate(b,d(this).parent());}).mouseleave(function(){a.deactivate();});},activate:function(a,b){this.deactivate();if(this.hasScroll()){var f=b.offset().top-this.element.offset().top,c=this.element.attr("scrollTop"),e=this.element.height();if(f<0){this.element.attr("scrollTop",c+f);}else{f>=e&&this.element.attr("scrollTop",c+f-e+b.height());}}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:b});},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null;}},next:function(a){this.move("next",".ui-menu-item:first",a);},previous:function(a){this.move("prev",".ui-menu-item:last",a);},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},move:function(a,b,f){if(this.active){a=this.active[a+"All"](".ui-menu-item").eq(0);a.length?this.activate(f,a):this.activate(f,this.element.children(b));}else{this.activate(f,this.element.children(b));}},nextPage:function(a){if(this.hasScroll()){if(!this.active||this.last()){this.activate(a,this.element.children(".ui-menu-item:first"));}else{var b=this.active.offset().top,f=this.element.height(),c=this.element.children(".ui-menu-item").filter(function(){var e=d(this).offset().top-b-f+d(this).height();return e<10&&e>-10;});c.length||(c=this.element.children(".ui-menu-item:last"));this.activate(a,c);}}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"));}},previousPage:function(a){if(this.hasScroll()){if(!this.active||this.first()){this.activate(a,this.element.children(".ui-menu-item:last"));}else{var b=this.active.offset().top,f=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var c=d(this).offset().top-b+f-d(this).height();return c<10&&c>-10;});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(a,result);}}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"));}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight");},select:function(a){this._trigger("selected",a,{item:this.active});}});})(jQuery);(function(a){var g,i=function(b){a(":ui-button",b.target.form).each(function(){var c=a(this).data("button");setTimeout(function(){c.refresh();},1);});},h=function(b){var c=b.name,d=b.form,e=a([]);if(c){e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return !this.form;});}return e;};a.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i);if(typeof this.options.disabled!=="boolean"){this.options.disabled=this.element.attr("disabled");}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",e="ui-state-hover"+(!d?" ui-state-active":"");if(c.label===null){c.label=this.buttonElement.html();}if(this.element.is(":disabled")){c.disabled=true;}this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!c.disabled){a(this).addClass("ui-state-hover");this===g&&a(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){c.disabled||a(this).removeClass(e);}).bind("focus.button",function(){a(this).addClass("ui-state-focus");}).bind("blur.button",function(){a(this).removeClass("ui-state-focus");});d&&this.element.bind("change.button",function(){b.refresh();});if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(c.disabled){return false;}a(this).toggleClass("ui-state-active");b.buttonElement.attr("aria-pressed",b.element[0].checked);});}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(c.disabled){return false;}a(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed",true);var f=b.element[0];h(f).not(f).map(function(){return a(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed",false);});}else{this.buttonElement.bind("mousedown.button",function(){if(c.disabled){return false;}a(this).addClass("ui-state-active");g=this;a(document).one("mouseup",function(){g=null;});}).bind("mouseup.button",function(){if(c.disabled){return false;}a(this).removeClass("ui-state-active");}).bind("keydown.button",function(f){if(c.disabled){return false;}if(f.keyCode==a.ui.keyCode.SPACE||f.keyCode==a.ui.keyCode.ENTER){a(this).addClass("ui-state-active");}}).bind("keyup.button",function(){a(this).removeClass("ui-state-active");});this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===a.ui.keyCode.SPACE&&a(this).click();});}}this._setOption("disabled",c.disabled);},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var b=this.element.is(":checked");b&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",b);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this);},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.attr("disabled",true):this.element.removeAttr("disabled");}this._resetButton();},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);if(this.type==="radio"){h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false);});}else{if(this.type==="checkbox"){this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false);}}},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);}else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary;if(d.primary||d.secondary){b.addClass("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary"));d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>");d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>");if(!this.options.text){b.addClass(e?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");this.hasTitle||b.attr("title",c);}}else{b.addClass("ui-button-text-only");}}}});a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c);a.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this);}});})(jQuery);(function(c,j){var k={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},l={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(a){var b=c(this).css(a).offset().top;b<0&&c(this).css("top",a.top-b);}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle="";}this.options.title=this.options.title||this.originalTitle;var a=this,b=a.options,d=b.title||"&#160;",e=c.ui.dialog.getTitleId(a.element),g=(a.uiDialog=c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b.dialogClass).css({zIndex:b.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){if(b.closeOnEscape&&i.keyCode&&i.keyCode===c.ui.keyCode.ESCAPE){a.close(i);i.preventDefault();}}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(i){a.moveToTop(false,i);});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g);var f=(a.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),h=c("<a href=\"#\"></a>").addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover");},function(){h.removeClass("ui-state-hover");}).focus(function(){h.addClass("ui-state-focus");}).blur(function(){h.removeClass("ui-state-focus");}).click(function(i){a.close(i);return false;}).appendTo(f);(a.uiDialogTitlebarCloseText=c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(h);c("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(f);if(c.isFunction(b.beforeclose)&&!c.isFunction(b.beforeClose)){b.beforeClose=b.beforeclose;}f.find("*").add(f).disableSelection();b.draggable&&c.fn.draggable&&a._makeDraggable();b.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(b.buttons);a._isOpen=false;c.fn.bgiframe&&g.bgiframe();},_init:function(){this.options.autoOpen&&this.open();},destroy:function(){var a=this;a.overlay&&a.overlay.destroy();a.uiDialog.hide();a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");a.uiDialog.remove();a.originalTitle&&a.element.attr("title",a.originalTitle);return a;},widget:function(){return this.uiDialog;},close:function(a){var b=this,d,e;if(false!==b._trigger("beforeClose",a)){b.overlay&&b.overlay.destroy();b.uiDialog.unbind("keypress.ui-dialog");b._isOpen=false;if(b.options.hide){b.uiDialog.hide(b.options.hide,function(){b._trigger("close",a);});}else{b.uiDialog.hide();b._trigger("close",a);}c.ui.dialog.overlay.resize();if(b.options.modal){d=0;c(".ui-dialog").each(function(){if(this!==b.uiDialog[0]){e=c(this).css("z-index");isNaN(e)||(d=Math.max(d,e));}});c.ui.dialog.maxZ=d;}return b;}},isOpen:function(){return this._isOpen;},moveToTop:function(a,b){var d=this,e=d.options;if(e.modal&&!a||!e.stack&&!e.modal){return d._trigger("focus",b);}if(e.zIndex>c.ui.dialog.maxZ){c.ui.dialog.maxZ=e.zIndex;}if(d.overlay){c.ui.dialog.maxZ+=1;d.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ);}a={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")};c.ui.dialog.maxZ+=1;d.uiDialog.css("z-index",c.ui.dialog.maxZ);d.element.attr(a);d._trigger("focus",b);return d;},open:function(){if(!this._isOpen){var a=this,b=a.options,d=a.uiDialog;a.overlay=b.modal?new c.ui.dialog.overlay(a):null;a._size();a._position(b.position);d.show(b.show);a.moveToTop(true);b.modal&&d.bind("keypress.ui-dialog",function(e){if(e.keyCode===c.ui.keyCode.TAB){var g=c(":tabbable",this),f=g.filter(":first");g=g.filter(":last");if(e.target===g[0]&&!e.shiftKey){f.focus(1);return false;}else{if(e.target===f[0]&&e.shiftKey){g.focus(1);return false;}}}});c(a.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus();a._isOpen=true;a._trigger("open");return a;}},_createButtons:function(a){var b=this,d=false,e=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=c("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);b.uiDialog.find(".ui-dialog-buttonpane").remove();typeof a==="object"&&a!==null&&c.each(a,function(){return !(d=true);});if(d){c.each(a,function(f,h){h=c.isFunction(h)?{click:h,text:f}:h;f=c("<button type=\"button\"></button>").attr(h,true).unbind("click").click(function(){h.click.apply(b.element[0],arguments);}).appendTo(g);c.fn.button&&f.button();});e.appendTo(b.uiDialog);}},_makeDraggable:function(){function a(f){return {position:f.position,offset:f.offset};}var b=this,d=b.options,e=c(document),g;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,h){g=d.height==="auto"?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");b._trigger("dragStart",f,a(h));},drag:function(f,h){b._trigger("drag",f,a(h));},stop:function(f,h){d.position=[h.position.left-e.scrollLeft(),h.position.top-e.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(g);b._trigger("dragStop",f,a(h));c.ui.dialog.overlay.resize();}});},_makeResizable:function(a){function b(f){return {originalPosition:f.originalPosition,originalSize:f.originalSize,position:f.position,size:f.size};}a=a===j?this.options.resizable:a;var d=this,e=d.options,g=d.uiDialog.css("position");a=typeof a==="string"?a:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:a,start:function(f,h){c(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",f,b(h));},resize:function(f,h){d._trigger("resize",f,b(h));},stop:function(f,h){c(this).removeClass("ui-dialog-resizing");e.height=c(this).height();e.width=c(this).width();d._trigger("resizeStop",f,b(h));c.ui.dialog.overlay.resize();}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se");},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height);},_position:function(a){var b=[],d=[0,0],e;if(a){if(typeof a==="string"||typeof a==="object"&&"0" in a){b=a.split?a.split(" "):[a[0],a[1]];if(b.length===1){b[1]=b[0];}c.each(["left","top"],function(g,f){if(+b[g]===b[g]){d[g]=b[g];b[g]=f;}});a={my:b.join(" "),at:b.join(" "),offset:d.join(" ")};}a=c.extend({},c.ui.dialog.prototype.options.position,a);}else{a=c.ui.dialog.prototype.options.position;}(e=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(c.extend({of:window},a));e||this.uiDialog.hide();},_setOptions:function(a){var b=this,d={},e=false;c.each(a,function(g,f){b._setOption(g,f);if(g in k){e=true;}if(g in l){d[g]=f;}});e&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",d);},_setOption:function(a,b){var d=this,e=d.uiDialog;switch(a){case "beforeclose":a="beforeClose";break;case "buttons":d._createButtons(b);break;case "closeText":d.uiDialogTitlebarCloseText.text(""+b);break;case "dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b);break;case "disabled":b?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case "draggable":var g=e.is(":data(draggable)");g&&!b&&e.draggable("destroy");!g&&b&&d._makeDraggable();break;case "position":d._position(b);break;case "resizable":(g=e.is(":data(resizable)"))&&!b&&e.resizable("destroy");g&&typeof b==="string"&&e.resizable("option","handles",b);!g&&b!==false&&d._makeResizable(b);break;case "title":c(".ui-dialog-title",d.uiDialogTitlebar).html(""+(b||"&#160;"));break;}c.Widget.prototype._setOption.apply(d,arguments);},_size:function(){var a=this.options,b,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(a.minWidth>a.width){a.width=a.minWidth;}b=this.uiDialog.css({height:"auto",width:a.width}).height();d=Math.max(0,a.minHeight-b);if(a.height==="auto"){if(c.support.minHeight){this.element.css({minHeight:d,height:"auto"});}else{this.uiDialog.show();a=this.element.css("height","auto").height();e||this.uiDialog.hide();this.element.height(Math.max(a,d));}}else{this.element.height(Math.max(a.height-b,0));}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight());}});c.extend(c.ui.dialog,{version:"1.8.7",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a){this.uuid+=1;a=this.uuid;}return "ui-dialog-title-"+a;},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a);}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay";}).join(" "),create:function(a){if(this.instances.length===0){setTimeout(function(){c.ui.dialog.overlay.instances.length&&c(document).bind(c.ui.dialog.overlay.events,function(d){if(c(d.target).zIndex()<c.ui.dialog.overlay.maxZ){return false;}});},1);c(document).bind("keydown.dialog-overlay",function(d){if(a.options.closeOnEscape&&d.keyCode&&d.keyCode===c.ui.keyCode.ESCAPE){a.close(d);d.preventDefault();}});c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize);}var b=(this.oldInstances.pop()||c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});c.fn.bgiframe&&b.bgiframe();this.instances.push(b);return b;},destroy:function(a){var b=c.inArray(a,this.instances);b!=-1&&this.oldInstances.push(this.instances.splice(b,1)[0]);this.instances.length===0&&c([document,window]).unbind(".dialog-overlay");a.remove();var d=0;c.each(this.instances,function(){d=Math.max(d,this.css("z-index"));});this.maxZ=d;},height:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return a<b?c(window).height()+"px":a+"px";}else{return c(document).height()+"px";}},width:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<b?c(window).width()+"px":a+"px";}else{return c(document).width()+"px";}},resize:function(){var a=c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this);});a.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()});}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el);}});})(jQuery);(function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var b=this,a=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");a.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");this.range=d([]);if(a.range){if(a.range===true){this.range=d("<div></div>");if(!a.values){a.values=[this._valueMin(),this._valueMin()];}if(a.values.length&&a.values.length!==2){a.values=[a.values[0],a.values[0]];}}else{this.range=d("<div></div>");}this.range.appendTo(this.element).addClass("ui-slider-range");if(a.range==="min"||a.range==="max"){this.range.addClass("ui-slider-range-"+a.range);}this.range.addClass("ui-widget-header");}d(".ui-slider-handle",this.element).length===0&&d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(a.values&&a.values.length){for(;d(".ui-slider-handle",this.element).length<a.values.length;){d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");}}this.handles=d(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(c){c.preventDefault();}).hover(function(){a.disabled||d(this).addClass("ui-state-hover");},function(){d(this).removeClass("ui-state-hover");}).focus(function(){if(a.disabled){d(this).blur();}else{d(".ui-slider .ui-state-focus").removeClass("ui-state-focus");d(this).addClass("ui-state-focus");}}).blur(function(){d(this).removeClass("ui-state-focus");});this.handles.each(function(c){d(this).data("index.ui-slider-handle",c);});this.handles.keydown(function(c){var e=true,f=d(this).data("index.ui-slider-handle"),h,g,i;if(!b.options.disabled){switch(c.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:e=false;if(!b._keySliding){b._keySliding=true;d(this).addClass("ui-state-active");h=b._start(c,f);if(h===false){return;}}break;}i=b.options.step;h=b.options.values&&b.options.values.length?(g=b.values(f)):(g=b.value());switch(c.keyCode){case d.ui.keyCode.HOME:g=b._valueMin();break;case d.ui.keyCode.END:g=b._valueMax();break;case d.ui.keyCode.PAGE_UP:g=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:g=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(h===b._valueMax()){return;}g=b._trimAlignValue(h+i);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(h===b._valueMin()){return;}g=b._trimAlignValue(h-i);break;}b._slide(c,f,g);return e;}}).keyup(function(c){var e=d(this).data("index.ui-slider-handle");if(b._keySliding){b._keySliding=false;b._stop(c,e);b._change(c,e);d(this).removeClass("ui-state-active");}});this._refreshValue();this._animateOff=false;},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this;},_mouseCapture:function(b){var a=this.options,c,e,f,h,g;if(a.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:b.pageX,y:b.pageY});e=this._valueMax()-this._valueMin()+1;h=this;this.handles.each(function(i){var j=Math.abs(c-h.values(i));if(e>j){e=j;f=d(this);g=i;}});if(a.range===true&&this.values(1)===a.min){g+=1;f=d(this.handles[g]);}if(this._start(b,g)===false){return false;}this._mouseSliding=true;h._handleIndex=g;f.addClass("ui-state-active").focus();a=f.offset();this._clickOffset=!d(b.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:b.pageX-a.left-f.width()/2,top:b.pageY-a.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(b,g,c);return this._animateOff=true;},_mouseStart:function(){return true;},_mouseDrag:function(b){var a=this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,a);return false;},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false;},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal";},_normValueFromMouse:function(b){var a;if(this.orientation==="horizontal"){a=this.elementSize.width;b=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{a=this.elementSize.height;b=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}a=b/a;if(a>1){a=1;}if(a<0){a=0;}if(this.orientation==="vertical"){a=1-a;}b=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+a*b);},_start:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values();}return this._trigger("start",b,c);},_slide:function(b,a,c){var e;if(this.options.values&&this.options.values.length){e=this.values(a?0:1);if(this.options.values.length===2&&this.options.range===true&&(a===0&&c>e||a===1&&c<e)){c=e;}if(c!==this.values(a)){e=this.values();e[a]=c;b=this._trigger("slide",b,{handle:this.handles[a],value:c,values:e});this.values(a?0:1);b!==false&&this.values(a,c,true);}}else{if(c!==this.value()){b=this._trigger("slide",b,{handle:this.handles[a],value:c});b!==false&&this.value(c);}}},_stop:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values();}this._trigger("stop",b,c);},_change:function(b,a){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values();}this._trigger("change",b,c);}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b);this._refreshValue();this._change(null,0);}return this._value();},values:function(b,a){var c,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(a);this._refreshValue();this._change(null,b);}if(arguments.length){if(d.isArray(arguments[0])){c=this.options.values;e=arguments[0];for(f=0;f<c.length;f+=1){c[f]=this._trimAlignValue(e[f]);this._change(null,f);}this._refreshValue();}else{return this.options.values&&this.options.values.length?this._values(b):this.value();}}else{return this._values();}},_setOption:function(b,a){var c,e=0;if(d.isArray(this.options.values)){e=this.options.values.length;}d.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":if(a){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled");}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled");}break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(c=0;c<e;c+=1){this._change(null,c);}this._animateOff=false;break;}},_value:function(){var b=this.options.value;return b=this._trimAlignValue(b);},_values:function(b){var a,c;if(arguments.length){a=this.options.values[b];return a=this._trimAlignValue(a);}else{a=this.options.values.slice();for(c=0;c<a.length;c+=1){a[c]=this._trimAlignValue(a[c]);}return a;}},_trimAlignValue:function(b){if(b<=this._valueMin()){return this._valueMin();}if(b>=this._valueMax()){return this._valueMax();}var a=this.options.step>0?this.options.step:1,c=(b-this._valueMin())%a;alignValue=b-c;if(Math.abs(c)*2>=a){alignValue+=c>0?a:-a;}return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var b=this.options.range,a=this.options,c=this,e=!this._animateOff?a.animate:false,f,h={},g,i,j,l;if(this.options.values&&this.options.values.length){this.handles.each(function(k){f=(c.values(k)-c._valueMin())/(c._valueMax()-c._valueMin())*100;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";d(this).stop(1,1)[e?"animate":"css"](h,a.animate);if(c.options.range===true){if(c.orientation==="horizontal"){if(k===0){c.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},a.animate);}if(k===1){c.range[e?"animate":"css"]({width:f-g+"%"},{queue:false,duration:a.animate});}}else{if(k===0){c.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},a.animate);}if(k===1){c.range[e?"animate":"css"]({height:f-g+"%"},{queue:false,duration:a.animate});}}}g=f;});}else{i=this.value();j=this._valueMin();l=this._valueMax();f=l!==j?(i-j)/(l-j)*100:0;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";this.handle.stop(1,1)[e?"animate":"css"](h,a.animate);if(b==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},a.animate);}if(b==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:100-f+"%"},{queue:false,duration:a.animate});}if(b==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},a.animate);}if(b==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:100-f+"%"},{queue:false,duration:a.animate});}}}});d.extend(d.ui.slider,{version:"1.8.7"});})(jQuery);(function(d,p){function u(){return ++v;}function w(){return ++x;}var v=0,x=0;d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true);},_setOption:function(b,e){if(b=="selected"){this.options.collapsible&&e==this.options.selected||this.select(e);}else{this.options[b]=e;this._tabify();}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+u();},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:");},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+w());return d.cookie.apply(null,[b].concat(d.makeArray(arguments)));},_ui:function(b,e){return {tab:b,panel:e,index:this.anchors.index(b)};},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=d(this);b.html(b.data("label.tabs")).removeData("label.tabs");});},_tabify:function(b){function e(g,f){g.css("display","");!d.support.opacity&&f.opacity&&g[0].style.removeAttribute("filter");}var a=this,c=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0];});this.panels=d([]);this.anchors.each(function(g,f){var i=d(f).attr("href"),l=i.split("#")[0],q;if(l&&(l===location.toString().split("#")[0]||(q=d("base")[0])&&l===q.href)){i=f.hash;f.href=i;}if(h.test(i)){a.panels=a.panels.add(a.element.find(a._sanitizeSelector(i)));}else{if(i&&i!=="#"){d.data(f,"href.tabs",i);d.data(f,"load.tabs",i.replace(/#.*$/,""));i=a._tabId(f);f.href="#"+i;f=a.element.find("#"+i);if(!f.length){f=d(c.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list);f.data("destroy.tabs",true);}a.panels=a.panels.add(f);}else{c.disabled.push(g);}}});if(b){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(c.selected===p){location.hash&&this.anchors.each(function(g,f){if(f.hash==location.hash){c.selected=g;return false;}});if(typeof c.selected!=="number"&&c.cookie){c.selected=parseInt(a._cookie(),10);}if(typeof c.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}c.selected=c.selected||(this.lis.length?0:-1);}else{if(c.selected===null){c.selected=-1;}}c.selected=c.selected>=0&&this.anchors[c.selected]||c.selected<0?c.selected:0;c.disabled=d.unique(c.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g);}))).sort();d.inArray(c.selected,c.disabled)!=-1&&c.disabled.splice(d.inArray(c.selected,c.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(c.selected>=0&&this.anchors.length){a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active");a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[c.selected],a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash))));});this.load(c.selected);}d(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null;});}else{c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}this.element[c.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");c.cookie&&this._cookie(c.selected,c.cookie);b=0;for(var j;j=this.lis[b];b++){d(j)[d.inArray(b,c.disabled)!=-1&&!d(j).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");}c.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(c.event!=="mouseover"){var k=function(g,f){f.is(":not(.ui-state-disabled)")&&f.addClass("ui-state-"+g);},n=function(g,f){f.removeClass("ui-state-"+g);};this.lis.bind("mouseover.tabs",function(){k("hover",d(this));});this.lis.bind("mouseout.tabs",function(){n("hover",d(this));});this.anchors.bind("focus.tabs",function(){k("focus",d(this).closest("li"));});this.anchors.bind("blur.tabs",function(){n("focus",d(this).closest("li"));});}var m,o;if(c.fx){if(d.isArray(c.fx)){m=c.fx[0];o=c.fx[1];}else{m=o=c.fx;}}var r=o?function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.hide().removeClass("ui-tabs-hide").animate(o,o.duration||"normal",function(){e(f,o);a._trigger("show",null,a._ui(g,f[0]));});}:function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(g,f[0]));},s=m?function(g,f){f.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");e(f,m);a.element.dequeue("tabs");});}:function(g,f){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");a.element.dequeue("tabs");};this.anchors.bind(c.event+".tabs",function(){var g=this,f=d(g).closest("li"),i=a.panels.filter(":not(.ui-tabs-hide)"),l=a.element.find(a._sanitizeSelector(g.hash));if(f.hasClass("ui-tabs-selected")&&!c.collapsible||f.hasClass("ui-state-disabled")||f.hasClass("ui-state-processing")||a.panels.filter(":animated").length||a._trigger("select",null,a._ui(this,l[0]))===false){this.blur();return false;}c.selected=a.anchors.index(this);a.abort();if(c.collapsible){if(f.hasClass("ui-tabs-selected")){c.selected=-1;c.cookie&&a._cookie(c.selected,c.cookie);a.element.queue("tabs",function(){s(g,i);}).dequeue("tabs");this.blur();return false;}else{if(!i.length){c.cookie&&a._cookie(c.selected,c.cookie);a.element.queue("tabs",function(){r(g,l);});a.load(a.anchors.index(this));this.blur();return false;}}}c.cookie&&a._cookie(c.selected,c.cookie);if(l.length){i.length&&a.element.queue("tabs",function(){s(g,i);});a.element.queue("tabs",function(){r(g,l);});a.load(a.anchors.index(this));}else{throw "jQuery UI Tabs: Mismatching fragment identifier.";}d.browser.msie&&this.blur();});this.anchors.bind("click.tabs",function(){return false;});},_getIndex:function(b){if(typeof b=="string"){b=this.anchors.index(this.anchors.filter("[href$="+b+"]"));}return b;},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var e=d.data(this,"href.tabs");if(e){this.href=e;}var a=d(this).unbind(".tabs");d.each(["href","load","cache"],function(c,h){a.removeData(h+".tabs");});});this.lis.unbind(".tabs").add(this.panels).each(function(){d.data(this,"destroy.tabs")?d(this).remove():d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");});b.cookie&&this._cookie(null,b.cookie);return this;},add:function(b,e,a){if(a===p){a=this.anchors.length;}var c=this,h=this.options;e=d(h.tabTemplate.replace(/#\{href\}/g,b).replace(/#\{label\}/g,e));b=!b.indexOf("#")?b.replace("#",""):this._tabId(d("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var j=c.element.find("#"+b);j.length||(j=d(h.panelTemplate).attr("id",b).data("destroy.tabs",true));j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(a>=this.lis.length){e.appendTo(this.list);j.appendTo(this.list[0].parentNode);}else{e.insertBefore(this.lis[a]);j.insertBefore(this.panels[a]);}h.disabled=d.map(h.disabled,function(k){return k>=a?++k:k;});this._tabify();if(this.anchors.length==1){h.selected=0;e.addClass("ui-tabs-selected ui-state-active");j.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){c._trigger("show",null,c._ui(c.anchors[0],c.panels[0]));});this.load(0);}this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this;},remove:function(b){b=this._getIndex(b);var e=this.options,a=this.lis.eq(b).remove(),c=this.panels.eq(b).remove();if(a.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(b+(b+1<this.anchors.length?1:-1));}e.disabled=d.map(d.grep(e.disabled,function(h){return h!=b;}),function(h){return h>=b?--h:h;});this._tabify();this._trigger("remove",null,this._ui(a.find("a")[0],c[0]));return this;},enable:function(b){b=this._getIndex(b);var e=this.options;if(d.inArray(b,e.disabled)!=-1){this.lis.eq(b).removeClass("ui-state-disabled");e.disabled=d.grep(e.disabled,function(a){return a!=b;});this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this;}},disable:function(b){b=this._getIndex(b);var e=this.options;if(b!=e.selected){this.lis.eq(b).addClass("ui-state-disabled");e.disabled.push(b);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]));}return this;},select:function(b){b=this._getIndex(b);if(b==-1){if(this.options.collapsible&&this.options.selected!=-1){b=this.options.selected;}else{return this;}}this.anchors.eq(b).trigger(this.options.event+".tabs");return this;},load:function(b){b=this._getIndex(b);var e=this,a=this.options,c=this.anchors.eq(b)[0],h=d.data(c,"load.tabs");this.abort();if(!h||this.element.queue("tabs").length!==0&&d.data(c,"cache.tabs")){this.element.dequeue("tabs");}else{this.lis.eq(b).addClass("ui-state-processing");if(a.spinner){var j=d("span",c);j.data("label.tabs",j.html()).html(a.spinner);}this.xhr=d.ajax(d.extend({},a.ajaxOptions,{url:h,success:function(k,n){e.element.find(e._sanitizeSelector(c.hash)).html(k);e._cleanup();a.cache&&d.data(c,"cache.tabs",true);e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.success(k,n);}catch(m){}},error:function(k,n){e._cleanup();e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.error(k,n,b,c);}catch(m){}}}));e.element.dequeue("tabs");return this;}},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr;}this._cleanup();return this;},url:function(b,e){this.anchors.eq(b).removeData("cache.tabs").data("load.tabs",e);return this;},length:function(){return this.anchors.length;}});d.extend(d.ui.tabs,{version:"1.8.7"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(b,e){var a=this,c=this.options,h=a._rotate||(a._rotate=function(j){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var k=c.selected;a.select(++k<a.anchors.length?k:0);},b);j&&j.stopPropagation();});e=a._unrotate||(a._unrotate=!e?function(j){j.clientX&&a.rotate(null);}:function(){t=c.selected;h();});if(b){this.element.bind("tabsshow",h);this.anchors.bind(c.event+".tabs",e);h();}else{clearTimeout(a.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(c.event+".tabs",e);delete this._rotate;delete this._unrotate;}return this;}});})(jQuery);(function(d,G){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d("<div id=\""+this._mainDivId+"\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div>");}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c];}}return a;}d.extend(d.ui,{datepicker:{version:"1.8.7"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments);},_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(a){E(this._defaults,a||{});return this;},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f);}catch(h){c[e]=f;}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid;}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i);}else{f&&this._inlineDatepicker(a,i);}},_newInst:function(a,b){return {id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d("<div class=\""+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div>")};},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h;}).bind("getData.datepicker",function(e,f){return this._get(b,f);});this._autoSize(b);d.data(a,"datepicker",b);}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d("<span class=\""+this._appendClass+"\">"+c+"</span>");a[e?"before":"after"](b.append);}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker);}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d("<button type=\"button\"></button>").addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false;});}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g;}}return i;};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay());}a.input.attr("size",this._formatDate(a,b).length);}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h;}).bind("getData.datepicker",function(e,f){return this._get(b,f);});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show();}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d("<input type=\"text\" id=\""+("dp"+this.uuid)+"\" style=\"position: absolute; top: -100px; width: 0px; z-index: -10;\"/>");this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a);}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this;},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty();}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled");}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f;});}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled");}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f;});this._disabledInputs[this._disabledInputs.length]=a;}},_isDisabledDatepicker:function(a){if(!a){return false;}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true;}}return false;},_getInst:function(a){try{return d.data(a,"datepicker");}catch(b){throw "Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;}var f=b||{};if(typeof b=="string"){f={};f[b]=c;}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e);}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c);},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a);},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a);}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null;},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target);}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target);}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D");}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D");}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D");}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D");}c=a.ctrlKey||a.metaKey;break;default:c=false;}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this);}else{c=false;}}if(c){a.preventDefault();a.stopPropagation();}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1;}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a);}}catch(b){d.datepicker.log(b);}}return true;},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0];}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value="";}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight;}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e;});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop;}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()});}};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h();}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b;}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover");}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover");}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);f=a.yearshtml=null;},0);}},_getBorders:function(a){var b=function(c){return {thin:1,medium:2,thick:3}[c]||c;};return [parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))];},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b;},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"];}a=d(a).offset();return [a.left,a.top];},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null;};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]);}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv);}}this._inDialog=false;}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker();}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e);}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear;}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear();}this._notifyChange(b);this._adjustDate(a);},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a);},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus();},0);b._selectingMonthYear=!b._selectingMonthYear;},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear));}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"");},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a]);}else{a.input&&a.input.trigger("change");}if(a.inline){this._updateDatepicker(a);}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null;}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f);});}},noWeekends:function(a){a=a.getDay();return [a>0&&a<6,""];},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1;},parseDate:function(a,b,c){if(a==null||b==null){throw "Invalid arguments";}b=typeof b=="object"?b.toString():b+"";if(b==""){return null;}for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p;},m=function(p){var v=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&v?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw "Missing number at position "+s;}s+=p[0].length;return parseInt(p[0],10);},n=function(p,v,H){p=o(p)?H:v;for(v=0;v<p.length;v++){if(b.substr(s,p[v].length).toLowerCase()==p[v].toLowerCase()){s+=p[v].length;return v+1;}}throw "Unknown name at position "+s;},r=function(){if(b.charAt(s)!=a.charAt(z)){throw "Unexpected literal at position "+s;}s++;},s=0,z=0;z<a.length;z++){if(k){if(a.charAt(z)=="'"&&!o("'")){k=false;}else{r();}}else{switch(a.charAt(z)){case "d":l=m("d");break;case "D":n("D",f,h);break;case "o":u=m("o");break;case "m":j=m("m");break;case "M":j=n("M",i,g);break;case "y":c=m("y");break;case "@":var w=new Date(m("@"));c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case "!":w=new Date((m("!")-this._ticksTo1970)/10000);c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case "'":if(o("'")){r();}else{k=true;}break;default:r();}}}if(c==-1){c=(new Date).getFullYear();}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100);}}if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e){break;}j++;l-=e;}while(1);}w=this._daylightSavingAdjust(new Date(c,j-1,l));if(w.getFullYear()!=c||w.getMonth()+1!=j||w.getDate()!=l){throw "Invalid date";}return w;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return "";}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o;},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m;}}return m;},j=function(o,m,n,r){return i(o)?r[m]:n[m];},l="",u=false;if(b){for(var k=0;k<a.length;k++){if(u){if(a.charAt(k)=="'"&&!i("'")){u=false;}else{l+=a.charAt(k);}}else{switch(a.charAt(k)){case "d":l+=g("d",b.getDate(),2);break;case "D":l+=j("D",b.getDay(),e,f);break;case "o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);break;case "m":l+=g("m",b.getMonth()+1,2);break;case "M":l+=j("M",b.getMonth(),h,c);break;case "y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case "@":l+=b.getTime();break;case "!":l+=b.getTime()*10000+this._ticksTo1970;break;case "'":if(i("'")){l+="'";}else{u=true;}break;default:l+=a.charAt(k);}}}}return l;},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h;},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false;}else{b+=a.charAt(f);}}else{switch(a.charAt(f)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":if(e("'")){b+="'";}else{c=true;}break;default:b+=a.charAt(f);}}}return b;},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b];},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h;}catch(g){this.log(g);e=b?"":e;}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a);}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date));},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i;},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a));}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case "d":case "D":g+=parseInt(k[1],10);break;case "w":case "W":g+=parseInt(k[1],10)*7;break;case "m":case "M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case "y":case "Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;}k=u.exec(h);}return new Date(j,l,g);};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);}return this._daylightSavingAdjust(b);},_daylightSavingAdjust:function(a){if(!a){return null;}a.setHours(a.getHours()>12?a.getHours()+2:0);return a;},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a);}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a));}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--;}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--;}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?"<a class=\"ui-datepicker-prev ui-corner-all\" onclick=\"DP_jQuery_"+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(c?"e":"w")+"\">"+n+"</span></a>":f?"":"<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\""+n+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(c?"e":"w")+"\">"+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?"<a class=\"ui-datepicker-next ui-corner-all\" onclick=\"DP_jQuery_"+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+r+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(c?"w":"e")+"\">"+r+"</span></a>":f?"":"<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\""+r+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(c?"w":"e")+"\">"+r+"</span></a>";j=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,r,this._getFormatConfig(a));h=!a.inline?"<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\" onclick=\"DP_jQuery_"+y+".datepicker._hideDatepicker();\">"+this._get(a,"closeText")+"</button>":"";e=e?"<div class=\"ui-datepicker-buttonpane ui-widget-content\">"+(c?h:"")+(this._isInRange(a,r)?"<button type=\"button\" class=\"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\" onclick=\"DP_jQuery_"+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),w=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var M="",D=0;D<i[1];D++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+="<div class=\"ui-datepicker-group";if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break;}}x+="\">";}x+="<div class=\"ui-datepicker-header ui-widget-header ui-helper-clearfix"+t+"\">"+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,C>0||D>0,z,w)+"</div><table class=\"ui-datepicker-calendar\"><thead><tr>";var A=j?"<th class=\"ui-datepicker-week-col\">"+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?" class=\"ui-datepicker-week-end\"":"")+"><span title=\""+r[q]+"\">"+s[q]+"</span></th>";}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A);}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!j?"":"<td class=\"ui-datepicker-week-col\">"+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,J=B&&!H||!F[0]||k&&q<k||o&&q>o;P+="<td class=\""+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+"\""+((!B||v)&&F[2]?" title=\""+F[2]+"\"":"")+(J?"":" onclick=\"DP_jQuery_"+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+", this);return false;\"")+">"+(B&&!v?"&#xa0;":J?"<span class=\"ui-state-default\">"+q.getDate()+"</span>":"<a class=\"ui-state-default"+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"\" href=\"#\">"+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q);}x+=P+"</tr>";}g++;if(g>11){g=0;m++;}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?"<div class=\"ui-datepicker-row-break\"></div>":""):"");M+=x;}I+=M;}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?"<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>":"");a._keyEvent=false;return I;},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k="<div class=\"ui-datepicker-title\">",o="";if(h||!j){o+="<span class=\"ui-datepicker-month\">"+i[b]+"</span>";}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+="<select class=\"ui-datepicker-month\" onchange=\"DP_jQuery_"+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+="<option value=\""+n+"\""+(n==b?" selected=\"selected\"":"")+">"+g[n]+"</option>";}}o+="</select>";}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));a.yearshtml="";if(h||!l){k+="<span class=\"ui-datepicker-year\">"+c+"</span>";}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s;};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+="<select class=\"ui-datepicker-year\" onchange=\"DP_jQuery_"+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){a.yearshtml+="<option value=\""+b+"\""+(b==c?" selected=\"selected\"":"")+">"+b+"</option>";}a.yearshtml+="</select>";if(d.browser.mozilla){k+="<select class=\"ui-datepicker-year\"><option value=\""+c+"\" selected=\"selected\">"+c+"</option></select>";}else{k+=a.yearshtml;a.yearshtml=null;}}k+=this._get(a,"yearSuffix");if(u){k+=(h||!(j&&l)?"&#xa0;":"")+o;}k+="</div>";return k;},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a);}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b;},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a]);}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a;},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null);},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate();},_getFirstDayOfMonth:function(a,b){return (new Date(a,b,1)).getDay();},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c);},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return (!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime());},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return {shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")};},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear;}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a));}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true;}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a);});};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.7";window["DP_jQuery_"+y]=d;})(jQuery);(function(b,d){b.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue();},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments);},value:function(a){if(a===d){return this._value();}this._setOption("value",a);return this;},_setOption:function(a,c){if(a==="value"){this.options.value=c;this._refreshValue();this._value()===this.options.max&&this._trigger("complete");}b.Widget.prototype._setOption.apply(this,arguments);},_value:function(){var a=this.options.value;if(typeof a!=="number"){a=0;}return Math.min(this.options.max,Math.max(this.min,a));},_percentage:function(){return 100*this._value()/this.options.max;},_refreshValue:function(){var a=this.value(),c=this._percentage();if(this.oldValue!==a){this.oldValue=a;this._trigger("change");}this.valueDiv.toggleClass("ui-corner-right",a===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",a);}});b.extend(b.ui.progressbar,{version:"1.8.7"});})(jQuery);jQuery.effects||function(f,j){function n(c){var a;if(c&&c.constructor==Array&&c.length==3){return c;}if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return [parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];}if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return [parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];}if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return [parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];}if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return [parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];}if(/rgba\(0, 0, 0, 0\)/.exec(c)){return o.transparent;}return o[f.trim(c).toLowerCase()];}function s(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body")){break;}a="backgroundColor";}while(c=c.parentNode);return n(b);}function p(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},b,d;if(c&&c.length&&c[0]&&c[c[0]]){for(var e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase();});a[d]=c[b];}}}else{for(b in c){if(typeof c[b]==="string"){a[b]=c[b];}}}return a;}function q(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in t||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b))){delete c[a];}}return c;}function u(c,a){var b={_:0},d;for(d in a){if(c[d]!=a[d]){b[d]=a[d];}}return b;}function k(c,a,b,d){if(typeof c=="object"){d=a;b=null;a=c;c=a.effect;}if(f.isFunction(a)){d=a;b=null;a={};}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={};}if(f.isFunction(b)){d=b;b=null;}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:b in f.fx.speeds?f.fx.speeds[b]:f.fx.speeds._default;d=d||a.complete;return [c,a,b,d];}function m(c){if(!c||typeof c==="number"||f.fx.speeds[c]){return true;}if(typeof c==="string"&&!f.effects[c]){return true;}return false;}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=s(b.elem,a);b.end=n(b.end);b.colorInit=true;}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")";};});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},r=["add","remove","toggle"],t={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null;}return this.each(function(){f.queue(this,"fx",function(){var e=f(this),g=e.attr("style")||" ",h=q(p.call(this)),l,v=e.attr("className");f.each(r,function(w,i){c[i]&&e[i+"Class"](c[i]);});l=q(p.call(this));e.attr("className",v);e.animate(u(h,l),a,b,function(){f.each(r,function(w,i){c[i]&&e[i+"Class"](c[i]);});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g;}else{e.attr("style",g);}d&&d.apply(this,arguments);});h=f.queue(this);l=h.splice(h.length-1,1)[0];h.splice(1,0,l);f.dequeue(this);});});};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c);},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c);},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===j?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d]);},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e]);}});f.extend(f.effects,{version:"1.8.7",save:function(c,a){for(var b=0;b<a.length;b++){a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]]);}},restore:function(c,a){for(var b=0;b<a.length;b++){a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]));}},setMode:function(c,a){if(a=="toggle"){a=c.is(":hidden")?"show":"hide";}return a;},getBaseline:function(c,a){var b;switch(c[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=c[0]/a.height;}switch(c[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=c[1]/a.width;}return {x:c,y:b};},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper")){return c.parent();}var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"});}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10))){a[e]="auto";}});c.css({position:"relative",top:0,left:0});}return b.css(a).show();},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper")){return c.parent().replaceWith(c);}return c;},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0){d[g]=unit[0]*b+unit[1];}});return d;}});f.fn.extend({effect:function(c){var a=k.apply(this,arguments),b={options:a[1],duration:a[2],callback:a[3]};a=b.options.mode;var d=f.effects[c];if(f.fx.off||!d){return a?this[a](b.duration,b.callback):this.each(function(){b.callback&&b.callback.call(this);});}return d.call(this,b);},_show:f.fn.show,show:function(c){if(m(c)){return this._show.apply(this,arguments);}else{var a=k.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a);}},_hide:f.fn.hide,hide:function(c){if(m(c)){return this._hide.apply(this,arguments);}else{var a=k.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a);}},__toggle:f.fn.toggle,toggle:function(c){if(m(c)||typeof c==="boolean"||f.isFunction(c)){return this.__toggle.apply(this,arguments);}else{var a=k.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a);}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0){b=[parseFloat(a),e];}});return b;}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e);},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b;},easeOutQuad:function(c,a,b,d,e){return -d*(a/=e)*(a-2)+b;},easeInOutQuad:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a+b;}return -d/2*(--a*(a-2)-1)+b;},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b;},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b;},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a+b;}return d/2*((a-=2)*a*a+2)+b;},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b;},easeOutQuart:function(c,a,b,d,e){return -d*((a=a/e-1)*a*a*a-1)+b;},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a*a+b;}return -d/2*((a-=2)*a*a*a-2)+b;},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b;},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b;},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a*a*a+b;}return d/2*((a-=2)*a*a*a*a+2)+b;},easeInSine:function(c,a,b,d,e){return -d*Math.cos(a/e*(Math.PI/2))+d+b;},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b;},easeInOutSine:function(c,a,b,d,e){return -d/2*(Math.cos(Math.PI*a/e)-1)+b;},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,10*(a/e-1))+b;},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b;},easeInOutExpo:function(c,a,b,d,e){if(a==0){return b;}if(a==e){return b+d;}if((a/=e/2)<1){return d/2*Math.pow(2,10*(a-1))+b;}return d/2*(-Math.pow(2,-10*--a)+2)+b;},easeInCirc:function(c,a,b,d,e){return -d*(Math.sqrt(1-(a/=e)*a)-1)+b;},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b;},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1){return -d/2*(Math.sqrt(1-a*a)-1)+b;}return d/2*(Math.sqrt(1-(a-=2)*a)+1)+b;},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b;}if((a/=e)==1){return b+d;}g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4;}else{c=g/(2*Math.PI)*Math.asin(d/h);}return -(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b;},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b;}if((a/=e)==1){return b+d;}g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4;}else{c=g/(2*Math.PI)*Math.asin(d/h);}return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b;},easeInOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b;}if((a/=e/2)==2){return b+d;}g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4;}else{c=g/(2*Math.PI)*Math.asin(d/h);}if(a<1){return -0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;}return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b;},easeInBack:function(c,a,b,d,e,g){if(g==j){g=1.70158;}return d*(a/=e)*a*((g+1)*a-g)+b;},easeOutBack:function(c,a,b,d,e,g){if(g==j){g=1.70158;}return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b;},easeInOutBack:function(c,a,b,d,e,g){if(g==j){g=1.70158;}if((a/=e/2)<1){return d/2*a*a*(((g*=1.525)+1)*a-g)+b;}return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b;},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b;},easeOutBounce:function(c,a,b,d,e){return (a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b;},easeInOutBounce:function(c,a,b,d,e){if(a<e/2){return f.easing.easeInBounce(c,a*2,0,d,e)*0.5+b;}return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b;}});}(jQuery);(function(b){b.effects.blind=function(c){return this.queue(function(){var a=b(this),g=["position","top","left"],f=b.effects.setMode(a,c.options.mode||"hide"),d=c.options.direction||"vertical";b.effects.save(a,g);a.show();var e=b.effects.createWrapper(a).css({overflow:"hidden"}),h=d=="vertical"?"height":"width";d=d=="vertical"?e.height():e.width();f=="show"&&e.css(h,0);var i={};i[h]=f=="show"?d:0;e.animate(i,c.duration,c.options.easing,function(){f=="hide"&&a.hide();b.effects.restore(a,g);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue();});});};})(jQuery);(function(e){e.effects.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","left"],h=e.effects.setMode(a,b.options.mode||"effect"),d=b.options.direction||"up",c=b.options.distance||20,m=b.options.times||5,i=b.duration||250;/show|hide/.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);var f=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";c=b.options.distance||(f=="top"?a.outerHeight({margin:true})/3:a.outerWidth({margin:true})/3);if(h=="show"){a.css("opacity",0).css(f,d=="pos"?-c:c);}if(h=="hide"){c/=m*2;}h!="hide"&&m--;if(h=="show"){var g={opacity:1};g[f]=(d=="pos"?"+=":"-=")+c;a.animate(g,i/2,b.options.easing);c/=2;m--;}for(g=0;g<m;g++){var j={},k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing);c=h=="hide"?c*2:c/2;}if(h=="hide"){g={opacity:0};g[f]=(d=="pos"?"-=":"+=")+c;a.animate(g,i/2,b.options.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments);});}else{j={};k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments);});}a.queue("fx",function(){a.dequeue();});a.dequeue();});};})(jQuery);(function(b){b.effects.clip=function(e){return this.queue(function(){var a=b(this),i=["position","top","left","height","width"],f=b.effects.setMode(a,e.options.mode||"hide"),c=e.options.direction||"vertical";b.effects.save(a,i);a.show();var d=b.effects.createWrapper(a).css({overflow:"hidden"});d=a[0].tagName=="IMG"?d:a;var g={size:c=="vertical"?"height":"width",position:c=="vertical"?"top":"left"};c=c=="vertical"?d.height():d.width();if(f=="show"){d.css(g.size,0);d.css(g.position,c/2);}var h={};h[g.size]=f=="show"?c:0;h[g.position]=f=="show"?0:c/2;d.animate(h,{queue:false,duration:e.duration,easing:e.options.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,i);b.effects.removeWrapper(a);e.callback&&e.callback.apply(a[0],arguments);a.dequeue();}});});};})(jQuery);(function(c){c.effects.drop=function(d){return this.queue(function(){var a=c(this),h=["position","top","left","opacity"],e=c.effects.setMode(a,d.options.mode||"hide"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a);var f=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var g=d.options.distance||(f=="top"?a.outerHeight({margin:true})/2:a.outerWidth({margin:true})/2);if(e=="show"){a.css("opacity",0).css(f,b=="pos"?-g:g);}var i={opacity:e=="show"?1:0};i[f]=(e=="show"?b=="pos"?"+=":"-=":b=="pos"?"-=":"+=")+g;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){e=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue();}});});};})(jQuery);(function(j){j.effects.explode=function(a){return this.queue(function(){var c=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,d=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?j(this).is(":visible")?"hide":"show":a.options.mode;var b=j(this).show().css("visibility","hidden"),g=b.offset();g.top-=parseInt(b.css("marginTop"),10)||0;g.left-=parseInt(b.css("marginLeft"),10)||0;for(var h=b.outerWidth(true),i=b.outerHeight(true),e=0;e<c;e++){for(var f=0;f<d;f++){b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(h/d),top:-e*(i/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/d,height:i/c,left:g.left+f*(h/d)+(a.options.mode=="show"?(f-Math.floor(d/2))*(h/d):0),top:g.top+e*(i/c)+(a.options.mode=="show"?(e-Math.floor(c/2))*(i/c):0),opacity:a.options.mode=="show"?0:1}).animate({left:g.left+f*(h/d)+(a.options.mode=="show"?0:(f-Math.floor(d/2))*(h/d)),top:g.top+e*(i/c)+(a.options.mode=="show"?0:(e-Math.floor(c/2))*(i/c)),opacity:a.options.mode=="show"?1:0},a.duration||500);}}setTimeout(function(){a.options.mode=="show"?b.css({visibility:"visible"}):b.css({visibility:"visible"}).hide();a.callback&&a.callback.apply(b[0]);b.dequeue();j("div.ui-effects-explode").remove();},a.duration||500);});};})(jQuery);(function(b){b.effects.fade=function(a){return this.queue(function(){var c=b(this),d=b.effects.setMode(c,a.options.mode||"hide");c.animate({opacity:d},{queue:false,duration:a.duration,easing:a.options.easing,complete:function(){a.callback&&a.callback.apply(this,arguments);c.dequeue();}});});};})(jQuery);(function(c){c.effects.fold=function(a){return this.queue(function(){var b=c(this),j=["position","top","left"],d=c.effects.setMode(b,a.options.mode||"hide"),g=a.options.size||15,h=!!a.options.horizFirst,k=a.duration?a.duration/2:c.fx.speeds._default/2;c.effects.save(b,j);b.show();var e=c.effects.createWrapper(b).css({overflow:"hidden"}),f=d=="show"!=h,l=f?["width","height"]:["height","width"];f=f?[e.width(),e.height()]:[e.height(),e.width()];var i=/([0-9]+)%/.exec(g);if(i){g=parseInt(i[1],10)/100*f[d=="hide"?0:1];}if(d=="show"){e.css(h?{height:0,width:g}:{height:g,width:0});}h={};i={};h[l[0]]=d=="show"?f[0]:g;i[l[1]]=d=="show"?f[1]:0;e.animate(h,k,a.options.easing).animate(i,k,a.options.easing,function(){d=="hide"&&b.hide();c.effects.restore(b,j);c.effects.removeWrapper(b);a.callback&&a.callback.apply(b[0],arguments);b.dequeue();});});};})(jQuery);(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide"){f.opacity=0;}b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue();}});});};})(jQuery);(function(d){d.effects.pulsate=function(a){return this.queue(function(){var b=d(this),c=d.effects.setMode(b,a.options.mode||"show");times=(a.options.times||5)*2-1;duration=a.duration?a.duration/2:d.fx.speeds._default/2;isVisible=b.is(":visible");animateTo=0;if(!isVisible){b.css("opacity",0).show();animateTo=1;}if(c=="hide"&&isVisible||c=="show"&&!isVisible){times--;}for(c=0;c<times;c++){b.animate({opacity:animateTo},duration,a.options.easing);animateTo=(animateTo+1)%2;}b.animate({opacity:animateTo},duration,a.options.easing,function(){animateTo==0&&b.hide();a.callback&&a.callback.apply(this,arguments);});b.queue("fx",function(){b.dequeue();}).dequeue();});};})(jQuery);(function(c){c.effects.puff=function(b){return this.queue(function(){var a=c(this),e=c.effects.setMode(a,b.options.mode||"hide"),g=parseInt(b.options.percent,10)||150,h=g/100,i={height:a.height(),width:a.width()};c.extend(b.options,{fade:true,mode:e,percent:e=="hide"?g:100,from:e=="hide"?i:{height:i.height*h,width:i.width*h}});a.effect("scale",b.options,b.duration,b.callback);a.dequeue();});};c.effects.scale=function(b){return this.queue(function(){var a=c(this),e=c.extend(true,{},b.options),g=c.effects.setMode(a,b.options.mode||"effect"),h=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:g=="hide"?0:100),i=b.options.direction||"both",f=b.options.origin;if(g!="effect"){e.origin=f||["middle","center"];e.restore=true;}f={height:a.height(),width:a.width()};a.from=b.options.from||(g=="show"?{height:0,width:0}:f);h={y:i!="horizontal"?h/100:1,x:i!="vertical"?h/100:1};a.to={height:f.height*h.y,width:f.width*h.x};if(b.options.fade){if(g=="show"){a.from.opacity=0;a.to.opacity=1;}if(g=="hide"){a.from.opacity=1;a.to.opacity=0;}}e.from=a.from;e.to=a.to;e.mode=g;a.effect("size",e,b.duration,b.callback);a.dequeue();});};c.effects.size=function(b){return this.queue(function(){var a=c(this),e=["position","top","left","width","height","overflow","opacity"],g=["position","top","left","overflow","opacity"],h=["width","height","overflow"],i=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=c.effects.setMode(a,b.options.mode||"effect"),n=b.options.restore||false,m=b.options.scale||"both",l=b.options.origin,j={height:a.height(),width:a.width()};a.from=b.options.from||j;a.to=b.options.to||j;if(l){l=c.effects.getBaseline(l,j);a.from.top=(j.height-a.from.height)*l.y;a.from.left=(j.width-a.from.width)*l.x;a.to.top=(j.height-a.to.height)*l.y;a.to.left=(j.width-a.to.width)*l.x;}var d={from:{y:a.from.height/j.height,x:a.from.width/j.width},to:{y:a.to.height/j.height,x:a.to.width/j.width}};if(m=="box"||m=="both"){if(d.from.y!=d.to.y){e=e.concat(f);a.from=c.effects.setTransition(a,f,d.from.y,a.from);a.to=c.effects.setTransition(a,f,d.to.y,a.to);}if(d.from.x!=d.to.x){e=e.concat(k);a.from=c.effects.setTransition(a,k,d.from.x,a.from);a.to=c.effects.setTransition(a,k,d.to.x,a.to);}}if(m=="content"||m=="both"){if(d.from.y!=d.to.y){e=e.concat(i);a.from=c.effects.setTransition(a,i,d.from.y,a.from);a.to=c.effects.setTransition(a,i,d.to.y,a.to);}}c.effects.save(a,n?e:g);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if(m=="content"||m=="both"){f=f.concat(["marginTop","marginBottom"]).concat(i);k=k.concat(["marginLeft","marginRight"]);h=e.concat(f).concat(k);a.find("*[width]").each(function(){child=c(this);n&&c.effects.save(child,h);var o={height:child.height(),width:child.width()};child.from={height:o.height*d.from.y,width:o.width*d.from.x};child.to={height:o.height*d.to.y,width:o.width*d.to.x};if(d.from.y!=d.to.y){child.from=c.effects.setTransition(child,f,d.from.y,child.from);child.to=c.effects.setTransition(child,f,d.to.y,child.to);}if(d.from.x!=d.to.x){child.from=c.effects.setTransition(child,k,d.from.x,child.from);child.to=c.effects.setTransition(child,k,d.to.x,child.to);}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){n&&c.effects.restore(child,h);});});}a.animate(a.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);p=="hide"&&a.hide();c.effects.restore(a,n?e:g);c.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments);a.dequeue();}});});};})(jQuery);(function(d){d.effects.shake=function(a){return this.queue(function(){var b=d(this),j=["position","top","left"];d.effects.setMode(b,a.options.mode||"effect");var c=a.options.direction||"left",e=a.options.distance||20,l=a.options.times||3,f=a.duration||a.options.duration||140;d.effects.save(b,j);b.show();d.effects.createWrapper(b);var g=c=="up"||c=="down"?"top":"left",h=c=="up"||c=="left"?"pos":"neg";c={};var i={},k={};c[g]=(h=="pos"?"-=":"+=")+e;i[g]=(h=="pos"?"+=":"-=")+e*2;k[g]=(h=="pos"?"-=":"+=")+e*2;b.animate(c,f,a.options.easing);for(e=1;e<l;e++){b.animate(i,f,a.options.easing).animate(k,f,a.options.easing);}b.animate(i,f,a.options.easing).animate(c,f/2,a.options.easing,function(){d.effects.restore(b,j);d.effects.removeWrapper(b);a.callback&&a.callback.apply(this,arguments);});b.queue("fx",function(){b.dequeue();});b.dequeue();});};})(jQuery);(function(c){c.effects.slide=function(d){return this.queue(function(){var a=c(this),h=["position","top","left"],f=c.effects.setMode(a,d.options.mode||"show"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var g=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var e=d.options.distance||(g=="top"?a.outerHeight({margin:true}):a.outerWidth({margin:true}));if(f=="show"){a.css(g,b=="pos"?isNaN(e)?"-"+e:-e:e);}var i={};i[g]=(f=="show"?b=="pos"?"+=":"-=":b=="pos"?"-=":"+=")+e;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){f=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue();}});});};})(jQuery);(function(e){e.effects.transfer=function(a){return this.queue(function(){var b=e(this),c=e(a.options.to),d=c.offset();c={top:d.top,left:d.left,height:c.innerHeight(),width:c.innerWidth()};d=b.offset();var f=e("<div class=\"ui-effects-transfer\"></div>").appendTo(document.body).addClass(a.options.className).css({top:d.top,left:d.left,height:b.innerHeight(),width:b.innerWidth(),position:"absolute"}).animate(c,a.duration,a.options.easing,function(){f.remove();a.callback&&a.callback.apply(b[0],arguments);b.dequeue();});});};})(jQuery);if(!this.JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z";};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_b36=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,_b38,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},rep;function quote(_b3b){_b36.lastIndex=0;return _b36.test(_b3b)?"\""+_b3b.replace(_b36,function(a){var c=meta[a];if(typeof c==="string"){return c;}return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+_b3b+"\"";}function str(key,_b3f){var i,k,v,_b43,mind=gap,_b45,_b46=_b3f[key];if(_b46&&typeof _b46==="object"&&typeof _b46.toJSON==="function"){_b46=_b46.toJSON(key);}if(typeof rep==="function"){_b46=rep.call(_b3f,key,_b46);}switch(typeof _b46){case "string":return quote(_b46);case "number":return isFinite(_b46)?String(_b46):"null";case "boolean":case "null":return String(_b46);case "object":if(!_b46){return "null";}gap+=_b38;_b45=[];if(typeof _b46.length==="number"&&!_b46.propertyIsEnumerable("length")){_b43=_b46.length;for(i=0;i<_b43;i+=1){_b45[i]=str(i,_b46)||"null";}v=_b45.length===0?"[]":gap?"[\n"+gap+_b45.join(",\n"+gap)+"\n"+mind+"]":"["+_b45.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){_b43=rep.length;for(i=0;i<_b43;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,_b46);if(v){_b45.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in _b46){if(Object.hasOwnProperty.call(_b46,k)){v=str(k,_b46);if(v){_b45.push(quote(k)+(gap?": ":":")+v);}}}}v=_b45.length===0?"{}":gap?"{\n"+gap+_b45.join(",\n"+gap)+"\n"+mind+"}":"{"+_b45.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(_b47,_b48,_b49){var i;gap="";_b38="";if(typeof _b49==="number"){for(i=0;i<_b49;i+=1){_b38+=" ";}}else{if(typeof _b49==="string"){_b38=_b49;}}rep=_b48;if(_b48&&typeof _b48!=="function"&&(typeof _b48!=="object"||typeof _b48.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":_b47});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,_b4c){var j;function walk(_b4e,key){var k,v,_b52=_b4e[key];if(_b52&&typeof _b52==="object"){for(k in _b52){if(Object.hasOwnProperty.call(_b52,k)){v=walk(_b52,k);if(v!==undefined){_b52[k]=v;}else{delete _b52[k];}}}}return _b4c.call(_b4e,key,_b52);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof _b4c==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}})();Calendar=function(_b54,_b55,_b56,_b57){this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=_b56||null;this.onClose=_b57||null;this.dragging=false;this.hidden=false;this.minYear=1970;this.maxYear=2050;this.dateFormat=Calendar._TT["DEF_DATE_FORMAT"];this.ttDateFormat=Calendar._TT["TT_DATE_FORMAT"];this.isPopup=true;this.weekNumbers=true;this.firstDayOfWeek=typeof _b54=="number"?_b54:Calendar._FD;this.showsOtherMonths=false;this.dateStr=_b55;this.ar_days=null;this.showsTime=false;this.time24=true;this.yearStep=2;this.hiliteToday=true;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.hilitedMonth=null;this.activeMonth=null;this.hilitedYear=null;this.activeYear=null;this.dateClicked=false;if(typeof Calendar._SDN=="undefined"){if(typeof Calendar._SDN_len=="undefined"){Calendar._SDN_len=3;}var ar=new Array();for(var i=8;i>0;){ar[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);}Calendar._SDN=ar;if(typeof Calendar._SMN_len=="undefined"){Calendar._SMN_len=3;}ar=new Array();for(var i=12;i>0;){ar[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);}Calendar._SMN=ar;}};Calendar._C=null;Calendar.is_ie=(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent));Calendar.is_ie5=(Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(el){var SL=0,ST=0;var _b5d=/^div$/i.test(el.tagName);if(_b5d&&el.scrollLeft){SL=el.scrollLeft;}if(_b5d&&el.scrollTop){ST=el.scrollTop;}var r={x:el.offsetLeft-SL,y:el.offsetTop-ST};if(el.offsetParent){var tmp=this.getAbsolutePos(el.offsetParent);r.x+=tmp.x;r.y+=tmp.y;}return r;};Calendar.isRelated=function(el,evt){var _b62=evt.relatedTarget;if(!_b62){var type=evt.type;if(type=="mouseover"){_b62=evt.fromElement;}else{if(type=="mouseout"){_b62=evt.toElement;}}}while(_b62){if(_b62==el){return true;}_b62=_b62.parentNode;}return false;};Calendar.removeClass=function(el,_b65){if(!(el&&el.className)){return;}var cls=el.className.split(" ");var ar=new Array();for(var i=cls.length;i>0;){if(cls[--i]!=_b65){ar[ar.length]=cls[i];}}el.className=ar.join(" ");};Calendar.addClass=function(el,_b6a){Calendar.removeClass(el,_b6a);el.className+=" "+_b6a;};Calendar.getElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.currentTarget;while(f.nodeType!=1||/^div$/i.test(f.tagName)){f=f.parentNode;}return f;};Calendar.getTargetElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.target;while(f.nodeType!=1){f=f.parentNode;}return f;};Calendar.stopEvent=function(ev){ev||(ev=window.event);if(Calendar.is_ie){ev.cancelBubble=true;ev.returnValue=false;}else{ev.preventDefault();ev.stopPropagation();}return false;};Calendar.addEvent=function(el,_b71,func){if(el.attachEvent){el.attachEvent("on"+_b71,func);}else{if(el.addEventListener){el.addEventListener(_b71,func,true);}else{el["on"+_b71]=func;}}};Calendar.removeEvent=function(el,_b74,func){if(el.detachEvent){el.detachEvent("on"+_b74,func);}else{if(el.removeEventListener){el.removeEventListener(_b74,func,true);}else{el["on"+_b74]=null;}}};Calendar.createElement=function(type,_b77){var el=null;if(document.createElementNS){el=document.createElementNS("http://www.w3.org/1999/xhtml",type);}else{el=document.createElement(type);}if(typeof _b77!="undefined"){_b77.appendChild(el);}return el;};Calendar._add_evs=function(el){with(Calendar){addEvent(el,"mouseover",dayMouseOver);addEvent(el,"mousedown",dayMouseDown);addEvent(el,"mouseout",dayMouseOut);if(is_ie){addEvent(el,"dblclick",dayMouseDblClick);el.setAttribute("unselectable",true);}}};Calendar.findMonth=function(el){if(typeof el.month!="undefined"){return el;}else{if(typeof el.parentNode.month!="undefined"){return el.parentNode;}}return null;};Calendar.findYear=function(el){if(typeof el.year!="undefined"){return el;}else{if(typeof el.parentNode.year!="undefined"){return el.parentNode;}}return null;};Calendar.showMonthsCombo=function(){var cal=Calendar._C;if(!cal){return false;}var cal=cal;var cd=cal.activeDiv;var mc=cal.monthsCombo;if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,"hilite");}if(cal.activeMonth){Calendar.removeClass(cal.activeMonth,"active");}var mon=cal.monthsCombo.getElementsByTagName("div")[cal.date.getMonth()];Calendar.addClass(mon,"active");cal.activeMonth=mon;var s=mc.style;s.display="block";if(cd.navtype<0){s.left=cd.offsetLeft+"px";}else{var mcw=mc.offsetWidth;if(typeof mcw=="undefined"){mcw=50;}s.left=(cd.offsetLeft+cd.offsetWidth-mcw)+"px";}s.top=(cd.offsetTop+cd.offsetHeight)+"px";};Calendar.showYearsCombo=function(fwd){var cal=Calendar._C;if(!cal){return false;}var cal=cal;var cd=cal.activeDiv;var yc=cal.yearsCombo;if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,"hilite");}if(cal.activeYear){Calendar.removeClass(cal.activeYear,"active");}cal.activeYear=null;var Y=cal.date.getFullYear()+(fwd?1:-1);var yr=yc.firstChild;var show=false;for(var i=12;i>0;--i){if(Y>=cal.minYear&&Y<=cal.maxYear){yr.innerHTML=Y;yr.year=Y;yr.style.display="block";show=true;}else{yr.style.display="none";}yr=yr.nextSibling;Y+=fwd?cal.yearStep:-cal.yearStep;}if(show){var s=yc.style;s.display="block";if(cd.navtype<0){s.left=cd.offsetLeft+"px";}else{var ycw=yc.offsetWidth;if(typeof ycw=="undefined"){ycw=50;}s.left=(cd.offsetLeft+cd.offsetWidth-ycw)+"px";}s.top=(cd.offsetTop+cd.offsetHeight)+"px";}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false;}if(cal.timeout){clearTimeout(cal.timeout);}var el=cal.activeDiv;if(!el){return false;}var _b8f=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,"active");if(_b8f==el||_b8f.parentNode==el){Calendar.cellClick(el,ev);}var mon=Calendar.findMonth(_b8f);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler();}}else{var year=Calendar.findYear(_b8f);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler();}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev);}};Calendar.tableMouseOver=function(ev){var cal=Calendar._C;if(!cal){return;}var el=cal.activeDiv;var _b96=Calendar.getTargetElement(ev);if(_b96==el||_b96.parentNode==el){Calendar.addClass(el,"hilite active");Calendar.addClass(el.parentNode,"rowhilite");}else{if(typeof el.navtype=="undefined"||(el.navtype!=50&&(el.navtype==0||Math.abs(el.navtype)>2))){Calendar.removeClass(el,"active");}Calendar.removeClass(el,"hilite");Calendar.removeClass(el.parentNode,"rowhilite");}ev||(ev=window.event);if(el.navtype==50&&_b96!=el){var pos=Calendar.getAbsolutePos(el);var w=el.offsetWidth;var x=ev.clientX;var dx;var _b9b=true;if(x>pos.x+w){dx=x-pos.x-w;_b9b=false;}else{dx=pos.x-x;}if(dx<0){dx=0;}var _b9c=el._range;var _b9d=el._current;var _b9e=Math.floor(dx/10)%_b9c.length;for(var i=_b9c.length;--i>=0;){if(_b9c[i]==_b9d){break;}}while(_b9e-->0){if(_b9b){if(--i<0){i=_b9c.length-1;}}else{if(++i>=_b9c.length){i=0;}}}var _ba0=_b9c[i];el.innerHTML=_ba0;cal.onUpdateTime();}var mon=Calendar.findMonth(_b96);if(mon){if(mon.month!=cal.date.getMonth()){if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,"hilite");}Calendar.addClass(mon,"hilite");cal.hilitedMonth=mon;}else{if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,"hilite");}}}else{if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,"hilite");}var year=Calendar.findYear(_b96);if(year){if(year.year!=cal.date.getFullYear()){if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,"hilite");}Calendar.addClass(year,"hilite");cal.hilitedYear=year;}else{if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,"hilite");}}}else{if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,"hilite");}}}return Calendar.stopEvent(ev);};Calendar.tableMouseDown=function(ev){if(Calendar.getTargetElement(ev)==Calendar.getElement(ev)){return Calendar.stopEvent(ev);}};Calendar.calDragIt=function(ev){var cal=Calendar._C;if(!(cal&&cal.dragging)){return false;}var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft;}else{posX=ev.pageX;posY=ev.pageY;}cal.hideShowCovered();var st=cal.element.style;st.left=(posX-cal.xOffs)+"px";st.top=(posY-cal.yOffs)+"px";return Calendar.stopEvent(ev);};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false;}cal.dragging=false;with(Calendar){removeEvent(document,"mousemove",calDragIt);removeEvent(document,"mouseup",calDragEnd);tableMouseUp(ev);}cal.hideShowCovered();};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false;}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300){with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver);}else{addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver);}addClass(el,"hilite active");addEvent(document,"mouseup",tableMouseUp);}}else{if(cal.isPopup){cal._dragStart(ev);}}if(el.navtype==-1||el.navtype==1){if(cal.timeout){clearTimeout(cal.timeout);}cal.timeout=setTimeout("Calendar.showMonthsCombo()",250);}else{if(el.navtype==-2||el.navtype==2){if(cal.timeout){clearTimeout(cal.timeout);}cal.timeout=setTimeout((el.navtype>0)?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250);}else{cal.timeout=null;}}return Calendar.stopEvent(ev);};Calendar.dayMouseDblClick=function(ev){Calendar.cellClick(Calendar.getElement(ev),ev||window.event);if(Calendar.is_ie){document.selection.empty();}};Calendar.dayMouseOver=function(ev){var el=Calendar.getElement(ev);if(Calendar.isRelated(el,ev)||Calendar._C||el.disabled){return false;}if(el.ttip){if(el.ttip.substr(0,1)=="_"){el.ttip=el.caldate.print(el.calendar.ttDateFormat)+el.ttip.substr(1);}el.calendar.tooltips.innerHTML=el.ttip;}if(el.navtype!=300){Calendar.addClass(el,"hilite");if(el.caldate){Calendar.addClass(el.parentNode,"rowhilite");}}return Calendar.stopEvent(ev);};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled){return false;}removeClass(el,"hilite");if(el.caldate){removeClass(el.parentNode,"rowhilite");}if(el.calendar){el.calendar.tooltips.innerHTML=_TT["SEL_DATE"];}return stopEvent(ev);}};Calendar.cellClick=function(el,ev){var cal=el.calendar;var _bb6=false;var _bb7=false;var date=null;if(typeof el.navtype=="undefined"){if(cal.currentDateEl){Calendar.removeClass(cal.currentDateEl,"selected");Calendar.addClass(el,"selected");_bb6=(cal.currentDateEl==el);if(!_bb6){cal.currentDateEl=el;}}cal.date.setDateOnly(el.caldate);date=cal.date;var _bb9=!(cal.dateClicked=!el.otherMonth);if(!_bb9&&!cal.currentDateEl){cal._toggleMultipleDate(new Date(date));}else{_bb7=!el.disabled;}if(_bb9){cal._init(cal.firstDayOfWeek,date);}}else{if(el.navtype==200){Calendar.removeClass(el,"hilite");cal.callCloseHandler();return;}date=new Date(cal.date);if(el.navtype==0){date.setDateOnly(new Date());}cal.dateClicked=false;var year=date.getFullYear();var mon=date.getMonth();function setMonth(m){var day=date.getDate();var max=date.getMonthDays(m);if(day>max){date.setDate(max);}date.setMonth(m);}switch(el.navtype){case 400:Calendar.removeClass(el,"hilite");var text=Calendar._TT["ABOUT"];if(typeof text!="undefined"){text+=cal.showsTime?Calendar._TT["ABOUT_TIME"]:"";}else{text="Help and about box text is not translated into this language.\n"+"If you know this language and you feel generous please update\n"+"the corresponding file in \"lang\" subdir to match calendar-en.js\n"+"and send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\n"+"Thank you!\n"+"http://dynarch.com/mishoo/calendar.epl\n";}alert(text);return;case -2:if(year>cal.minYear){date.setFullYear(year-1);}break;case -1:if(mon>0){setMonth(mon-1);}else{if(year-->cal.minYear){date.setFullYear(year);setMonth(11);}}break;case 1:if(mon<11){setMonth(mon+1);}else{if(year<cal.maxYear){date.setFullYear(year+1);setMonth(0);}}break;case 2:if(year<cal.maxYear){date.setFullYear(year+1);}break;case 100:cal.setFirstDayOfWeek(el.fdow);return;case 50:var _bc0=el._range;var _bc1=el.innerHTML;for(var i=_bc0.length;--i>=0;){if(_bc0[i]==_bc1){break;}}if(ev&&ev.shiftKey){if(--i<0){i=_bc0.length-1;}}else{if(++i>=_bc0.length){i=0;}}var _bc3=_bc0[i];el.innerHTML=_bc3;cal.onUpdateTime();return;case 0:if((typeof cal.getDateStatus=="function")&&cal.getDateStatus(date,date.getFullYear(),date.getMonth(),date.getDate())){return false;}break;}if(!date.equalsTo(cal.date)){cal.setDate(date);_bb7=true;}else{if(el.navtype==0){_bb7=_bb6=true;}}}if(_bb7){ev&&cal.callHandler();}if(_bb6){Calendar.removeClass(el,"hilite");ev&&cal.callCloseHandler();}};Calendar.prototype.create=function(_par){var _bc5=null;if(!_par){_bc5=document.getElementsByTagName("body")[0];this.isPopup=true;}else{_bc5=_par;this.isPopup=false;}this.date=this.dateStr?new Date(this.dateStr):new Date();var _bc6=Calendar.createElement("table");this.table=_bc6;_bc6.cellSpacing=0;_bc6.cellPadding=0;_bc6.calendar=this;Calendar.addEvent(_bc6,"mousedown",Calendar.tableMouseDown);var div=Calendar.createElement("div");this.element=div;div.className="calendar";if(this.isPopup){div.style.position="absolute";div.style.display="none";}div.appendChild(_bc6);var _bc8=Calendar.createElement("thead",_bc6);var cell=null;var row=null;var cal=this;var hh=function(text,cs,_bcf){cell=Calendar.createElement("td",row);cell.colSpan=cs;cell.className="button nav";if(_bcf!=0&&Math.abs(_bcf)<=2){cell.className+=" nav";}Calendar._add_evs(cell);cell.calendar=cal;cell.navtype=_bcf;cell.innerHTML="<div unselectable='on'>"+text+"</div>";return cell;};row=Calendar.createElement("tr",_bc8);var _bd0=6;(this.isPopup)&&--_bd0;(this.weekNumbers)&&++_bd0;hh("?",1,400).ttip=Calendar._TT["INFO"];this.title=hh("",_bd0,300);this.title.className="title";if(this.isPopup){this.title.ttip=Calendar._TT["DRAG_TO_MOVE"];this.title.style.cursor="move";hh("&#x00d7;",1,200).ttip=Calendar._TT["CLOSE"];}row=Calendar.createElement("tr",_bc8);row.className="headrow";this._nav_py=hh("&#x00ab;",1,-2);this._nav_py.ttip=Calendar._TT["PREV_YEAR"];this._nav_pm=hh("&#x2039;",1,-1);this._nav_pm.ttip=Calendar._TT["PREV_MONTH"];this._nav_now=hh(Calendar._TT["TODAY"],this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT["GO_TODAY"];this._nav_nm=hh("&#x203a;",1,1);this._nav_nm.ttip=Calendar._TT["NEXT_MONTH"];this._nav_ny=hh("&#x00bb;",1,2);this._nav_ny.ttip=Calendar._TT["NEXT_YEAR"];row=Calendar.createElement("tr",_bc8);row.className="daynames";if(this.weekNumbers){cell=Calendar.createElement("td",row);cell.className="name wn";cell.innerHTML=Calendar._TT["WK"];}for(var i=7;i>0;--i){cell=Calendar.createElement("td",row);if(!i){cell.navtype=100;cell.calendar=this;Calendar._add_evs(cell);}}this.firstdayname=(this.weekNumbers)?row.firstChild.nextSibling:row.firstChild;this._displayWeekdays();var _bd2=Calendar.createElement("tbody",_bc6);this.tbody=_bd2;for(i=6;i>0;--i){row=Calendar.createElement("tr",_bd2);if(this.weekNumbers){cell=Calendar.createElement("td",row);}for(var j=7;j>0;--j){cell=Calendar.createElement("td",row);cell.calendar=this;Calendar._add_evs(cell);}}if(this.showsTime){row=Calendar.createElement("tr",_bd2);row.className="time";cell=Calendar.createElement("td",row);cell.className="time";cell.colSpan=2;cell.innerHTML=Calendar._TT["TIME"]||"&nbsp;";cell=Calendar.createElement("td",row);cell.className="time";cell.colSpan=this.weekNumbers?4:3;(function(){function makeTimePart(_bd4,init,_bd6,_bd7){var part=Calendar.createElement("span",cell);part.className=_bd4;part.innerHTML=init;part.calendar=cal;part.ttip=Calendar._TT["TIME_PART"];part.navtype=50;part._range=[];if(typeof _bd6!="number"){part._range=_bd6;}else{for(var i=_bd6;i<=_bd7;++i){var txt;if(i<10&&_bd7>=10){txt="0"+i;}else{txt=""+i;}part._range[part._range.length]=txt;}}Calendar._add_evs(part);return part;}var hrs=cal.date.getHours();var mins=cal.date.getMinutes();var t12=!cal.time24;var pm=(hrs>12);if(t12&&pm){hrs-=12;}var H=makeTimePart("hour",hrs,t12?1:0,t12?12:23);var span=Calendar.createElement("span",cell);span.innerHTML=":";span.className="colon";var M=makeTimePart("minute",mins,0,59);var AP=null;cell=Calendar.createElement("td",row);cell.className="time";cell.colSpan=2;if(t12){AP=makeTimePart("ampm",pm?"pm":"am",["am","pm"]);}else{cell.innerHTML="&nbsp;";}cal.onSetTime=function(){var pm,hrs=this.date.getHours(),mins=this.date.getMinutes();if(t12){pm=(hrs>=12);if(pm){hrs-=12;}if(hrs==0){hrs=12;}AP.innerHTML=pm?"pm":"am";}H.innerHTML=(hrs<10)?("0"+hrs):hrs;M.innerHTML=(mins<10)?("0"+mins):mins;};cal.onUpdateTime=function(){var date=this.date;var h=parseInt(H.innerHTML,10);if(t12){if(/pm/i.test(AP.innerHTML)&&h<12){h+=12;}else{if(/am/i.test(AP.innerHTML)&&h==12){h=0;}}}var d=date.getDate();var m=date.getMonth();var y=date.getFullYear();date.setHours(h);date.setMinutes(parseInt(M.innerHTML,10));date.setFullYear(y);date.setMonth(m);date.setDate(d);this.dateClicked=false;this.callHandler();};})();}else{this.onSetTime=this.onUpdateTime=function(){};}var _be9=Calendar.createElement("tfoot",_bc6);row=Calendar.createElement("tr",_be9);row.className="footrow";cell=hh(Calendar._TT["SEL_DATE"],this.weekNumbers?8:7,300);cell.className="ttip";if(this.isPopup){cell.ttip=Calendar._TT["DRAG_TO_MOVE"];cell.style.cursor="move";}this.tooltips=cell;div=Calendar.createElement("div",this.element);this.monthsCombo=div;div.className="combo";for(i=0;i<Calendar._MN.length;++i){var mn=Calendar.createElement("div");mn.className=Calendar.is_ie?"label-IEfix":"label";mn.month=i;mn.innerHTML=Calendar._SMN[i];div.appendChild(mn);}div=Calendar.createElement("div",this.element);this.yearsCombo=div;div.className="combo";for(i=12;i>0;--i){var yr=Calendar.createElement("div");yr.className=Calendar.is_ie?"label-IEfix":"label";div.appendChild(yr);}this._init(this.firstDayOfWeek,this.date);_bc5.appendChild(this.element);};Calendar._keyEvent=function(ev){var cal=window._dynarch_popupCalendar;if(!cal||cal.multiple){return false;}(Calendar.is_ie)&&(ev=window.event);var act=(Calendar.is_ie||ev.type=="keypress"),K=ev.keyCode;if(ev.ctrlKey){switch(K){case 37:act&&Calendar.cellClick(cal._nav_pm);break;case 38:act&&Calendar.cellClick(cal._nav_py);break;case 39:act&&Calendar.cellClick(cal._nav_nm);break;case 40:act&&Calendar.cellClick(cal._nav_ny);break;default:return false;}}else{switch(K){case 32:Calendar.cellClick(cal._nav_now);break;case 27:act&&cal.callCloseHandler();break;case 37:case 38:case 39:case 40:if(act){var prev,x,y,ne,el,step;prev=K==37||K==38;step=(K==37||K==39)?1:7;function setVars(){el=cal.currentDateEl;var p=el.pos;x=p&15;y=p>>4;ne=cal.ar_days[y][x];}setVars();function prevMonth(){var date=new Date(cal.date);date.setDate(date.getDate()-step);cal.setDate(date);}function nextMonth(){var date=new Date(cal.date);date.setDate(date.getDate()+step);cal.setDate(date);}while(1){switch(K){case 37:if(--x>=0){ne=cal.ar_days[y][x];}else{x=6;K=38;continue;}break;case 38:if(--y>=0){ne=cal.ar_days[y][x];}else{prevMonth();setVars();}break;case 39:if(++x<7){ne=cal.ar_days[y][x];}else{x=0;K=40;continue;}break;case 40:if(++y<cal.ar_days.length){ne=cal.ar_days[y][x];}else{nextMonth();setVars();}break;}break;}if(ne){if(!ne.disabled){Calendar.cellClick(ne);}else{if(prev){prevMonth();}else{nextMonth();}}}}break;case 13:if(act){Calendar.cellClick(cal.currentDateEl,ev);}break;default:return false;}}return Calendar.stopEvent(ev);};Calendar.prototype._init=function(_bf9,date){var _bfb=new Date(),TY=_bfb.getFullYear(),TM=_bfb.getMonth(),TD=_bfb.getDate();this.table.style.visibility="hidden";var year=date.getFullYear();if(year<this.minYear){year=this.minYear;date.setFullYear(year);}else{if(year>this.maxYear){year=this.maxYear;date.setFullYear(year);}}this.firstDayOfWeek=_bf9;this.date=new Date(date);var _c00=date.getMonth();var mday=date.getDate();var _c02=date.getMonthDays();date.setDate(1);var day1=(date.getDay()-this.firstDayOfWeek)%7;if(day1<0){day1+=7;}date.setDate(-day1);date.setDate(date.getDate()+1);var row=this.tbody.firstChild;var MN=Calendar._SMN[_c00];var _c06=this.ar_days=new Array();var _c07=Calendar._TT["WEEKEND"];var _c08=this.multiple?(this.datesCells={}):null;for(var i=0;i<6;++i,row=row.nextSibling){var cell=row.firstChild;if(this.weekNumbers){cell.className="day wn";cell.innerHTML=date.getWeekNumber();cell=cell.nextSibling;}row.className="daysrow";var _c0b=false,iday,dpos=_c06[i]=[];for(var j=0;j<7;++j,cell=cell.nextSibling,date.setDate(iday+1)){iday=date.getDate();var wday=date.getDay();cell.className="day";cell.pos=i<<4|j;dpos[j]=cell;var _c10=(date.getMonth()==_c00);if(!_c10){if(this.showsOtherMonths){cell.className+=" othermonth";cell.otherMonth=true;}else{cell.className="emptycell";cell.innerHTML="&nbsp;";cell.disabled=true;continue;}}else{cell.otherMonth=false;_c0b=true;}cell.disabled=false;cell.innerHTML=this.getDateText?this.getDateText(date,iday):iday;if(_c08){_c08[date.print("%Y%m%d")]=cell;}if(this.getDateStatus){var _c11=this.getDateStatus(date,year,_c00,iday);if(this.getDateToolTip){var _c12=this.getDateToolTip(date,year,_c00,iday);if(_c12){cell.title=_c12;}}if(_c11===true){cell.className+=" disabled";cell.disabled=true;}else{if(/disabled/i.test(_c11)){cell.disabled=true;}cell.className+=" "+_c11;}}if(!cell.disabled){cell.caldate=new Date(date);cell.ttip="_";if(!this.multiple&&_c10&&iday==mday&&this.hiliteToday){cell.className+=" selected";this.currentDateEl=cell;}if(date.getFullYear()==TY&&date.getMonth()==TM&&iday==TD){cell.className+=" today";cell.ttip+=Calendar._TT["PART_TODAY"];}if(_c07.indexOf(wday.toString())!=-1){cell.className+=cell.otherMonth?" oweekend":" weekend";}}}if(!(_c0b||this.showsOtherMonths)){row.className="emptyrow";}}this.title.innerHTML=Calendar._MN[_c00]+", "+year;this.onSetTime();this.table.style.visibility="visible";this._initMultipleDates();};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var i in this.multiple){var cell=this.datesCells[i];var d=this.multiple[i];if(!d){continue;}if(cell){cell.className+=" selected";}}}};Calendar.prototype._toggleMultipleDate=function(date){if(this.multiple){var ds=date.print("%Y%m%d");var cell=this.datesCells[ds];if(cell){var d=this.multiple[ds];if(!d){Calendar.addClass(cell,"selected");this.multiple[ds]=date;}else{Calendar.removeClass(cell,"selected");delete this.multiple[ds];}}}};Calendar.prototype.setDateToolTipHandler=function(_c1a){this.getDateToolTip=_c1a;};Calendar.prototype.setDate=function(date){if(!date.equalsTo(this.date)){this._init(this.firstDayOfWeek,date);}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date);};Calendar.prototype.setFirstDayOfWeek=function(_c1c){this._init(_c1c,this.date);this._displayWeekdays();};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(_c1d){this.getDateStatus=_c1d;};Calendar.prototype.setRange=function(a,z){this.minYear=a;this.maxYear=z;};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat));}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this);}this.hideShowCovered();};Calendar.prototype.destroy=function(){var el=this.element.parentNode;el.removeChild(this.element);Calendar._C=null;window._dynarch_popupCalendar=null;};Calendar.prototype.reparent=function(_c21){var el=this.element;el.parentNode.removeChild(el);_c21.appendChild(el);};Calendar._checkCalendar=function(ev){var _c24=window._dynarch_popupCalendar;if(!_c24){return false;}var el=Calendar.is_ie?Calendar.getElement(ev):Calendar.getTargetElement(ev);for(;el!=null&&el!=_c24.element;el=el.parentNode){}if(el==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(ev);}};Calendar.prototype.show=function(){var rows=this.table.getElementsByTagName("tr");for(var i=rows.length;i>0;){var row=rows[--i];Calendar.removeClass(row,"rowhilite");var _c29=row.getElementsByTagName("td");for(var j=_c29.length;j>0;){var cell=_c29[--j];Calendar.removeClass(cell,"hilite");Calendar.removeClass(cell,"active");}}this.element.style.display="block";this.hidden=false;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"keypress",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar);}this.hideShowCovered();};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"keypress",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar);}this.element.style.display="none";this.hidden=true;this.hideShowCovered();};Calendar.prototype.showAt=function(x,y){var s=this.element.style;s.left=x+"px";s.top=y+"px";this.show();};Calendar.prototype.showAtElement=function(el,opts){var self=this;var p=Calendar.getAbsolutePos(el);if(!opts||typeof opts!="string"){this.showAt(p.x,p.y+el.offsetHeight);return true;}function fixPosition(box){if(box.x<0){box.x=0;}if(box.y<0){box.y=0;}var cp=document.createElement("div");var s=cp.style;s.position="absolute";s.right=s.bottom=s.width=s.height="0px";document.body.appendChild(cp);var br=Calendar.getAbsolutePos(cp);document.body.removeChild(cp);if(Calendar.is_ie){br.y+=document.documentElement.scrollTop;br.x+=document.documentElement.scrollLeft;}else{br.y+=window.scrollY;br.x+=window.scrollX;}var tmp=box.x+box.width-br.x;if(tmp>0){box.x-=tmp;}tmp=box.y+box.height-br.y;if(tmp>0){box.y-=tmp;}}this.element.style.display="block";Calendar.continuation_for_the_fucking_khtml_browser=function(){var w=self.element.offsetWidth;var h=self.element.offsetHeight;self.element.style.display="none";var _c3a=opts.substr(0,1);var _c3b="l";if(opts.length>1){_c3b=opts.substr(1,1);}switch(_c3a){case "T":p.y-=h;break;case "B":p.y+=el.offsetHeight;break;case "C":p.y+=(el.offsetHeight-h)/2;break;case "t":p.y+=el.offsetHeight-h;break;case "b":break;}switch(_c3b){case "L":p.x-=w;break;case "R":p.x+=el.offsetWidth;break;case "C":p.x+=(el.offsetWidth-w)/2;break;case "l":p.x+=el.offsetWidth-w;break;case "r":break;}p.width=w;p.height=h+40;self.monthsCombo.style.display="none";fixPosition(p);self.showAt(p.x,p.y);};if(Calendar.is_khtml){setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10);}else{Calendar.continuation_for_the_fucking_khtml_browser();}};Calendar.prototype.setDateFormat=function(str){this.dateFormat=str;};Calendar.prototype.setTtDateFormat=function(str){this.ttDateFormat=str;};Calendar.prototype.parseDate=function(str,fmt){if(!fmt){fmt=this.dateFormat;}this.setDate(Date.parseDate(str,fmt));};Calendar.prototype.hideShowCovered=function(){if(!Calendar.is_ie&&!Calendar.is_opera){return;}function getVisib(obj){var _c41=obj.style.visibility;if(!_c41){if(document.defaultView&&typeof (document.defaultView.getComputedStyle)=="function"){if(!Calendar.is_khtml){_c41=document.defaultView.getComputedStyle(obj,"").getPropertyValue("visibility");}else{_c41="";}}else{if(obj.currentStyle){_c41=obj.currentStyle.visibility;}else{_c41="";}}}return _c41;}var tags=new Array("applet","iframe","select");var el=this.element;var p=Calendar.getAbsolutePos(el);var EX1=p.x;var EX2=el.offsetWidth+EX1;var EY1=p.y;var EY2=el.offsetHeight+EY1;for(var k=tags.length;k>0;){var ar=document.getElementsByTagName(tags[--k]);var cc=null;for(var i=ar.length;i>0;){cc=ar[--i];p=Calendar.getAbsolutePos(cc);var CX1=p.x;var CX2=cc.offsetWidth+CX1;var CY1=p.y;var CY2=cc.offsetHeight+CY1;if(this.hidden||(CX1>EX2)||(CX2<EX1)||(CY1>EY2)||(CY2<EY1)){if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}cc.style.visibility=cc.__msh_save_visibility;}else{if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}cc.style.visibility="hidden";}}}};Calendar.prototype._displayWeekdays=function(){var fdow=this.firstDayOfWeek;var cell=this.firstdayname;var _c53=Calendar._TT["WEEKEND"];for(var i=0;i<7;++i){cell.className="day name";var _c55=(i+fdow)%7;if(i){cell.ttip=Calendar._TT["DAY_FIRST"].replace("%s",Calendar._DN[_c55]);cell.navtype=100;cell.calendar=this;cell.fdow=_c55;Calendar._add_evs(cell);}if(_c53.indexOf(_c55.toString())!=-1){Calendar.addClass(cell,"weekend");}cell.innerHTML=Calendar._SDN[(i+fdow)%7];cell=cell.nextSibling;}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none";};Calendar.prototype._dragStart=function(ev){if(this.dragging){return;}this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft;}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX;}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,"mousemove",calDragIt);addEvent(document,"mouseup",calDragEnd);}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(str,fmt){var _c5c=new Date();var y=0;var m=-1;var d=0;var a=str.split(/\W+/);var b=fmt.match(/%./g);var i=0,j=0;var hr=0;var min=0;for(i=0;i<a.length;++i){if(!a[i]){continue;}switch(b[i]){case "%d":case "%e":d=parseInt(a[i],10);break;case "%m":m=parseInt(a[i],10)-1;break;case "%Y":case "%y":y=parseInt(a[i],10);(y<100)&&(y+=(y>29)?1900:2000);break;case "%b":case "%B":for(j=0;j<12;++j){if(Calendar._MN[j].substr(0,a[i].length).toLowerCase()==a[i].toLowerCase()){m=j;break;}}break;case "%H":case "%I":case "%k":case "%l":hr=parseInt(a[i],10);break;case "%P":case "%p":if(/pm/i.test(a[i])&&hr<12){hr+=12;}else{if(/am/i.test(a[i])&&hr>=12){hr-=12;}}break;case "%M":min=parseInt(a[i],10);break;}}if(isNaN(y)){y=_c5c.getFullYear();}if(isNaN(m)){m=_c5c.getMonth();}if(isNaN(d)){d=_c5c.getDate();}if(isNaN(hr)){hr=_c5c.getHours();}if(isNaN(min)){min=_c5c.getMinutes();}if(y!=0&&m!=-1&&d!=0){return new Date(y,m,d,hr,min,0);}y=0;m=-1;d=0;for(i=0;i<a.length;++i){if(a[i].search(/[a-zA-Z]+/)!=-1){var t=-1;for(j=0;j<12;++j){if(Calendar._MN[j].substr(0,a[i].length).toLowerCase()==a[i].toLowerCase()){t=j;break;}}if(t!=-1){if(m!=-1){d=m+1;}m=t;}}else{if(parseInt(a[i],10)<=12&&m==-1){m=a[i]-1;}else{if(parseInt(a[i],10)>31&&y==0){y=parseInt(a[i],10);(y<100)&&(y+=(y>29)?1900:2000);}else{if(d==0){d=a[i];}}}}}if(y==0){y=_c5c.getFullYear();}if(m!=-1&&d!=0){return new Date(y,m,d,hr,min,0);}return _c5c;};Date.prototype.getMonthDays=function(_c67){var year=this.getFullYear();if(typeof _c67=="undefined"){_c67=this.getMonth();}if(((0==(year%4))&&((0!=(year%100))||(0==(year%400))))&&_c67==1){return 29;}else{return Date._MD[_c67];}};Date.prototype.getDayOfYear=function(){var now=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var then=new Date(this.getFullYear(),0,0,0,0,0);var time=now-then;return Math.floor(time/Date.DAY);};Date.prototype.getWeekNumber=function(){var d=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var DoW=d.getDay();d.setDate(d.getDate()-(DoW+6)%7+3);var ms=d.valueOf();d.setMonth(0);d.setDate(4);return Math.round((ms-d.valueOf())/(7*86400000))+1;};Date.prototype.equalsTo=function(date){return ((this.getFullYear()==date.getFullYear())&&(this.getMonth()==date.getMonth())&&(this.getDate()==date.getDate())&&(this.getHours()==date.getHours())&&(this.getMinutes()==date.getMinutes()));};Date.prototype.setDateOnly=function(date){var tmp=new Date(date);this.setDate(1);this.setFullYear(tmp.getFullYear());this.setMonth(tmp.getMonth());this.setDate(tmp.getDate());};Date.prototype.print=function(str){var m=this.getMonth();var d=this.getDate();var y=this.getFullYear();var wn=this.getWeekNumber();var w=this.getDay();var s={};var hr=this.getHours();var pm=(hr>=12);var ir=(pm)?(hr-12):hr;var dy=this.getDayOfYear();if(ir==0){ir=12;}var min=this.getMinutes();var sec=this.getSeconds();s["%a"]=Calendar._SDN[w];s["%A"]=Calendar._DN[w];s["%b"]=Calendar._SMN[m];s["%B"]=Calendar._MN[m];s["%C"]=1+Math.floor(y/100);s["%d"]=(d<10)?("0"+d):d;s["%e"]=d;s["%H"]=(hr<10)?("0"+hr):hr;s["%I"]=(ir<10)?("0"+ir):ir;s["%j"]=(dy<100)?((dy<10)?("00"+dy):("0"+dy)):dy;s["%k"]=hr;s["%l"]=ir;s["%m"]=(m<9)?("0"+(1+m)):(1+m);s["%M"]=(min<10)?("0"+min):min;s["%n"]="\n";s["%p"]=pm?"PM":"AM";s["%P"]=pm?"pm":"am";s["%s"]=Math.floor(this.getTime()/1000);s["%S"]=(sec<10)?("0"+sec):sec;s["%t"]="\t";s["%U"]=s["%W"]=s["%V"]=(wn<10)?("0"+wn):wn;s["%u"]=w+1;s["%w"]=w;s["%y"]=(""+y).substr(2,2);s["%Y"]=y;s["%%"]="%";var re=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml){return str.replace(re,function(par){return s[par]||par;});}var a=str.match(re);for(var i=0;i<a.length;i++){var tmp=s[a[i]];if(tmp){re=new RegExp(a[i],"g");str=str.replace(re,tmp);}}return str;};if(!Date.prototype.__msh_oldSetFullYear){Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(y){var d=new Date(this);d.__msh_oldSetFullYear(y);if(d.getMonth()!=this.getMonth()){this.setDate(28);}this.__msh_oldSetFullYear(y);};}window._dynarch_popupCalendar=null;Calendar.setup=function(_c86){function param_default(_c87,def){if(typeof _c86[_c87]=="undefined"){_c86[_c87]=def;}}param_default("inputField",null);param_default("displayArea",null);param_default("button",null);param_default("eventName","click");param_default("ifFormat","%Y/%m/%d");param_default("daFormat","%Y/%m/%d");param_default("singleClick",true);param_default("disableFunc",null);param_default("dateStatusFunc",_c86["disableFunc"]);param_default("dateText",null);param_default("firstDay",null);param_default("align","Br");param_default("range",[1900,2999]);param_default("weekNumbers",true);param_default("flat",null);param_default("flatCallback",null);param_default("onSelect",null);param_default("onClose",null);param_default("onUpdate",null);param_default("date",null);param_default("showsTime",false);param_default("timeFormat","24");param_default("electric",true);param_default("step",2);param_default("position",null);param_default("cache",false);param_default("showOthers",false);param_default("multiple",null);var tmp=["inputField","displayArea","button"];for(var i in tmp){if(typeof _c86[tmp[i]]=="string"){_c86[tmp[i]]=document.getElementById(_c86[tmp[i]]);}}if(!(_c86.flat||_c86.multiple||_c86.inputField||_c86.displayArea||_c86.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false;}function onSelect(cal){var p=cal.params;var _c8d=(cal.dateClicked||p.electric);if(_c8d&&p.inputField){p.inputField.value=cal.date.print(p.ifFormat);if(typeof p.inputField.onchange=="function"){p.inputField.onchange();}}if(_c8d&&p.displayArea){p.displayArea.innerHTML=cal.date.print(p.daFormat);}if(_c8d&&typeof p.onUpdate=="function"){p.onUpdate(cal);}if(_c8d&&p.flat){if(typeof p.flatCallback=="function"){p.flatCallback(cal);}}if(_c8d&&p.singleClick&&cal.dateClicked){cal.callCloseHandler();}}if(_c86.flat!=null){if(typeof _c86.flat=="string"){_c86.flat=document.getElementById(_c86.flat);}if(!_c86.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false;}var cal=new Calendar(_c86.firstDay,_c86.date,_c86.onSelect||onSelect);cal.showsOtherMonths=_c86.showOthers;cal.showsTime=_c86.showsTime;cal.time24=(_c86.timeFormat=="24");cal.params=_c86;cal.weekNumbers=_c86.weekNumbers;cal.setRange(_c86.range[0],_c86.range[1]);cal.setDateStatusHandler(_c86.dateStatusFunc);cal.getDateText=_c86.dateText;if(_c86.ifFormat){cal.setDateFormat(_c86.ifFormat);}if(_c86.inputField&&typeof _c86.inputField.value=="string"){cal.parseDate(_c86.inputField.value);}cal.create(_c86.flat);cal.show();return false;}var _c8f=_c86.button||_c86.displayArea||_c86.inputField;_c8f["on"+_c86.eventName]=function(){var _c90=_c86.inputField||_c86.displayArea;var _c91=_c86.inputField?_c86.ifFormat:_c86.daFormat;var _c92=false;var cal=window.calendar;if(_c90){_c86.date=Date.parseDate(_c90.value||_c90.innerHTML,_c91);}if(!(cal&&_c86.cache)){window.calendar=cal=new Calendar(_c86.firstDay,_c86.date,_c86.onSelect||onSelect,_c86.onClose||function(cal){cal.hide();});cal.showsTime=_c86.showsTime;cal.time24=(_c86.timeFormat=="24");cal.weekNumbers=_c86.weekNumbers;_c92=true;}else{if(_c86.date){cal.setDate(_c86.date);}cal.hide();}if(_c86.multiple){cal.multiple={};for(var i=_c86.multiple.length;--i>=0;){var d=_c86.multiple[i];var ds=d.print("%Y%m%d");cal.multiple[ds]=d;}}cal.showsOtherMonths=_c86.showOthers;cal.yearStep=_c86.step;cal.setRange(_c86.range[0],_c86.range[1]);cal.params=_c86;cal.setDateStatusHandler(_c86.dateStatusFunc);cal.getDateText=_c86.dateText;cal.setDateFormat(_c91);if(_c92){cal.create();}cal.refresh();if(!_c86.position){cal.showAtElement(_c86.button||_c86.displayArea||_c86.inputField,_c86.align);}else{cal.showAt(_c86.position[0],_c86.position[1]);}return false;};return cal;};Calendar._DN=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday");Calendar._SDN=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun");Calendar._FD=0;Calendar._MN=new Array("January","February","March","April","May","June","July","August","September","October","November","December");Calendar._SMN=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");Calendar._TT={};Calendar._TT["INFO"]="About the calendar";Calendar._TT["ABOUT"]="DHTML Date/Time Selector\n"+"(c) dynarch.com 2002-2005 / Author: Mihai Bazon\n"+"For latest version visit: http://www.dynarch.com/projects/calendar/\n"+"Distributed under GNU LGPL.  See http://gnu.org/licenses/lgpl.html for details."+"\n\n"+"Date selection:\n"+"- Use the \xab, \xbb buttons to select year\n"+"- Use the "+String.fromCharCode(8249)+", "+String.fromCharCode(8250)+" buttons to select month\n"+"- Hold mouse button on any of the above buttons for faster selection.";Calendar._TT["ABOUT_TIME"]="\n\n"+"Time selection:\n"+"- Click on any of the time parts to increase it\n"+"- or Shift-click to decrease it\n"+"- or click and drag for faster selection.";Calendar._TT["PREV_YEAR"]="Prev. year (hold for menu)";Calendar._TT["PREV_MONTH"]="Prev. month (hold for menu)";Calendar._TT["GO_TODAY"]="Go Today";Calendar._TT["NEXT_MONTH"]="Next month (hold for menu)";Calendar._TT["NEXT_YEAR"]="Next year (hold for menu)";Calendar._TT["SEL_DATE"]="Select date";Calendar._TT["DRAG_TO_MOVE"]="Drag to move";Calendar._TT["PART_TODAY"]=" (today)";Calendar._TT["DAY_FIRST"]="Display %s first";Calendar._TT["WEEKEND"]="0,6";Calendar._TT["CLOSE"]="Close";Calendar._TT["TODAY"]="Today";Calendar._TT["TIME_PART"]="(Shift-)Click or drag to change value";Calendar._TT["DEF_DATE_FORMAT"]="%Y-%m-%d";Calendar._TT["TT_DATE_FORMAT"]="%a, %b %e";Calendar._TT["WK"]="wk";Calendar._TT["TIME"]="Time:";(function($){$.widget("ui.nestedSortable",$.extend({},$.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"ui-nestedSortable-no-nesting",errorClass:"ui-nestedSortable-error",listType:"ul"},_create:function(){this.element.data("sortable",this.element.data("sortableTree"));return $.ui.sortable.prototype._create.apply(this,arguments);},_mouseDrag:function(_c99){this.position=this._generatePosition(_c99);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}if(this.options.scroll){var o=this.options,_c9b=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-_c99.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=_c9b=this.scrollParent[0].scrollTop+o.scrollSpeed;}else{if(_c99.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=_c9b=this.scrollParent[0].scrollTop-o.scrollSpeed;}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-_c99.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=_c9b=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else{if(_c99.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=_c9b=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(_c99.pageY-$(document).scrollTop()<o.scrollSensitivity){_c9b=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else{if($(window).height()-(_c99.pageY-$(document).scrollTop())<o.scrollSensitivity){_c9b=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}if(_c99.pageX-$(document).scrollLeft()<o.scrollSensitivity){_c9b=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else{if($(window).width()-(_c99.pageX-$(document).scrollLeft())<o.scrollSensitivity){_c9b=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}if(_c9b!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,_c99);}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],_c9e=item.item[0],_c9f=this._intersectsWithPointer(item);if(!_c9f){continue;}if(_c9e!=this.currentItem[0]&&this.placeholder[_c9f==1?"next":"prev"]()[0]!=_c9e&&!$.ui.contains(this.placeholder[0],_c9e)&&(this.options.type=="semi-dynamic"?!$.ui.contains(this.element[0],_c9e):true)){this.direction=_c9f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(item)){this._rearrange(_c99,item);}else{break;}this._clearEmpty(_c9e);this._trigger("change",_c99,this._uiHash());break;}}itemBefore=this.placeholder[0].previousSibling;while(itemBefore!=null){if(itemBefore.nodeType==1&&itemBefore!=this.currentItem[0]){break;}else{itemBefore=itemBefore.previousSibling;}}parentItem=this.placeholder[0].parentNode.parentNode;newList=document.createElement(o.listType);if(parentItem!=null&&parentItem.nodeName=="LI"&&this.positionAbs.left<$(parentItem).offset().left){$(parentItem).after(this.placeholder[0]);this._clearEmpty(parentItem);}else{if(itemBefore!=null&&itemBefore.nodeName=="LI"&&this.positionAbs.left>$(itemBefore).offset().left+this.options.tabSize){if(!($(itemBefore).hasClass(this.options.disableNesting))){if($(this.placeholder[0]).hasClass(this.options.errorClass)){$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass);}if(itemBefore.children[1]==null){itemBefore.appendChild(newList);}itemBefore.children[1].appendChild(this.placeholder[0]);}else{$(this.placeholder[0]).addClass(this.options.errorClass).css("marginLeft",this.options.tabSize);}}else{if(itemBefore!=null){if($(this.placeholder[0]).hasClass(this.options.errorClass)){$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass);}$(itemBefore).after(this.placeholder[0]);}else{if($(this.placeholder[0]).hasClass(this.options.errorClass)){$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass);}}}}this._contactContainers(_c99);if($.ui.ddmanager){$.ui.ddmanager.drag(this,_c99);}this._trigger("sort",_c99,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},serialize:function(o){var _ca1=this._getItemsAsjQuery(o&&o.connected);var str=[];o=o||{};$(_ca1).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[-=_](.+)/));var pid=($(o.item||this).parent(o.listType).parent("li").attr(o.attribute||"id")||"").match(o.expression||(/(.+)[-=_](.+)/));if(res){str.push((o.key||res[1]+"["+(o.key&&o.expression?res[1]:res[2])+"]")+"="+(pid?(o.key&&o.expression?pid[1]:pid[2]):"root"));}});if(!str.length&&o.key){str.push(o.key+"=");}return str.join("&");},toArray:function(o){o=o||{};var _ca6=o.startDepthCount||0;var ret=[];var left=2;ret.push({"item_id":"root","parent_id":"none","depth":_ca6,"left":"1","right":($("li",this.element).length+1)*2});$(this.element).children("li").each(function(){left=_recursiveArray($(this),_ca6+1,left);});return ret;function _recursiveArray(item,_caa,left){right=left+1;if($(item).children(o.listType).children("li").length>0){_caa++;$(item).children(o.listType).children("li").each(function(){right=_recursiveArray($(this),_caa,right);});_caa--;}id=$(item).attr("id").match(o.expression||(/(.+)[-=_](.+)/));if(_caa===_ca6+1){pid="root";}else{parentItem=$(item).parent(o.listType).parent("li").attr("id").match(o.expression||(/(.+)[-=_](.+)/));pid=parentItem[2];}ret.push({"item_id":id[2],"parent_id":pid,"depth":_caa,"left":left,"right":right});return left=right+1;}},_createPlaceholder:function(that){var self=that||this,o=self.options;if(!o.placeholder||o.placeholder.constructor==String){var _caf=o.placeholder;o.placeholder={element:function(){var el=$(document.createElement(self.currentItem[0].nodeName)).addClass(_caf||self.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!_caf){el.style.visibility="hidden";}return el;},update:function(_cb1,p){if(_caf&&!o.forcePlaceholderSize){return;}if(!p.height()||p.css("height")=="auto"){p.height(self.currentItem.height());}if(!p.width()){p.width(self.currentItem.width());}}};}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem));self.currentItem.after(self.placeholder);o.placeholder.update(self,self.placeholder);},_clear:function(_cb3,_cb4){$.ui.sortable.prototype._clear.apply(this,arguments);for(var i=this.items.length-1;i>=0;i--){var item=this.items[i].item[0];this._clearEmpty(item);}return true;},_clearEmpty:function(item){if(item.children[1]&&item.children[1].children.length==0){item.removeChild(item.children[1]);}}}));$.ui.nestedSortable.prototype.options=$.extend({},$.ui.sortable.prototype.options,$.ui.nestedSortable.prototype.options);})(jQuery);(function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments);};};d=this,a=jQuery,a.fn.extend({chosen:function(c,d){return a(this).each(function(e){if(!a(this).hasClass("chzn-done")){return new b(this,c,d);}});}}),b=function(){function b(b){this.set_default_values(),this.form_field=b,this.form_field_jq=a(this.form_field),this.is_multiple=this.form_field.multiple,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl"),this.default_text_default=this.form_field.multiple?"Select Some Options":"Select an Option",this.set_up_html(),this.register_observers(),this.form_field_jq.addClass("chzn-done");}b.prototype.set_default_values=function(){this.click_test_action=e(function(a){return this.test_active_click(a);},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null;return this.choices=0;},b.prototype.set_up_html=function(){var b,d,e,f;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.width(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,b=a("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?" chzn-rtl":void 0),style:"width: "+this.f_width+"px;"}),this.is_multiple?b.html("<ul class=\"chzn-choices\"><li class=\"search-field\"><input type=\"text\" value=\""+this.default_text+"\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chzn-drop\" style=\"left:-9000px;\"><ul class=\"chzn-results\"></ul></div>"):b.html("<a href=\"javascript:void(0)\" class=\"chzn-single\"><span>"+this.default_text+"</span><div><b></b></div></a><div class=\"chzn-drop\" style=\"left:-9000px;\"><div class=\"chzn-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chzn-results\"></ul></div>"),this.form_field_jq.hide().after(b),this.container=a("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),d=this.container.height(),e=this.f_width-c(this.dropdown),this.dropdown.css({width:e+"px",top:d+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),f=e-c(this.search_container)-c(this.search_field),this.search_field.css({width:f+"px"})),this.results_build();return this.set_tab_index();},b.prototype.register_observers=function(){this.container.click(e(function(a){return this.container_click(a);},this)),this.container.mouseenter(e(function(a){return this.mouse_enter(a);},this)),this.container.mouseleave(e(function(a){return this.mouse_leave(a);},this)),this.search_results.click(e(function(a){return this.search_results_click(a);},this)),this.search_results.mouseover(e(function(a){return this.search_results_mouseover(a);},this)),this.search_results.mouseout(e(function(a){return this.search_results_mouseout(a);},this)),this.form_field_jq.bind("liszt:updated",e(function(a){return this.results_update_field(a);},this)),this.search_field.blur(e(function(a){return this.input_blur(a);},this)),this.search_field.keyup(e(function(a){return this.keyup_checker(a);},this)),this.search_field.keydown(e(function(a){return this.keydown_checker(a);},this));if(this.is_multiple){this.search_choices.click(e(function(a){return this.choices_click(a);},this));return this.search_field.focus(e(function(a){return this.input_focus(a);},this));}return this.selected_item.focus(e(function(a){return this.activate_field(a);},this));},b.prototype.container_click=function(b){b&&b.type==="click"&&b.stopPropagation();if(!this.pending_destroy_click){this.active_field?!this.is_multiple&&b&&(a(b.target)===this.selected_item||a(b.target).parents("a.chzn-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show());return this.activate_field();}return this.pending_destroy_click=!1;},b.prototype.mouse_enter=function(){return this.mouse_on_container=!0;},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1;},b.prototype.input_focus=function(a){if(!this.active_field){return setTimeout(e(function(){return this.container_click();},this),50);}},b.prototype.input_blur=function(a){if(!this.mouse_on_container){this.active_field=!1;return setTimeout(e(function(){return this.blur_test();},this),100);}},b.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field();}},b.prototype.close_field=function(){a(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default();return this.search_field_scale();},b.prototype.activate_field=function(){!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val());return this.search_field.focus();},b.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field();},b.prototype.results_build=function(){var a,b,c,e,f,g;c=new Date,this.parsing=!0,this.results_data=d.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text),a="",g=this.results_data;for(e=0,f=g.length;e<f;e++){b=g[e],b.group?a+=this.result_add_group(b):b.empty||(a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&this.selected_item.find("span").text(b.text));}this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a);return this.parsing=!1;},b.prototype.result_add_group=function(b){if(!b.disabled){b.dom_id=this.container_id+"_g_"+b.array_index;return "<li id=\""+b.dom_id+"\" class=\"group-result\">"+a("<div />").text(b.label).html()+"</li>";}return "";},b.prototype.result_add_option=function(a){var b;if(!a.disabled){a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),a.group_array_index!=null&&b.push("group-option");return "<li id=\""+a.dom_id+"\" class=\""+b.join(" ")+"\">"+a.html+"</li>";}return "";},b.prototype.results_update_field=function(){this.result_clear_highlight(),this.result_single_selected=null;return this.results_build();},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight();if(b>=e){return this.search_results.scrollTop(b-d>0?b-d:0);}if(c<f){return this.search_results.scrollTop(c);}}},b.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null;},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show();},b.prototype.results_show=function(){var a;this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),a=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:a+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val());return this.winnow_results();},b.prototype.results_hide=function(){this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"});return this.results_showing=!1;},b.prototype.set_tab_index=function(a){var b;if(this.form_field_jq.attr("tabindex")){b=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",b);}this.selected_item.attr("tabindex",b);return this.search_field.attr("tabindex",-1);}},b.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default");}this.search_field.val("");return this.search_field.removeClass("default");},b.prototype.search_results_click=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length){this.result_highlight=c;return this.result_select();}},b.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c){return this.result_do_highlight(c);}},b.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result")){return this.result_clear_highlight();}},b.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!a(b.target).hasClass("search-choice")&&!this.results_showing){return this.results_show();}},b.prototype.choice_build=function(b){var c,d;c=this.container_id+"_c_"+b.array_index,this.choices+=1,this.search_container.before("<li class=\"search-choice\" id=\""+c+"\"><span>"+b.html+"</span><a href=\"javascript:void(0)\" class=\"search-choice-close\" rel=\""+b.array_index+"\"></a></li>"),d=a("#"+c).find("a").first();return d.click(e(function(a){return this.choice_destroy_link_click(a);},this));},b.prototype.choice_destroy_link_click=function(b){b.preventDefault(),this.pending_destroy_click=!0;return this.choice_destroy(a(b.target));},b.prototype.choice_destroy=function(a){this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(a.attr("rel"));return a.parents("li").first().remove();},b.prototype.result_select=function(){var a,b,c,d;if(this.result_highlight){a=this.result_highlight,b=a.attr("id"),this.result_clear_highlight(),a.addClass("result-selected"),this.is_multiple?this.result_deactivate(a):this.result_single_selected=a,d=b.substr(b.lastIndexOf("_")+1),c=this.results_data[d],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.is_multiple?this.choice_build(c):this.selected_item.find("span").first().text(c.text),this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change");return this.search_field_scale();}},b.prototype.result_activate=function(a){return a.addClass("active-result").show();},b.prototype.result_deactivate=function(a){return a.removeClass("active-result").hide();},b.prototype.result_deselect=function(b){var c,d;d=this.results_data[b],d.selected=!1,this.form_field.options[d.options_index].selected=!1,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change");return this.search_field_scale();},b.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show();},b.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;j=new Date,this.no_results_clear(),h=0,i=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),f=new RegExp("^"+i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),m=new RegExp(i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),r=this.results_data;for(n=0,p=r.length;n<p;n++){c=r[n];if(!c.disabled&&!c.empty){if(c.group){a("#"+c.dom_id).hide();}else{if(!this.is_multiple||!c.selected){b=!1,g=c.dom_id;if(f.test(c.html)){b=!0,h+=1;}else{if(c.html.indexOf(" ")>=0||c.html.indexOf("[")===0){e=c.html.replace(/\[|\]/g,"").split(" ");if(e.length){for(o=0,q=e.length;o<q;o++){d=e[o],f.test(d)&&(b=!0,h+=1);}}}}b?(i.length?(k=c.html.search(m),l=c.html.substr(0,k+i.length)+"</em>"+c.html.substr(k+i.length),l=l.substr(0,k)+"<em>"+l.substr(k)):l=c.html,a("#"+g).html!==l&&a("#"+g).html(l),this.result_activate(a("#"+g)),c.group_array_index!=null&&a("#"+this.results_data[c.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a("#"+g)));}}}}return h<1&&i.length?this.no_results(i):this.winnow_results_set_highlight();},b.prototype.winnow_results_clear=function(){var b,c,d,e,f;this.search_field.val(""),c=this.search_results.find("li"),f=[];for(d=0,e=c.length;d<e;d++){b=c[d],b=a(b),f.push(b.hasClass("group-result")?b.show():!this.is_multiple||!b.hasClass("result-selected")?this.result_activate(b):void 0);}return f;},b.prototype.winnow_results_set_highlight=function(){var a;if(!this.result_highlight){a=this.search_results.find(".active-result").first();if(a){return this.result_do_highlight(a);}}},b.prototype.no_results=function(b){var c;c=a("<li class=\"no-results\">No results match \"<span></span>\"</li>"),c.find("span").first().html(b);return this.search_results.append(c);},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove();},b.prototype.keydown_arrow=function(){var b,c;this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b)));if(!this.results_showing){return this.results_show();}},b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple){return this.results_show();}if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length){return this.result_do_highlight(a.first());}this.choices>0&&this.results_hide();return this.result_clear_highlight();}},b.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke();}this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus");},b.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null;},b.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke();}if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search();}break;case 13:a.preventDefault();if(this.results_showing){return this.result_select();}break;case 27:if(this.results_showing){return this.results_hide();}break;case 9:case 38:case 40:case 16:break;default:return this.results_search();}},b.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale(),b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow();}},b.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++){e=g[i],f+=e+":"+this.search_field.css(e)+";";}c=a("<div />",{style:f}),c.text(this.search_field.val()),a("body").append(c),h=c.width()+25,c.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),b=this.container.height();return this.dropdown.css({top:b+"px"});}},b.prototype.generate_field_id=function(){var a;a=this.generate_random_id(),this.form_field.id=a;return a;},b.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+b).length>0){b+=this.generate_random_char();}return b;},b.prototype.generate_random_char=function(){var a,b,c;a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",c=Math.floor(Math.random()*a.length);return b=a.substring(c,c+1);};return b;}(),c=function(a){var b;return b=a.outerWidth()-a.width();},d.get_side_border_padding=c;}).call(this),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[];}a.prototype.add_node=function(a){return a.nodeName==="OPTGROUP"?this.add_group(a):this.add_option(a);},a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[];for(d=0,e=f.length;d<e;d++){c=f[d],g.push(this.add_option(c,b,a.disabled));}return g;},a.prototype.add_option=function(a,b,c){if(a.nodeName==="OPTION"){a.text!==""?(b!=null&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0});return this.options_index+=1;}};return a;}(),a.select_to_array=function(b){var c,d,e,f,g;d=new a,g=b.childNodes;for(e=0,f=g.length;e<f;e++){c=g[e],d.add_node(c);}return d.parsed;},this.SelectParser=a;}.call(this);jQuery.fn.onScrollBeyond=function(_d2b,_d2c){var _d2d=this;if(_d2b=="disable"){jQuery(_d2d).data("onScrollBeyond-disabled",true);return;}if(_d2b=="enable"){jQuery(_d2d).data("onScrollBeyond-disabled",false);return;}var _d2e={"buffer":20,"fireOnDocEnd":true,"fireOnBeyondElement":true};jQuery.extend(_d2e,_d2c);jQuery(window).bind("scroll",function(){var fire=false;var _d30=jQuery(_d2d);if(_d30.data("onScrollBeyond-disabled")==true){return;}if(_d2e.fireOnBeyondElement){if(jQuery(document).scrollTop()>(_d30.position().top+_d30.height())){fire=true;}}if(!fire&&_d2e.fireOnDocEnd){var _d31=jQuery(document).scrollTop()-_d30.position().top;if((_d31+_d30.position().top+jQuery(window).height()+_d2e.buffer)>jQuery(document).height()){fire=true;}}if(fire){_d2b.call(this,_d2d);}});return this;};jQuery.fn.scrollExtend=function(_d32){if(_d32=="disable"){jQuery(this).data("scrollExtend-disabled",true);return;}if(_d32=="enable"){jQuery(this).data("scrollExtend-disabled",false);return;}var _d33={"url":null,"beforeStart":null,"onSuccess":null,"target":null,"loadingIndicatorEnabled":true,"loadingIndicatorClass":"scrollExtend-loading","newElementClass":"","ajaxSettings":{}};var url;var _d35={};var _d36=_d33.ajaxSettings;jQuery.extend(_d33,_d32);jQuery.extend(_d36,_d33.ajaxSettings);jQuery(this).onScrollBeyond(function(_d37){var _d38=jQuery(_d37);if(_d38.data("scrollExtend-disabled")!=true&&_d38.data("scrollExtendLoading")!=true){_d38.data("scrollExtendLoading",true);if(typeof (_d33.beforeStart)=="function"){var ret=_d33.beforeStart.call(this,_d37);if(!ret){_d38.data("scrollExtendLoading",false);return;}}if(_d38.data("scrollExtend-disabled")==true){_d38.data("scrollExtendLoading",false);return;}if(typeof (_d33.url)=="function"){url=_d33.url.call(this,_d37);}else{url=_d33.url;}_d36.url=url;var _d3a=(_d33.target)?_d33.target:_d37;var _d3b=(_d37.is("table"))?jQuery("<tbody/>"):jQuery("<div/>");if(_d33.newElementClass!=""){jQuery(_d3b).addClass(_d33.newElementClass);}if(_d33.loadingIndicatorEnabled){var _d3c=jQuery("<div></div>");_d3c.addClass(_d33.loadingIndicatorClass);_d3c.appendTo(_d3a);}_d35={"success":function(data,_d3e){var _d3f=(_d33.target)?_d33.target:_d37;jQuery(_d3b).html(data);jQuery(_d3b).appendTo(_d3f);if(typeof (_d33.onSuccess)=="function"){_d33.onSuccess.call(this,_d37,_d3b);}jQuery(_d37).data("scrollExtendLoading",false);if(_d33.loadingIndicatorEnabled){_d3c.remove();}}};jQuery.extend(_d36,_d35);jQuery.ajax(_d36);}},_d33);return this;};(function($){var _d41,_d42,_d43,_d44=/^.*#/;var msie={iframe:null,getDoc:function(){return document.getElementById("historyFrame").contentWindow.document;},getHash:function(){return msie.getDoc().location.hash;},setHash:function(hash){var d=msie.getDoc();var _d48=document.domain;d.open();d.domain=_d48;d.close();d.location.hash=hash;}};var _d49=function(){var hash=msie.iframe?msie.getHash():location.hash;if(hash!=_d41){_d41=hash;if(msie.iframe){location.hash=_d41;}var _d4b=$.history.getCurrent();$.event.trigger("history",[_d4b,_d42]);_d42=_d4b;}};$.history={add:function(hash){hash="#"+hash.replace(_d44,"");if(_d41!=hash){var _d4d=$.history.getCurrent();location.hash=_d41=hash;if(msie.iframe){msie.setHash(_d41);}$.event.trigger("historyadd",[$.history.getCurrent(),_d4d]);}if(!_d43){_d43=setInterval(_d49,100);}},getCurrent:function(){if(!_d41){return _d41;}else{return _d41.replace(_d44,"");}}};$.fn.history=function(fn){$(this).bind("history",fn);};$.fn.historyadd=function(fn){$(this).bind("historyadd",fn);};$(function(){_d41=location.hash;if($.browser.msie){var _d50="historyFrame";if($(_d50)!=null){msie.iframe=$(_d50).prependTo("body")[0];}else{msie.iframe=$("<iframe id=\"historyFrame\" style=\"display:none\" src=\"javascript:false;\"></iframe>").prependTo("body")[0];msie.setHash(_d41);_d41=msie.getHash();}}});})(jQuery);var Layout={containerid:"",showgettingstarted:true,peopleCookie:{},stimer:null,wtimer:null,ftimer:null,tabs:{"home/dashboard":{"url":"/people/home/mdashboard"},"home/announcements/new":{"url":"/people/getAnnouncementPage.do"},"home/announcements/edit":{"url":"/people/announcementListActions.do"},"home/approvals":{"url":"/people/home/mapprovals"},"home/requests":{"url":"/people/home/mrequests"},"home/announcements":{"url":"/people/home/mannouncements"},"home/checklists":{"url":"/people/home/mchecklists"},"home/checklist/record/view":{"url":"/people/CheckListDetailsforRecord.do"},"home/gettingstarted":{"url":"/people/gettingStarted.do"},"home/birthdayfolks":{"url":"/people/getBirthdayFolks.do"},"selfservice/profile":{"url":"/people/getprofile.do"},"selfservice/directory/employees":{"url":"/people/self-service/employees/mdirectory"},"selfservice/directory/departments":{"url":"/people/self-service/departments/mdirectory"},"selfservice/forms":{"url":"/people/self-service/mforms"},"selfservice/profile/edit":{"url":"/people/LiveFormHeader.do"},"timetracker/scheduler":{"url":"/people/getscheduler.do"},"timetracker/timesheet":{"url":"/people/gettimetracker.do"},"timetracker/listview":{"url":"/people/gettimesheet.do"},"timetracker/reports":{"url":"/people/timesheetreport.do"},"leavetracker/leaveview":{"url":"/people/getLeaveDetails.do"},"leavetracker/leavedetails":{"url":"/people/LiveFormHeader.do"},"leavetracker/addleave":{"url":"/people/LiveFormHeader.do"},"leavetracker/reports":{"url":"getLeaveReport.do"},"leavetracker/dayreport":{"url":"getdayleavereport.do"},"leavetracker/holidays":{"url":"/people/getholidaydetails.do"},"leavetracker/addholiday":{"url":"/people/LiveFormHeader.do"},"leavetracker/editholiday":{"url":"/people/LiveFormHeader.do"},"leavetracker/holidaydetails":{"url":"/people/LiveFormHeader.do"},"employees/orgstructure":{"url":"/people/employees/morgstructure"},"orgchart/employees":{"url":"/people/getOrgChartDetails.do"},"employees/orgstructure/edit":{"url":"/people/LiveFormHeader.do"},"employees/profile":{"url":"/people/getprofile.do"},"employees/profile/edit":{"url":"/people/LiveFormHeader.do"},"departments/profile":{"url":"/people/getdeptprofile.do"},"view/live/list":{"url":"/people/liveViewHeader.do"},"view/live/detail":{"url":"/people/LiveFormHeader.do"},"view/live/history":{"url":"/people/AuditField.do"},"view/edit":{"url":"/people/showviewedit.do"},"forms/live/edit":{"url":"/people/LiveFormHeader.do"},"forms/live/add":{"url":"/people/LiveFormHeader.do"},"forms/import/uploadfile":{"url":"/people/empImport.do"},"admin/home":{"url":"/people/admin/mhome"},"admin/userspermissions/adduser":{"url":"/people/addUserPage.do","setuptab":"0"},"admin/userspermissions/inviteemployees":{"url":"/people/admin/userspermissions/inviteemployees","setuptab":"0"},"admin/userspermissions/users":{"url":"/people/admin/userspermissions/users","setuptab":"0"},"admin/userspermissions/roles":{"url":"/people/admin/userspermissions/roles","setuptab":"0"},"admin/userspermissions/forms":{"url":"/people/admin/userspermissions/forms","setuptab":"0"},"admin/userspermissions/global":{"url":"/people/admin/userspermissions/global","setuptab":"0"},"admin/inviteemployees/import":{"url":"/people/empImport.do","setuptab":"0"},"admin/userspermissions/gapps":{"url":"/people/admin/setuporg/gapps","setuptab":"0"},"admin/security/forms":{"url":"/people/permissionsFormLevel.do","setuptab":"0"},"admin/setuporganization/companysettings":{"url":"/people/admin/setuporganization/companysettings","setuptab":"1"},"admin/setuporganization/departments":{"url":"/people/admin/setuporganization/departments","setuptab":"1"},"admin/setuporganization/designations":{"url":"/people/admin/setuporganization/designations","setuptab":"1"},"admin/leave/holidays":{"url":"/people/admin/leave/holidays","setuptab":"2"},"admin/leave/manageleavetype":{"url":"/people/admin/leave/manageleavetype","setuptab":"2"},"admin/leave/leavereport":{"url":"/people/admin/leave/leavereport","setuptab":"2"},"admin/leave/leavetype":{"url":"/people/admin/leave/leavetype","setuptab":"2"},"admin/leave/generateleavereport":{"url":"/people/admin/leave/generateleavereport","setuptab":"2"},"admin/leave/dayleavereport":{"url":"/people/admin/leave/dayleavereport","setuptab":"2"},"admin/leave/import":{"url":"getLeaveImportPage.do","setuptab":"2"},"admin/checklists/list":{"url":"/people/admin/checklists/list","setuptab":"4"},"admin/checklists/new":{"url":"/people/admin/checklists/new","setuptab":"4"},"admin/checklists/view":{"url":"/people/getChecklistTasks.do","setuptab":"4"},"admin/checklists/edit":{"url":"/people/checklistActions.do","setuptab":"4"},"admin/announcements/list":{"url":"/people/admin/announcements/list","setuptab":"5"},"admin/announcements/new":{"url":"/people/admin/announcements/new","setuptab":"5"},"admin/announcements/edit":{"url":"/people/announcementListActions.do","setuptab":"5"},"admin/forms/new":{"url":"/people/newform.do","setuptab":"3"},"admin/forms/mailalerts/list":{"url":"/people/fetchMailAlertList.do","setuptab":"6"},"admin/forms/mailalerts/edit":{"url":"/people/mailAlert.do","setuptab":"6"},"admin/forms/mailalerts/new":{"url":"/people/mailAlert.do","setuptab":"6"},"admin/forms/approvals/list":{"url":"/people/fetchMailAlertList.do","setuptab":"7"},"admin/forms/embed":{"url":"admin/forms/embed","setuptab":"8"},"admin/forms/edit":{"url":"/people/ShowFormEdit.do","setuptab":"3"},"admin/forms/live/add":{"url":"/people/LiveFormHeader.do"},"admin/forms/approvals/edit":{"url":"/people/mailAlert.do","setuptab":"7"},"admin/forms/list":{"url":"/people/tabCustomization.do?isAjax=true","setuptab":"3"},"admin/importexporthistory":{"url":"admin/importexporthistory","setuptab":"9"},"admin/nonusers/list":{"url":"admin/nonusers/list","setuptab":"10"},"admin/nonusers/add":{"url":"admin/nonusers/add","setuptab":"10"},"admin/nonusers/import":{"url":"/people/empImport.do","setuptab":"10"},"admin/nonusers/migrate":{"url":"/people/addDummyEmployeePage.do","setuptab":"10"},"admin/calendarsettings":{"url":"/people/calendarsettings.do","setuptab":"11"},"subscription/plan":{"url":"/people/planDetails.do"},"subscription/manageplan":{"url":"/people/manageplandetail.do"},"subscription/paymentprocess":{"url":"/people/paymentprocess.do"},"subscription/plandetails":{"url":"/people/planDetails.do"},"attendance/entry":{"url":"/people/jsp/attendanceView.jsp?page=entry"},"attendance/report":{"url":"/people/jsp/attendanceView.jsp?page=report"},"attendance/import":{"url":"/people/jsp/attendanceView.jsp?page=import"},"attendance/settings":{"url":"/people/jsp/attendanceSettings.jsp"}},onloadfn:function(){var _d51=$("#zpeople_progressbar");_d51.ajaxStart(function(){showhideprogressbar(true,_d51);});_d51.ajaxStop(function(){showhideprogressbar(false,_d51);});if(!chatEnable){setDomainForDocument();}var _d52=$("#empSearchBox");_d52.val(i18n.search_defaulttext_search);_d52.keydown(function(_d53){if(_d53.keyCode==13){empSearchFromTab();}});_d52.focus(function(_d54){$(this).parent("div.dropSearch").addClass("focus");var _d55=$(this).val();var _d56=[i18n.search_defaulttext_search,i18n.search_defaulttext_efname,i18n.search_defaulttext_elname,i18n.search_defaulttext_dept,i18n.search_defaulttext_desg,i18n.search_defaulttext_empid,i18n.search_defaulttext_empmailid,i18n.search_defaulttext_teammailid];if($.inArray(_d55,_d56)!=-1){$(this).val("");}});_d52.blur(function(_d57){if($(this).val().trim().length==0){var _d58=$("#searchTabImg").attr("searchType");var _d59={0:i18n.search_defaulttext_search,2:i18n.search_defaulttext_efname,3:i18n.search_defaulttext_elname,4:i18n.search_defaulttext_dept,5:i18n.search_defaulttext_desg,6:i18n.search_defaulttext_empid,7:i18n.search_defaulttext_empmailid,8:i18n.search_defaulttext_teammailid};$(this).parent("div.dropSearch").removeClass("focus");$(this).val(_d59[_d58]);}});fireInfineScrollEvent();try{if(chatEnable){registerChat(_domainname,_LOGGEDIN_ZUID,_loginname,chatEnable);}}catch(e){}var _d5a=document.cookie.split(";");var _d5b=_d5a.length;while(_d5b--){var _d5c=_d5a[_d5b].split("=");this.peopleCookie[_d5c[0]]=unescape(_d5c[1]);}},pageloadfn:function(){var hash=window.location.hash;var href=window.location.href;if(!hash){if(this.showgettingstarted){this.loadpage("home/gettingstarted");window.location.href=href+"#home/gettingstarted";}else{this.loadpage("home/dashboard");removefreezeBackground();window.location.href=href+"#home/dashboard";}}else{hash=hash.substring(1,hash.length);this.loadpage(hash);}this.commonLoadfn();},findHash:function(){var h=location.hash;h=h.substring(1,h.length);return h;},loadpage:function(mode,_d61){endofrecord=false;firescroll=false;var href=window.location.href;var hash=window.location.hash;href=href.substring(0,href.indexOf(hash));window.location.href=href+"#"+mode;this.hidesubtabs();var _d64;if(mode.indexOf("-")){var test=mode.split("-");mode=test[0];_d64=test[1];}var _d66={};var _d67={};var _d68;var _d69;if(mode=="admin/forms/mailalerts/list"){_d66={"formId":"0","oprType":"fetch_all_mail_alert","fetchAll":"true","conreqcsr":csrfToken};}else{if(mode=="admin/forms/approvals/edit"){_d66={"formId":"0","conreqcsr":csrfToken,"isApproval":"true","oprType":"edit_mail_alert","isViewConfig":"false"};}else{if(mode=="admin/forms/approvals/list"){_d66={"formId":"0","oprType":"fetch_all_approval","fetchAll":"true","conreqcsr":csrfToken};}else{if(mode=="admin/forms/new"){_d66={"tabId":"0","tabName":""};}else{if(mode=="home/announcements/new"){$("#home-announcements-edit").remove();$("#home-announcements-new").remove();_d66={"isDashboardAnn":"true","conreqcsr":csrfToken,"operationType":"getAddAnnDetails"};}else{if(mode=="admin/announcements/new"){_d66={"isDashboardAnn":"false","conreqcsr":csrfToken,"operationType":"getAddAnnDetails"};}else{if(mode=="home/announcements/edit"){$("#home-announcements-new").remove();$("#home-announcements-edit").remove();}else{if(mode=="home/announcements"){$("#home-announcements").remove();_d66={"isDashboardAnn":"true"};}else{if(mode=="home/gettingstarted"){_d66={"action":"showGettingStarted"};}else{if(mode=="home/birthdayfolks"){_d66={"action":"getBirthdayBuddies"};}else{if(mode=="orgchart/employees"){$("#orgchart-employees").remove();_d66={"mode":"fetchEmpTree"};}else{if(mode=="subscription/plan"){$("#subscription-plan").remove();_d66={"action":"fetchPlanDetails"};}else{if(mode=="subscription/plandetails"){$("#subscription-plandetails").remove();_d66={"action":"fetchPlanDetails","successPage":"plandetails"};}else{if(mode=="selfservice/profile"){_d66={"mode":"EMPRELATEDDATA"};}else{if(mode=="leavetracker/reports"){_d69="leave_report";$("#leavetracker-reports").remove();_d66={"actionType":"currEmp"};}else{if(mode=="leavetracker/holidays"){$("#leavetracker-holidays").remove();_d66={"isDashBoard":"true","isAjax":"false"};}else{if(mode=="admin/leave/holidays"){_d66={"isDashBoard":"false"};}else{if(mode=="leavetracker/leaveview"){$("#leavetracker-leaveview").remove();_d66={"actionType":"ListView","isAjaxAction":"false"};}else{if(mode=="admin/leave/leavereport"){_d66={"isDashBoard":"false"};}}}}}}}}}}}}}}}}}}}if(_d64){var _d6a=_d64.split("/");if(mode=="view/live/list"){var _d6b=_d6a[0].split(":");var _d6c=_d6a[1].split(":");var _d6d=_d6b[1];var _d6e=_d6c[1];_d68=_d6e;if(!_d6a[2]){_d66={"typeOfView":"all","viewID":_d6d};}else{var _d6f=_d6a[2].split(":");_d66={"typeOfView":_d6f[1],"viewID":_d6d};if(_d6a[3]){var _d70=_d6a[3].split(":");_d66["approvalStatus"]=_d70[1];}}}else{if(mode=="view/live/detail"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d68=_d6e;_d66={"conreqcsr":csrfToken,"formAccessType":"4","formid":_d6e,"isEmpInvite":"","recPkID":_d72};}else{if(mode=="view/live/history"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d68=_d6e;_d66={"formid":_d6e,"pkId":_d72};}else{if(mode=="forms/live/edit"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d68=_d6e;_d66={"conreqcsr":csrfToken,"formid":_d6e,"recPkID":_d72};}else{if(mode=="selfservice/profile/edit"||mode=="employees/profile/edit"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d68=_d6e;_d66={"conreqcsr":csrfToken,"formid":_d6e,"recPkID":_d72};}else{if(mode=="forms/live/add"){var _d6c=_d6a[0].split(":");var _d6e=_d6c[1];_d68=_d6e;_d66={"conreqcsr":csrfToken,"formid":_d6e};$("#forms-live-add-formId-"+_d6e).remove();}else{if(mode=="forms/import/uploadfile"){var _d6c=_d6a[0].split(":");var _d6e=_d6c[1];_d68=_d6e;_d66={"formId":_d6e,"dummy":"false"};}else{if(mode=="view/edit"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d68=_d72;_d66={"viewLinkId":_d6e};}else{if(mode=="employees/profile"){var _d6e=_d6a[0];_d68=_d6e;_d68=_d6e;_d66={"erecNum":_d6e,"mode":"EMPRELATEDDATA"};}else{if(mode=="departments/profile"){var _d6e=_d6a[0];_d68=_d6e;_d66={"deptId":_d6e};}else{if(mode=="employees/orgstructure"){var dept=_d6a[0].split(":");var _d74=dept[1];if(!_d74){_d74=0;}_d67={"deptId":_d74,"startIndex":"1"};}else{if(mode=="admin/inviteemployees/import"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68,"inviteusers":"true"};}else{if(mode=="admin/checklists/view"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"checklistId":_d68,"conreqcsr":csrfToken,"oprType":"fetch_checklist"};}else{if(mode=="admin/checklists/edit"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"checkListId":_d68,"conreqcsr":csrfToken,"operationType":"fetchChecklistDetails","oprType":"edit_checklist"};}else{if(mode=="admin/forms/edit"){propHtml="";var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68};}else{if(mode=="admin/forms/live/add"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formid":_d68,"conreqcsr":csrfToken};}else{if(mode=="admin/forms/mailalerts/new"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68,"conreqcsr":csrfToken,"isApproval":"false","oprType":"new_mail_alert"};}else{if(mode=="admin/forms/approvals/edit"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68,"conreqcsr":csrfToken,"isApproval":"true","oprType":"edit_mail_alert","isViewConfig":"false"};}else{if(mode=="admin/nonusers/import"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"dummy":"true","formId":_d68};}else{if(mode=="admin/forms/embed"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68};}else{if(mode=="admin/security/forms"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68,"type":"selected"};}else{if(mode=="home/announcements/edit"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"annoId":_d68,"isDashboardAnn":"true","operationType":"fetchAnnouncementDetails","conreqcsr":csrfToken};}else{if(mode=="admin/announcements/edit"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"annoId":_d68,"isDashboardAnn":"false","operationType":"fetchAnnouncementDetails","conreqcsr":csrfToken};}else{if(mode=="admin/announcements/new"){_d66={"isDashboardAnn":"false","conreqcsr":csrfToken,"operationType":"getAddAnnDetails"};}else{if(mode=="admin/forms/mailalerts/list"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"formId":_d68,"oprType":"fetch_all_mail_alert","conreqcsr":csrfToken};}else{if(mode=="admin/forms/mailalerts/edit"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d66={"conreqcsr":csrfToken,"formId":_d6e,"formTemplateId":_d72,"oprType":"edit_mail_alert"};}else{if(mode=="admin/nonusers/migrate"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"empErecNum":_d68,"pType":"migrate"};}else{if(mode=="employees/orgstructure/edit"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d66={"conreqcsr":csrfToken,"formid":_d6e,"recPkID":_d72};}else{if(mode=="home/checklist/record/view"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d66={"recPkID":_d6e,"rootId":_d72,"qtype":"false"};}else{if(mode=="admin/forms/new"){var _d6c=_d6a[0].split(":");_d68=_d6c[1];_d66={"tabId":_d68,"tabName":""};}else{if(mode=="subscription/manageplan"){var _d75=_d6a[0].split(":");var _d76=_d6a[1].split(":");var _d77=_d75[1];var _d78=_d76[1];_d66={"conreqcsr":csrfToken,"updownGrade":_d77,"planNumber":_d78};}else{if(mode=="subscription/paymentprocess"){var _d79=_d6a[0].split(":");var _d76=_d6a[2].split(":");var _d7a=_d6a[1].split(":");var _d78=_d76[1];var _d7b=_d7a[1];var _d7c=_d79[1];_d66={"plan_number":_d78,"purchase_status":_d7b,"subscribeStorage":_d7c};}else{if(mode=="leavetracker/leavedetails"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];_d69="leaveview";_d66={"conreqcsr":csrfToken,"formAccessType":"4","formid":_d6e,"isEmpInvite":"","recPkID":_d72};}else{if(mode=="leavetracker/addleave"){var _d6c=_d6a[0].split(":");var _d6e=_d6c[1];$("#leavetracker-addleave-formId-"+_d6e).remove();_d69="leaveview";_d66={"conreqcsr":csrfToken,"formid":_d6e};}else{if(mode=="leavetracker/addholiday"){var _d6c=_d6a[0].split(":");var _d6e=_d6c[1];$("#leavetracker-addholiday-formId-"+_d6e).remove();_d69="holidays";_d66={"conreqcsr":csrfToken,"formid":_d6e};}else{if(mode=="leavetracker/holidaydetails"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];$("#leavetracker-holidaydetails-formId-"+_d6e+"-recordId-"+_d72).remove();_d69="holidays";_d66={"conreqcsr":csrfToken,"formAccessType":"4","formid":_d6e,"isEmpInvite":"","recPkID":_d72};}else{if(mode=="leavetracker/editholiday"){var _d6c=_d6a[0].split(":");var _d71=_d6a[1].split(":");var _d6e=_d6c[1];var _d72=_d71[1];$("#leavetracker-editholiday-formId-"+_d6e+"-recordId-"+_d72).remove();_d69="holidays";_d66={"conreqcsr":csrfToken,"formid":_d6e,"recPkID":_d72};}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}$(".selArw").removeClass();$(".sel").removeClass();if(mode.indexOf("admin/")!=-1||mode.indexOf("subscription/")!=-1){$("#navbar").addClass("navAdmin");$("#peopletabs_subtabs").hide();var _d7d=mode.split("/");if(_d7d&&_d7d[0]=="admin"&&_d7d[1]!="home"){if($("#"+_d7d[0]+"-div")[0]){$("#admin-right").html("");if(mode=="admin/forms/live/add"){$("#admin-left").css("display","none");}else{$("#admin-left").css("display","table-cell");}var _d7e=mode.split("/");this.containerid=_d7e[0];for(var i=1;i<_d7e.length;i++){this.containerid+="-"+_d7e[i];}if(_d64){_d64=_d64.replace("/","-");_d7e=_d64.split(":");for(var i=0;i<_d7e.length;i++){this.containerid+="-"+_d7e[i];}}if(mode.indexOf("admin/")!=-1){this.containerid="admin-right";}$(".content").hide();$("#"+_d7d[0]+"-div").css("display","table");$(".setsel").removeClass();if(this.tabs[mode].setuptab){$($("#adminmenuopts").find("ul").children().get(this.tabs[mode].setuptab)).find("a").addClass("setsel");}$.post(this.tabs[mode].url,_d66,function(_d80){$("#admin-right").html(_d80);Layout.callbackfunction(mode,_d67,true);if(_d61){changeTab("#role_location_lt","role_location");}else{if(_d61!=undefined&&!_d61){changeTab("#employee_lt","employee");}}});}else{}}else{this.getPage(this.tabs[mode].url,_d66,_d64,mode,_d67);}}else{$("#navbar").removeClass("navAdmin");$("#peopletabs_subtabs").show();if(mode.indexOf("home/")!=-1||mode.indexOf("selfservice/")!=-1||mode.indexOf("timetracker/")!=-1||mode.indexOf("leavetracker/")!=-1){var tab=mode.split("/");$("#subtab_"+tab[0]).show();if($("#main_"+tab[0])[0]){$("#main_"+tab[0]).addClass("sel");}else{this.switchTab("main_"+tab[0]);}if(_d69){$("#form_"+_d69).addClass("selArw");}else{$("#form_"+tab[1]).addClass("selArw");}}else{if(mode.indexOf("departments/profile")!=-1||mode.indexOf("employees/profile")!=-1){$("#subtab_selfservice").show();$("#main_selfservice").addClass("sel");$("#form_directory").addClass("selArw");}else{if(mode.indexOf("employees/orgstructure")!=-1){var _d82=$("#form_orgstructure").parent();_d82.show();$("#form_orgstructure").addClass("selArw");var _d83=$("#form_orgstructure").parent().attr("id");_d83=_d83.replace("subtab_","main_");if($("#"+_d83)[0]){$("#"+_d83).addClass("sel");}else{this.switchTab(_d83);}}else{if(mode.indexOf("orgchart/employees")!=-1){var _d82=$("#form_emptree").parent();_d82.show();$("#form_emptree").addClass("selArw");var _d83=$("#form_emptree").parent().attr("id");_d83=_d83.replace("subtab_","main_");if($("#"+_d83)[0]){$("#"+_d83).addClass("sel");}else{this.switchTab(_d83);}}else{if(_d68){try{var _d83=$("#form_"+_d68).parent().attr("id");if($("#form_"+_d68)[0]){var _d82=$("#form_"+_d68).parent();_d82.show();$("#form_"+_d68).addClass("selArw");}else{var _d84=$("#more_"+_d68).parent().attr("id");_d84=_d84.replace("createsubformmenu_","subtab_");$("#"+_d84).show();_d83=_d84;this.switchForm(_d68,_d84);}_d83=_d83.replace("subtab_","main_");if($("#"+_d83)[0]){$("#"+_d83).addClass("sel");}else{this.switchTab(_d83);}}catch(e){}}}}}}this.getPage(this.tabs[mode].url,_d66,_d64,mode,_d67);}},getPage:function(url,_d86,_d87,mode,_d89){var _d8a=mode.split("/");this.containerid=_d8a[0];for(var i=1;i<_d8a.length;i++){this.containerid+="-"+_d8a[i];}if(_d87&&mode.indexOf("home/")==-1&&mode.indexOf("selfservice/")==-1){_d87=_d87.replace(/\//g,"-");_d8a=_d87.split(":");for(var i=0;i<_d8a.length;i++){this.containerid+="-"+_d8a[i];}}if($("#"+this.containerid)[0]){$(".content").hide();$("#"+this.containerid).css("display","table");this.callbackfunction(mode,_d89,false);}else{$.post(url,_d86,function(_d8c){if(_d8c=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);Layout.loadpage("home/dashboard");}else{_d8c="<div id=\""+Layout.containerid+"\" class=\"content\" style=\"display:table;\">"+_d8c+"</div>";$(".content").css("display","none");$("#contentdiv").append(_d8c);if(mode=="orgchart/employees"){var hei=$(window).height()-225;$("#contentdiv").find("#empTreeDiv").css("height",hei+"px");getOrgChartMemberDetails();}Layout.callbackfunction(mode,_d89,true);}});}},hidesubtabs:function(){$(".headList").hide();},callbackfunction:function(mode,_d8f,type){if(mode=="home/dashboard"){initdashboardwidgets("1","1","1","1");changeBirthdayDate();if(type){makequicklinksortable();}}else{if(mode=="home/approvals"){getWidgetPages("myApprovals","pending");}else{if(mode=="home/requests"){getWidgetPages("myRequests","approvedorrejected");}else{if(mode=="home/checklists"){$("#formSelectId").show();$(function(){var _d91=$(".dbtn");var l=_d91.length;for(var i=0;i<l;i++){addEvent(_d91[i],"click",showDDownMenuList);}});fetchPending("inprogress");}else{if(mode=="selfservice/profile"){profileActions.registerProfileActions();}else{if(mode=="selfservice/directory/employees"){setFocusForFirstElement("empsearch_autoparent");if(type){loadUserListPage(0);}this.populatSearchParams(window.location.hash);}else{if(mode=="selfservice/directory/departments"){setFocusForFirstElement("depsearch_autoparent");if(type){loadUserListPage(1);}this.populatSearchParams(window.location.hash);}else{if(mode=="selfservice/forms"){}else{if(mode=="selfservice/leave/leavereport"){}else{if(mode=="employees/orgstructure"){$.post("/people/GetDeptMembers.do",_d8f,function(_d94){$("#"+Layout.containerid).find("#deptMemberList").html(_d94);});}else{if(mode=="admin/userspermissions/inviteemployees"){setFocusForFirstElement("invemp_maindiv");}else{if(mode=="admin/announcements/new"){setTimeout("createEditor()",300);}else{if(mode=="home/announcements/new"){setTimeout("createEditor()",300);}else{if(mode=="admin/forms/mailalerts/new"){setTimeout("createEditor()",300);}else{if(mode=="home/announcements/edit"){setTimeout("createEditor()",300);}else{if(mode=="admin/announcements/edit"){setTimeout("createEditor()",300);}else{if(mode=="forms/live/add"){}else{if(mode=="admin/forms/live/add"){$("#priviewForm_admin").show();}else{if(mode=="admin/forms/approvals/edit"){setTimeout("createEditor()",300);}else{if(mode=="admin/forms/mailalerts/edit"){setTimeout("createEditor()",300);}else{if(mode=="admin/forms/mailalerts/list"){$("#alertformSelectId").show();}else{if(mode=="employees/profile"){employee_status();profileActions.registerProfileActions();}else{if(mode=="forms/live/edit"){$(document).click(function(_d95){hideQuickpopUps(_d95);});}else{if(mode=="view/live/list"&&!type){var _d96=$("#"+this.containerid).children("div");var _d97=$(_d96)[0];var _d98=$(_d96)[1];ZCView.changeViewDisplay(_d97,$(_d97).children("div#viewNamesDiv"),$(_d98).find("table#zpeople-listviewtable").parent("div"));}else{if(mode=="selfservice/leavecalendar"){NewCalendar.initCalendar(curyear,curmonth,"leave","leavemaindiv","populateleave");}else{if(mode=="admin/calendarsettings"){$("#weekstartsopt").val(weekstarts);$("#workweekfromopt").val(workweekfrom);$("#workweektoopt").val(workweekto);}else{if(mode=="subscription/plan"){PeoplePayment.REGISTERELEMENTS();}else{if(mode=="timetracker/reports"){$("#rUser").val(erecno);$("#jrUser").val(erecno);Timetracker.generateWeekReport();}else{if(mode=="timetracker/scheduler"){Scheduler.getSchedule();}else{if(mode=="timetracker/timesheet"){Timetracker.getTimesheet(true,"0",true);NewCalendar.initCalendar(curyear,curmonth,"timesheet","caldiv","Timetracker.populatetimesheet");}else{if(mode=="attendance/entry"){Attendance.Entry.getList();}else{if(mode=="attendance/import"){Attendance.Import.show();}else{if(mode=="attendance/report"){Attendance.Report.init();}else{if(mode=="attendance/settings"){Attendance.Settings.init();}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},commonLoadfn:function(){var _d99=(window.location.hash).substr(1);if(_d99){$.history.add(_d99);}else{$.history.add("home/dashboard");}},populatSearchParams:function(_d9a){var _d9b=_d9a.substring(_d9a.indexOf("-")+1,_d9a.length);var _d9c="";var _d9d="";var dept="";var _d9f="";var _da0="";var _da1="";var _da2="";var tags="";var _da4=0;if(_d9a=="#selfservice/directory/departments-search"){_da4=1;}if(_d9b.length>0){var _da5=_d9b.split("&");$.each(_da5,function(_da6,_da7){var _da8=_da7.split("=");var _da9=_da8[0];var _daa=_da8[1];if(_da9=="searchstring"){_d9c=_daa;}else{if(_da9=="startwith"){_d9d=_daa;}else{if(_da9=="department"){dept=_daa;}else{if(_da9=="title"){_d9f=_daa;}else{if(_da9=="nickname"){_da0=_daa;}else{if(_da9=="aboutme"){_da1=_daa;}else{if(_da9=="expertise"){_da2=_daa;}else{if(_da9=="tags"){tags=_daa;}else{if(_da9=="searchType"){_da4=parseInt(_daa);}}}}}}}}}});}sendSearchRequest(_da4,_d9c,_d9d,dept,_d9f,_da0,_da1,_da2,tags);},switchTab:function(_dab){var _dac=_dab.replace("main_","more_");var _dad=$("#"+_dac).attr("id");var _dae=$("#"+_dac).attr("href");var _daf=$("#"+_dac).text();var _db0=$("#main_tab").children().last().prev().attr("id");var _db1=$("#"+_db0).attr("id");var _db2=$("#"+_db0).children().last().attr("href");var _db3=$("#"+_db0).children().last().text();_dad=_dad.replace("more_","main_");$("#"+_db0).children().last().attr("href",_dae);$("#"+_db0).children().last().text(_daf);$("#"+_db0).attr("id",_dad);$("#"+_dad).addClass("sel");_db1=_db1.replace("main_","more_");$("#"+_dac).attr("href",_db2);$("#"+_dac).text(_db3);$("#"+_dac).attr("id",_db1);},switchForm:function(_db4,_db5){var _db6="more_"+_db4;var _db7=$("#"+_db6).attr("id");var _db8=$("#"+_db6).attr("href");var _db9=$("#"+_db6).text();var _dba=$("#"+_db5).children().last().prev().prev().prev().attr("id");var _dbb=$("#"+_dba).attr("id");var _dbc=$("#"+_dba).children().last().attr("href");var _dbd=$("#"+_dba).children().last().text();_db7=_db7.replace("more_","form_");$("#"+_dba).children().last().attr("href",_db8);$("#"+_dba).children().last().text(_db9);$("#"+_dba).attr("id",_db7);$("#"+_db7).addClass("selArw");_dbb=_dbb.replace("form_","more_");$("#"+_db6).attr("href",_dbc);$("#"+_db6).text(_dbd);$("#"+_db6).attr("id",_dbb);},getCookieValue:function(name){return this.peopleCookie[name];},setinCookie:function(name,_dc0,_dc1){this.peopleCookie[name]=_dc0;var _dc2=new Date();_dc2.setDate(_dc2.getDate()+_dc1);var _dc3=escape(_dc0)+((_dc1==null||!_dc1)?"":"; expires="+_dc2.toUTCString());document.cookie=name+"="+_dc0;},showSmsg:function(msg){if(this.stimer){clearTimeout(this.stimer);}$("#zpeople_successmsg").html(msg);$("#zpeople_successmsg").show();setTimeout("$(\"#zpeople_successmsg\").hide()",6000);},showWmsg:function(msg){if(this.wtimer){clearTimeout(this.wtimer);}$("#zpeople_warningmsg").html(msg);$("#zpeople_warningmsg").show();setTimeout("$(\"#zpeople_warningmsg\").hide()",6000);},showFmsg:function(msg){if(this.ftimer){clearTimeout(this.ftimer);}$("#zpeople_failuremsg").html(msg);$("#zpeople_failuremsg").show();setTimeout("$(\"#zpeople_failuremsg\").hide()",6000);}};var TEXT=1;var TEXT_AREA=3;var EMAIL_ADDRESS=4;var NUMBER=5;var CURRENCY=6;var PHONE_NUMBER=8;var CHECK_BOX=9;var DATE=10;var PLAIN_TEXT=14;var SCRIPT=15;var FLOAT=16;var FROMTO=17;var FILE_UPLOAD=18;var DECIMAL=19;var IMAGE=20;var URL=21;var DATE_TIME=22;var IN_ZC=1;var BUTTON_TYPE=61;var SUBMIT_TYPE=62;var RESET_TYPE=63;var CANCEL_TYPE=64;var PICK_LIST=100;var RADIO=101;var LIST=102;var CHECK_BOXES=103;var IMPORT_DATA=104;var LOOKUP=26;var PICKLIST=25;var P_SECTION=30;var TABULAR_SECTION=31;var PAGE_TYPE="";var FORM_RECORD_VIEWMODE=4;var BLOODGROUP=27;var GENDER=28;var COUNTRY=29;var currentTabId="";var RECEDIT=3;var notesOpen=false;function getmodule(_dc7,_dc8,id1,id2){if(_dc7 in {"formname":"","dashboard":"","myprofile":"","myorganisation":"","test7":""}){ajaxForRightBand(_dc7,_dc8,id1,id2);}if(_dc7 in {"checklist":"","test8":"","test9":"","test10":""}){ajaxForCenterBand(_dc7,_dc8,id1,id2);}if(_dc7 in {"forms":"","admin":"","test9":"","test8":""}){ajaxForLeftBand(_dc7,_dc8,id1,id2);}highlightHeading(_dc7,_dc8);}$(document).ready(function(_dcb){$("#sub_band_dashboard div li").click(function(){$(this).addClass("sel").siblings().removeClass("sel");var _dcc=$(this).parent().attr("modulename");var _dcd=$(this).attr("submodule");getmodule(_dcc,_dcd,"","");});});function getSettings(_dce){var _dcf="/people/getSettings.do";var _dd0="";var _dd1=window.location.href;if(_dce!="empsearch"&&_dce!="deptsearch"){showhideprogressbar(true);}switch(_dce){case "settingsPage":window.location.href="/people/#admin/home";return;case "formSettings":window.location.href="/people/#admin/forms/list";return;case "formListQuickView":window.location.href="/people/#selfservice/forms";return;case "configureRoles":window.location.href="/people/#admin/userspermissions/roles";return;case "securityPage":window.location.href="/people/#admin/userspermissions/forms";return;case "globalPermission":window.location.href="/people/#admin/userspermissions/global";return;case "configureModules":window.location.href="/people/admin/modules";return;case "generalSettings":window.location.href="/people/admin/settings/general";return;case "inviteEmps":_dcf="/people/#admin/userspermissions/inviteemployees";window.location.href=_dcf;return;case "announcement":_dcf="/people/getAdminAnnouncement.do?";var url=_dcf+_dd0;$.get(url,function(data){changecontentdiv("R_content");$("#admin-right").html(data);});return;case "importexport":window.location.href="/people/#admin/importexporthistory";return;case "dummyemployees":getUserListingByType("4");return;break;case "adduser":getUserListingByType("7");return;break;case "adddummyemployee":_dcf="/people/#admin/nonusers/add";window.location.href=_dcf;return;case "empsearch":clearRefineCriteria();if(_dd1.indexOf("directory/employees-home")==-1){showhideprogressbar(true);}window.location.href="/people/#selfservice/directory/employees-home";return;case "deptsearch":if(_dd1.indexOf("directory/departments-search")==-1){showhideprogressbar(true);}window.location.href="/people/#selfservice/directory/departments-search";return;}$.post(_dcf,_dd0,function(data){$("#"+Layout.containerid).html(data);});}function getSubscription(){var _dd5="/people/#subscription/plan";showhideprogressbar(true);window.location.href=_dd5;return;}function ajaxForLeftBand(_dd6,_dd7,id1,id2){var _dda="";var _ddb="";var _ddc="";var _ddd="";if(_dd6=="admin"){_dda="/people/getAdminDetails.do";_ddb="/people/getAdminMenu.do";_ddc="type="+_dd7;_ddd="type="+_dd7;}else{if(_dd6=="forms"){if(id1==""){_dda="/people/jsp/Forms.jsp";_ddb="/people/jsp/blank.jsp";}else{params="formid="+id1;if(_dd7=="addform"){}else{_ddb="/people/ShowFormEdit.do";}}}else{if(_dd7="newform"){url="/people/newform.do";}}}$.post(_dda,_ddc,function(data){changecontentdiv("L_content");$("#Lcont_contL").html(data);});$.post(_ddb,_ddd,function(data){$("#Lcont_contR").html(data);$("#Lcont_contR div div p").click(function(){var _de0=$(this).attr("inner_type");var type=$(this).parent().attr("type");if(_de0!=null){$.post("/people/getAdminDetails.do",{"type":type,"inner_type":_de0},function(data){changecontentdiv("L_content");$("#Lcont_contL").html(data);});}});});}function changecontentdiv(_de3){var ids=new Array("C_content","R_content","L_content");var _de5="#Lcont_contL,#Lcont_contR,#Rcont_contL,#Rcont_contR";if(_de3=="C_content"){$(_de5).html("");}else{if(_de3=="R_content"){var _de5="#C_content,#Lcont_contL,#Lcont_contR";$(_de5).html("");}else{if(_de3=="L_content"){var _de5="#C_content,#Rcont_contL,#Rcont_contR";$(_de5).html("");}}}for(var i=0;i<ids.length;i++){var obj=$("#"+ids[i]);if(_de3==ids[i]){$(obj).css("display","");}else{$(obj).css("display","none");}}}function highlightHeading(_de8,_de9){var ids=new Array("dashboard","myprofile","myorganisation","leave","forms","checklist","admin");for(var i=0;i<ids.length;i++){var obj=$("#_"+ids[i]);var _ded=$("#_sub_"+ids[i]);if(_de8==ids[i]){obj.className="sel";_ded.className="";}else{obj.className="";_ded.className="dn";}}var _dee;if(_de8=="dashboard"){_dee=new Array("getting_started","feedback","my_account","upgrade_plan");}else{if(_de8=="myprofile"){_dee=new Array("profile","link1","link2","link3");}else{if(_de8=="myorganisation"){_dee=new Array("organisation","link4","link5","link6");}else{if(_de8=="leave"){_dee=new Array("leavedetails","link7","link8","link9");}else{if(_de8=="forms"){_dee=new Array("formdetails","link10","link11","link12");}else{if(_de8=="checklist"){_dee=new Array("mychecklist","link13","link14","link15");}else{if(_de8=="admin"){_dee=new Array("set_up","admin_organisation","admin_leave");}}}}}}}for(var j=0;j<_dee.length;j++){var _df0=$("#_"+_dee[j]);if(_de9==_dee[j]){_df0.className="sel";}else{_df0.className="";}}}function gettab(_df1){if(_df1=="dashboard"){showHideSubBand("_dashboard","dashboard_sub_band");}else{if(_df1=="myprofile"){showHideSubBand("_myprofile","myprofile_sub_band");}else{if(_df1=="myorganisation"){showHideSubBand("_myorganisation","myorg_sub_band");}else{if(_df1=="leave"){showHideSubBand("_leave","leave_sub_band");}else{if(_df1=="forms"){showHideSubBand("_forms","forms_sub_band");}else{if(_df1=="checklist"){showHideSubBand("_checklist","checklist_sub_band");}else{if(_df1=="admin"){showHideSubBand("_admin","admin_sub_band");}}}}}}}var _df2=$("#sub_band_dashboard div:not([class=dn]) li[class=sel]").attr("submodule");getmodule(_df1,_df2,"","");}function showHideSubBand(_df3,_df4){$("#"+_df4).removeClass().siblings().addClass("dn");$("#headlist_ul").find("a").removeClass();$("#"+_df3).addClass("sel");}function checkEmailSyntax(_df5){var re=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(!re.test(jQuery.trim(_df5))){return false;}else{return true;}}function openDialog(id){$("#"+id).show();$("#"+id).dialog({modal:true,width:400,resizable:false});}function closeDialog(id){var obj=$("#"+id);obj.dialog("close");}function openChangeLogo(){$("#ImageUploadcs").show();$("#companylogo").val("");}function saveCompanyLogo(){var _dfa=$("#imageValue").val();var _dfb=_dfa.lastIndexOf(".");var _dfc=_dfa.substring(_dfb+1,_dfa.length);var _dfd={"jpg":"","jpeg":"","png":"","gif":"","JPG":""};if(!(_dfc in _dfd)){var msg=i18n.imageextensionnotsupported;msg=msg.replace("$imgextension",_dfc);alert(msg);}else{$("#companyLogo").submit();}}function openphoto(_dff){window.open("/people/viewPhoto?filename="+_dff,"Photo","wscreenX=5,screenY=5,dependent=yes,resizable=yes,scrollbars=yes,width=880,height=840");}function updateCompanyLogo(_e00,_e01){if(_e00=="error"){alert(_e01);}else{var _e02=$("#ImageUploadcs").parent();var _e03=$("#topcompanylogo");var _e04=$(_e03).children().get(0);$(_e04).attr("src","/people/viewPhoto?filename="+_e01);var _e05=$("#logoid",_e02).children().get(0);$(_e05).attr("fileName",_e01);var _e06=$(_e05).attr("deflogo","false");var _e07=$(_e05).children().get(0);$(_e07).attr("src","/people/viewPhoto?filename="+_e01);$("#ImageUploadcs",_e02).css("display","none");}}function gettab(_e08){if(_e08=="dashboard"){showHideSubBand("_dashboard","dashboard_sub_band");}else{if(_e08=="myprofile"){showHideSubBand("_myprofile","myprofile_sub_band");}else{if(_e08=="myorganisation"){showHideSubBand("_myorganisation","myorg_sub_band");}else{if(_e08=="leave"){showHideSubBand("_leave","leave_sub_band");}else{if(_e08=="forms"){showHideSubBand("_forms","forms_sub_band");}else{if(_e08=="checklist"){showHideSubBand("_checklist","checklist_sub_band");}else{if(_e08=="admin"){showHideSubBand("_admin","admin_sub_band");}}}}}}}var _e09=$("#sub_band_dashboard div:not([class=dn]) li[class=sel]").attr("submodule");getmodule(_e08,_e09,"","");}function showHideSubBand(_e0a,_e0b){$("#"+_e0b).removeClass().siblings().addClass("dn");$("#headlist_ul").find("a").removeClass();$("#"+_e0a).addClass("sel");}function generateFormPages(_e0c,id,_e0e,_e0f,_e10,_e11,_e12){var _e13="";var _e14="";var _e15="pageType="+_e0c+"&formName="+_e0e+"&formId="+id+"&viewId="+_e0f+"&formDisplayName="+_e12;var _e16="formName="+_e0e+"&formId="+id;if(_e0c=="form_LiveViewMode"){_e16="viewID="+_e0f;if(_e10!=null){var _e17=_e10.split(",");if(_e17[0]!=null&&_e17[0]!=""&&(_e17[0]=="self"||_e17[0]=="mydep"||_e17[0]=="all")){_e16+="&typeOfView="+_e17[0];}if(_e17[1]!=null&&_e17[1]!=""){_e16+="&approvalStatus="+_e17[1];}}_e14="/people/liveViewHeader.do";ajaxForCenterBand(_e14,_e16);return;}else{if(_e0c=="form_LiveMode"){_e16="formid="+id+"&"+csrfParamName+"="+csrfToken;_e14="/people/LiveFormHeader.do";ajaxForCenterBand(_e14,_e16);return;}else{if(_e0c=="form_RecordEdit"||_e0c=="form_RecordView"){_e16="formid="+id+"&recPkID="+_e11+"&"+csrfParamName+"="+csrfToken;if(_e0c=="form_RecordView"){_e16+="&formAccessType="+FORM_RECORD_VIEWMODE;if(_e10!=null){_e16+="&isEmpInvite="+_e10;}}_e14="/people/LiveFormHeader.do";ajaxForCenterBand(_e14,_e16);return;}else{if(_e0c=="form_RecordHistory"){_e16="formid="+id+"&pkId="+_e11;_e14="/people/AuditField.do";ajaxForGetCenterBand(_e14,_e16);return;}else{if(_e0c=="form_EditMode"){_e16="formId="+id;_e14="/people/ShowFormEdit.do";ajaxForCenterBand(_e14,_e16);return;}else{if(_e0c=="form_EditViewMode"){_e16="viewLinkId="+_e0f;_e14="/people/showviewedit.do";ajaxForRightBand(_e0c,_e14,_e16);return;}else{if(_e0c=="mail_alert"){_e16=(id=="all")?"formId=0&fetchAll=true&oprType=fetch_all_mail_alert"+"&"+csrfParamName+"="+csrfToken:"formId="+id+"&oprType=fetch_all_mail_alert"+"&"+csrfParamName+"="+csrfToken;_e14="/people/fetchMailAlertList.do";ajaxForRightBand(_e0c,_e14,_e16);return;}else{if(_e0c=="approvals_list"){_e16="formId=0&fetchAll=true&oprType=fetch_all_approval"+"&"+csrfParamName+"="+csrfToken;_e14="/people/fetchMailAlertList.do";ajaxForRightBand(_e0c,_e14,_e16);return;}else{if(_e0c=="approval_view"){_e16="formId="+id+"&oprType=edit_mail_alert&isApproval="+true+"&isViewConfig="+true+"&"+csrfParamName+"="+csrfToken;_e14="/people/mailAlert.do";loadandinitmailalertpage(_e14,_e16,"view");return;}else{if(_e0c=="approval_edit"){_e16="formId="+id+"&oprType=edit_mail_alert&isApproval="+true+"&isViewConfig="+false+"&"+csrfParamName+"="+csrfToken;_e14="/people/mailAlert.do";loadandinitmailalertpage(_e14,_e16,"edit");return;}else{if(_e0c=="checklist"){_e16="oprType=all_checklist";_e14="/people/fetchAllChecklist.do";ajaxForGetRightBand(_e0c,_e14,_e16);return;}else{if(_e0c=="import_data"){_e16="formId="+id+"&dummy=false";_e14="/people/empImport.do";ajaxForGetCenterBand(_e14,_e16,_e0c);return;}else{if(_e0c=="import_data_dummy"){_e16="formId="+id+"&dummy=true";_e14="/people/empImport.do";ajaxForGetCenterBand(_e14,_e16,_e0c);return;}else{if(_e0c=="import_data_users"){_e16="formId="+id+"&inviteusers=true";_e14="/people/empImport.do";ajaxForGetCenterBand(_e14,_e16,_e0c);return;}}}}}}}}}}}}}}$.post(_e14,_e16,function(data){if(_e0c=="form_EditMode"){var temp="<div class='contTop'><h1><a href='#'>"+_e0e+"</a> <span>&raquo; <em>Customize</em></span></h1></div>";$("#Rcont_contR").html(temp+data);}else{$("#Rcont_contR").html(data);}});}function generateOtherLinks(_e1a){if(_e1a=="checklist"){allChecklist();return;}}function generateCreateNewPages(_e1b,_e1c,_e1d,_e1e,_e1f){var _e20="";var _e21="";if(_e1b=="newViewPage"){if(_e1e){_e21="formId="+_e1c+"&formName="+_e1d+"&tabId="+_e1f;_e20="/people/newView.do";}else{showhideprogressbar(true);window.location.href="/people/#view/live/new-formId:"+_e1c;return;}}else{if(_e1b=="newFormPage"){if(_e1e){_e21="tabId="+_e1c+"&tabName="+_e1d;_e20="/people/newform.do";}else{showhideprogressbar(true);window.location.href="/people/admin/forms#new";return;}}}changecontentdiv("R_content");$.get(_e20,_e21,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#"+Layout.containerid).html(data);}});}function ajaxForCenterBand(url,_e24,_e25){$.post(url,_e24,function(data){$("#"+Layout.containerid).html(data);});}function loadandinitmailalertpage(url,_e28,type){changecontentdiv("R_content");$.post(url,_e28,function(data){$("#Rcont_contR").html(data);if(type=="edit"){var _e2b="richtext";var _e2c="";_e2c={id:"templatecomposetextarea",mode:_e2b,content:$("#templatemailtextarea").val()};editor=ZE.create(_e2c);}});}function ajaxForRightBand(_e2d,url,_e2f){$.post(url,_e2f,function(data){$("#"+Layout.containerid).html(data);});}function showSwitchToDiv(e,obj){stopEventPropagation(e);var _e33=$("#switchToDiv");var _e34="dropDownClass=zappsdnarrow"+"&"+csrfParamName+"="+csrfToken;$.post("/people/switchto",_e34,function(data){_e33.html(data).show();_e33.css("left",$(obj).position().left-224);_e33.css("top",$(obj).position().top-3);});$(document).click(function(){_e33.hide();});}function ProcessingImage(){var _e36=document.getElementById("Processing");var _e37=document.getElementById("UpdateCancelImage");if(_e36){_e36.style.display="block";_e37.style.display="none";}}function updateCompanySettings(){var _e38="";var _e39=$("form[name=company_settings]").serializeArray();var _e3a=$("form[name=company_settings] input[name=cname]").val().trim();var _e3b=$("#from_mailids option:selected");var _e3c=$("form[name=company_settings] input[name=Ademail]").val().trim();var _e3d=$("#superadmin_mailids option:selected");var _e3e=_e3d.attr("id");var _e3f=_e3b.attr("value");var _e40="";$("form[name=company_settings]").find("div[errmsg]").css("display","none");$("#comSetErrorDiv").hide();if(_e3a.length==0){_e40=i18n.organizationemptymsg;$("form[name=company_settings]").find("div[errmsg='cname']").html(_e40);$("form[name=company_settings]").find("div[errmsg='cname']").css("display","");}if(_e3f==null||_e3f.trim().length<=0){_e40=i18n.validadminmailid;$("form[name=company_settings]").find("div[errmsg='frommail']").html(_e40);$("form[name=company_settings]").find("div[errmsg='frommail']").css("display","");}if(!testEmailStringSyntax(_e3c)){_e40=i18n.validadminmailid;$("form[name=company_settings]").find("div[errmsg='adminmail']").html(_e40);$("form[name=company_settings]").find("div[errmsg='adminmail']").css("display","");}if(_e3e==null||_e3e.trim().length<=0){_e40=i18n.validadminmailid;$("form[name=company_settings]").find("div[errmsg='sadminmsg']").html(_e40);$("form[name=company_settings]").find("div[errmsg='sadminmsg']").css("display","");}if(_e40==""){jQuery.each(_e39,function(i,_e42){_e39[i].value=$.trim(_e42.value);});_e38=$.param(_e39);$.ajax({type:"POST",url:"/people/UpdateCompanySetting.do",data:_e38,success:function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _e44=data.toString();var _e45=_e44.indexOf("Error:");var errs=$(data).find("#errorDiv").length;if(_e45!=-1){var _e47=_e44.indexOf("AdminError:")!=-1?"adminmail":"frommail";var _e48=_e44.substring(data.toString().indexOf(":")+1,data.toString().length);$("form[name=company_settings]").find("div[errmsg="+_e47+"]").html(_e48);$("form[name=company_settings]").find("div[errmsg="+_e47+"]").css("display","");}else{if(errs>0){window.location.reload();}else{showSuccessMessage(i18n.tabcustomizationupdatedmessage);}}}},error:function(data){var _e4a=data.responseText;var _e4b=_e4a.substring(_e4a.indexOf("error:")+6);var _e4c=JSON.parse(_e4b);var _e4d=$("[name="+_e4c["paramName"]+"]").parent().prev();alert(i18n.securityerrormsg.replace("$displayname",$(_e4d).find("label").html().replace(/:$/g,"")));}});}else{$("#comSetErrorDiv").show();var _e4e=$("form[name=company_settings]").find("div[errmsg]:visible")[0];if(_e4e){$(_e4e).parent("td").find("input").focus();}}}function changeHeaderCSS(){$("#header").css({"background-color":"","position":"","width":"","z-index":""});}function hideAllMenu(e){try{if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(e);}var _e50=$("div[id='listViewButtonDiv'][class='clickDropDown']");_e50.each(function(){var _e51=$(this);_e51.removeClass();_e51.addClass("normalDropDown");});$("#fieldOptionsdiv").hide();$("#moreActionsDiv").hide();_e50=$(".proCls");_e50.each(function(){var _e52=$(this).find("span[btype='close']");if($(_e52).length==0||$(_e52).css("display")=="none"){$(this).addClass("proTop");$(this).removeClass("proCls");}});$("#"+Layout.containerid).find("#orgstructure").hide();$("#zc-component").removeAttr("style");}catch(err){}}function hideOnlyHeaderMenus(){try{var _e53=$("div[class='clickDropDown']");_e53.each(function(){var _e54=$(this);_e54.removeClass();_e54.addClass("normalDropDown");});$("#fieldOptionsdiv").hide();$("#moreActionsDiv").hide();}catch(err){}}function showFieldList(_e55,_e56,e){if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(e);}else{hidePopupDiv(e);}$(_e55).parent().removeClass();$(_e55).parent().addClass("clickDropDown");$(_e55).parent().find(".dropDownMenu").css("display","");stopEventPropagation(e);}function stopEventPropagation(e){if(e.stopPropagation){e.preventDefault();e.stopPropagation();}else{e.cancelBubble=true;}}function showPage(_e59){switch(_e59){case "self-service/profile":case "self-service/profile/edit":$("#C_content").css("display","");selectTopMenus("Profile");break;case "employees":$("#C_content").css("display","");selectTopMenus("directory");break;case "admin":$("#C_content").css("display","");selectTabsforSetup();break;case "home":case "home/dashboard":$("#C_content").css("display","");selectTopMenus("Dashboard");break;case "home/myapprovals":$("#L_content").css("display","");$("#Lcont_contL").addClass("dn");selectTopMenus("MyApprovals");break;case "home/myrequests":$("#L_content").css("display","");$("#Lcont_contL").addClass("dn");selectTopMenus("MyRequests");break;case "home/announcements":$("#L_content").css("display","");$("#Lcont_contL").addClass("dn");selectTopMenus("Announcements");break;case "home/checklists":$("#L_content").css("display","");$("#Lcont_contL").addClass("dn");selectTopMenus("mychecklists");break;case "home/checklist/record/view":$("#L_content").addClass("dn");selectTopMenus("mychecklists");break;case "self-service/forms":$("#L_content").css("display","");selectTopMenus("form");break;case "admin/checklists":setClassforAdminContent();selectadminmenuopts("checkList");break;case "admin/announcements":setClassforAdminContent();selectadminmenuopts("announcementsmenu");break;case "admin/forms":setClassforAdminContent();selectadminmenuopts("customizeFrm");break;case "admin/settings":$("#R_content").css("display","");selectTabsforSetup();break;case "admin/security":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/setuporg":case "admin/department/add":case "admin/department/edit":case "admin/designation/add":case "admin/designation/edit":case "admin/setuporg/departments":case "admin/setuporg/designations":case "admin/setuporg/department/view":case "admin/setuporg/designation/view":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/setuporg/companysettings":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/setuporg/inviteemployees":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/setuporg/users":case "admin/setuporg/userslisting":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/security/roles":case "admin/security/forms":case "admin/security/global":setClassforAdminContent();break;case "admin/settings/general":case "admin/settings/leave":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/settings/leave/holidays":case "admin/leave/generateleavereport":case "admin/leave/dayleavereport":case "admin/settings/leave/leavetype":case "admin/settings/leave/leavereport":case "admin/leavetype/manageleavetype":case "admin/holidays/add":case "admin/holidays/edit":case "admin/leavetype/add":case "admin/leavetype/edit":$("#C_content").css("display","");selectTabsforSetup();break;case "self-service/leave/leavereport":$("#C_content").css("display","");selectTopMenus("leavereport");break;case "admin/dummyemployees/list":case "admin/dummyemployees/add":case "admin/dummyemployees/migrate":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/modules":case "admin/importexporthistory":$("#C_content").css("display","");selectTabsforSetup();break;case "forms/import/uploadfile":case "forms/import/importdata":case "forms/import/mapfields":$("#C_content").css("display","");break;case "forms/embed":case "view/live/new":$("#R_content").css("display","");break;case "admin/forms/mailalerts":setClassforAdminContent();selectadminmenuopts("mailAlert");break;case "view/edit":$("#R_content").css("display","");$("#Rcont_contR").addClass("fpage");$("#Rcont_contL").addClass("dn");break;case "view/live/list":$("#C_content").css("display","");break;case "admin/forms/approvals":setClassforAdminContent();selectadminmenuopts("approval");break;case "admin/forms/embed":setClassforAdminContent();selectadminmenuopts("embedinWeb");break;case "forms/edit":case "view/live/detail":case "forms/live/add":case "forms/live/edit":case "view/live/history":$("#C_content").css("display","");break;case "admin/forms/import/uploadfile":case "admin/forms/import/importdata":case "admin/forms/import/mapfields":case "admin/dummyemployees/import":case "admin/inviteemployees/import":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/view/live/new":$("#R_content").css("display","");selectTabsforSetup();break;case "admin/view/edit":$("#R_content").css("display","");$("#Rcont_contR").addClass("fpage");selectTabsforSetup();break;case "admin/view/live/list":$("#C_content").css("display","");selectTabsforSetup();break;case "admin/forms/edit":case "admin/view/live/detail":case "admin/forms/live/add":case "admin/forms/live/edit":case "admin/view/live/history":$("#C_content").css("display","");selectTabsforSetup();break;case "employees/orgstructure":$("#C_content").css("display","");selectFormMenus(null,null,"orgstructure");break;default:if(_e59.indexOf("self-service/profile")!=-1||_e59.indexOf("self-service/employee/profile")!=-1){$("#C_content").css("display","");selectTopMenus("Profile");break;}if(_e59.indexOf("admin/security/forms")!=-1){setClassforAdminContent();break;}if(_e59.indexOf("departments/profile")!=-1){$("#C_content").css("display","");$("#peopletabs_subtabs").find("a[level2name=directory]").show();selectTopMenus("directory");break;}if(_e59.indexOf("employees/profile")!=-1){$("#C_content").css("display","");$("#peopletabs_subtabs").find("span[level2name=directory]").show();$("#peopletabs_maintabs").find("a[level1name=directory]").show();selectTopMenus("directory");break;}if(_e59.indexOf("employees/search")!=-1||_e59.indexOf("departments/search")!=-1||_e59.indexOf("employees/directory")!=-1||_e59.indexOf("departments/directory")!=-1){selectTopMenus("directory");$("#empSearchBox").parent("div.dropSearch").addClass("focus");break;}$("#C_content").css("display","");break;}}function loadFormAndViewPages(_e5a,id1,id2,id3,id4){switch(_e5a){case "formEdit":window.location.href="/people/#admin/forms/edit-formId:"+id1;break;case "liveView":var _e5f=window.location.href;$("#view-live-list-viewId-"+id1+"-formId-"+id2).remove();if(id4!=null){var _e60=_e5f.indexOf("self");var _e61=_e5f.indexOf("mydep");if(_e60!=-1){id3="self";}else{if(_e61!=-1){id3="mydep";}else{id3="all";}}window.location.href="/people/#view/live/list-viewId:"+id1+"/formId:"+id2+"/typeOfView:"+id3+"/approval:"+id4;}else{if(id3!=null&&id3!=""){var _e62=_e5f.indexOf("pending");var _e63=_e5f.indexOf("rejected");var _e64=_e5f.indexOf("approved");if(_e64!=-1){id4="approved";}else{if(_e63!=-1){id4="rejected";}else{if(_e62!=-1){id4="pending";}else{id4="all";}}}window.location.href="/people/#view/live/list-viewId:"+id1+"/formId:"+id2+"/typeOfView:"+id3+"/approval:"+id4;}else{window.location.href="/people/#view/live/list-viewId:"+id1+"/formId:"+id2;}}break;case "formLive":window.location.href="/people/#forms/live/add-formId:"+id1;break;case "form_RecordEdit":window.location.href="/people/#forms/live/edit-formId:"+id1+"/recordId:"+id2;break;case "form_RecordView":window.location.href="/people/#view/live/detail-formId:"+id1+"/recordId:"+id2;break;case "form_import":window.location.href="/people/forms/import/uploadfile#formId:"+id1;break;case "mail_alert":if(id1=="0"){window.location.href="/people/#admin/forms/mailalerts/list";}else{window.location.href="/people/#admin/forms/mailalerts/list-formId:"+id1;}break;case "mail_alert_add":window.location.href="/people/#admin/forms/mailalerts/new-formId:"+id1;break;case "mail_alert_edit":window.location.href="/people/#admin/forms/mailalerts/edit-formId:"+id1+"/mailTemplateId:"+id2;break;case "approval_view":window.location.href="/people/#admin/forms/approvals/view-formId:"+id1;break;case "approval_edit":id2=id2==null?0:id2;window.location.href="/people/#admin/forms/approvals/edit-formId:"+id1+"/mailTemplateId:"+id2;break;case "editView":$("#view-edit-viewId-"+id1+"-formId-"+id2).remove();window.location.href="/people/#view/edit-viewId:"+id1+"/formId:"+id2;break;case "customizeView":customizeView(id1,id2,id3);break;case "form_embed":window.location.href="/people/#admin/forms/embed-formId:"+id1;break;case "import_data_dummy":window.location.href="/people/admin/dummyemployees/import#formId:"+id1;break;case "checklists":window.location.href="/people/#admin/checklists/list";break;case "checklists_edit":window.location.href="/people/#admin/checklists/edit-id:"+id1;break;case "checklists_view":var hash=window.location.hash;if(hash!=null){var _e66=hash.split(":");if(_e66[0]=="#view"){window.location.reload();break;}}window.location.href="/people/#admin/checklists/view-id:"+id1;break;case "record_history":window.location.href="/people/#view/live/history-formId:"+id1+"/recordId:"+id2;break;case "announcements_list":window.location.href="/people/#home/announcements";return;case "admin_announcements_list":window.location.href="/people/#admin/announcements/list";return;case "announcements_add":window.location.href="/people/#admin/announcements/new";return;case "announcements_edit":window.location.href="/people/#admin/announcements/edit-id:"+id1;return;case "dummyemployee_migrate":window.location.href="/people/#admin/dummyemployees/migrate/employee-id:"+id1;return;case "profileEdit":window.location.href="/people/#forms/live/edit-formId:"+id1+"/recordId:"+id2;break;case "holidays":showhideprogressbar(true);window.location.href="/people/#admin/leave/holidays";break;case "leaveSettings":showhideprogressbar(true);window.location.href="/people/#admin/settings/leave";break;case "leaveType":showhideprogressbar(true);window.location.href="/people/#admin/leave/manageleavetype";break;case "departments":showhideprogressbar(true);window.location.href="/people/#admin/setuporganization/departments";break;case "designations":showhideprogressbar(true);window.location.href="/people/#admin/setuporganization/designations";break;}}function setClassforAdminContent(){$("#Rcont_contR").addClass("frNew");$("#Rcont_contR").removeClass("fn");$("#Rcont_contL").removeClass("fr");$("#Rcont_contL").addClass("fl");$("#R_content").css("display","");selectTabsforSetup();}function getCurrentUrlContext(){var _e67=window.location.href;var spos=_e67.indexOf("/people/");var epos=_e67.indexOf("#");if(epos==-1){epos=_e67.indexOf("?");}if(epos==-1){epos=_e67.length;}var _e6a=_e67.substring((spos+8),epos);return _e6a;}function getCurrentUrlHash(){var _e6b=window.location.href;var _e6c=_e6b.split("#")[1];return _e6c;}function initdashboardwidgets(_e6d,_e6e,_e6f,_e70){if(_e6d==1){var _e71="isAjax="+true+"&isDashBoardWidget="+true;$.get("/people/getAnnouncement.do",_e71,function(data){$("#dashboard_announcements").find("ul").html(data);});}if(_e6e==1){_e71="pType=myApprovals&statusOpt=pending&startIndex=1&isAjax=true&isDashBoardWidget=true";$.get("/people/getApprovals.do",_e71,function(data){$("#dashboard_approvals").find("ul").html(data);});}if(_e6f==1){_e71="wffilter=inprogress&isDashBoardWidget=true";$.get("/people/Pending.do",_e71,function(data){var _e75=$(data);var _e76=$(_e75).find("#widgettasks").html();$("#dashboard_checklisttasks").find("ul").html(_e76);var _e77=0;$("#dashboard_checklisttasks").find("li").each(function(){_e77+=$(this).height()+8;if(_e77>185){$(this).css("display","none");}});});}if(_e70==1){getEmpHires(1,true);}}function makeWidgetsEditable(type,elm,ev){if(type=="edit"){$("#dashboard_maindiv").addClass("dashEdit");$(elm).siblings("span[btype=customize]").css("display","none");$(elm).css("display","none");$(elm).siblings("span[btype=close]").css("display","");$(elm).parent("div.proTop").removeClass("proTop").addClass("proCls");$(".sotDB").sortable({handle:"h2",placeholder:"ui-state-highlight",update:function(){var _e7b=$("#dashboard_maindiv").find("div.sotDB").sortable("toArray");var _e7c=new Array();$.each(_e7b,function(ind,_e7e){_e7c[ind]=$("#"+_e7e).attr("operids");});var _e7f="layoutIds="+_e7c+"&"+csrfParamName+"="+csrfToken;$.post("/people/ReorderDashboard.do",_e7f,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);window.location.reload();}});}});$(".sotDB").sortable({start:function(_e81,ui){var _e83=ui.item;if($(_e83).hasClass("dashBoxann")){$("div.ui-state-highlight").css("width","905px");var _e84=$(_e83).children(".dashBoxinner").height();$("div.ui-state-highlight").css("min-height",(_e84+7)+"px");}}});}else{if(type=="close"){$(elm).siblings("span[btype=edit]").css("display","");$(elm).css("display","none");$(elm).siblings("span[btype=customize]").css("display","");$(elm).parent("div.proCls").removeClass("proCls").addClass("proTop");$("#dashboard_maindiv").removeClass("dashEdit");$(".sotDB").sortable("destroy");}}stopEventPropagation(ev);}function makeWidgetVisible(elm,opt,ev){if(opt=="qlinks"){$(elm).removeClass("proTop");$(elm).addClass("proCls");}else{if($(elm).attr("class")=="proTop"){$(elm).removeClass("proTop");$(elm).addClass("proCls");}}stopEventPropagation(ev);}function getEmpHires(_e88,_e89){var _e8a="startlimit="+_e88+"&isNext="+_e89;$.get("/people/EmpNewHires.do",_e8a,function(data){$("#dashboard_empnewjoinees").find("ul").html(data);});}function setFocusForFirstElement(_e8c){var _e8d=$("#"+_e8c).find("[firstElement=true]");if(_e8d){$(_e8d).focus();}}function loadtabformmenus(_e8e,_e8f){var _e90="";var _e91=$("#allTabsMenuLi");var _e92=$("#allFormsMenuLi");if(_e8f.indexOf("/self-service")!=-1){_e90="";}else{if(_e8f.indexOf("/employees/orgstructure")!=-1){_e90="splTab=OrgStructure";}else{if(_e8e!=null){_e90="formId="+_e8e;}}}$.ajax({type:"GET",url:"/people/getProfileTabs.do",data:_e90,success:function(data){var _e94=$(data);$(_e91).html($(_e94).find("#allTabsMenuUl").html());var _e95=$(_e94).find("#allFormsMenuDiv").html();$(_e92).html(_e95);$(_e92).attr("reloaded","true");}});}function ajaxForGetRightBand(_e96,url,_e98){changecontentdiv("R_content");$.get(url,_e98,function(data){$("#Rcont_contR").html(data);});if(_e96="userListing"){employee_status();}}function ajaxForGetLeftBand(url,_e9b,_e9c){changecontentdiv("L_content");$.get(url,_e9b,function(data){var _e9e;if(_e9c=="myApprovals"){_e9e="home-approvals";fireInfineScrollEvent();}else{if(_e9c=="myRequests"){_e9e="home-requests";fireInfineScrollEvent();}}if($("#"+_e9e)[0]){$(".content").hide();$("#"+_e9e).show();$("#"+_e9e).html(data);}else{$(".content").hide();data="<div class=\"content\" id=\""+_e9e+"\">"+data+"</div>";$("#contentdiv").html(data);}});}function adminpermmessage(){document.getElementById("admin_perm_message").style.display="";}function ajaxForGetCenterBand(url,_ea0,_ea1){var _ea2="admin-right";if(_ea1=="import_data"||_ea1=="import_data_dummy"||_ea1=="import_data_users"){_ea2="C_content";}$.get(url,_ea0,function(data){$("#"+_ea2).html(data);fireInfineScrollEvent();});if(_ea1="userListing"){employee_status();}}function createDomElementWithAttr(_ea4,_ea5){var ele=document.createElement(_ea4);for(var attr in _ea5){ele.setAttribute(attr,_ea5[attr]);}return ele;}function setDomainForDocument(){var op=(((navigator.userAgent).indexOf("Opera")!=-1));var ie=!op&&/msie/i.test(navigator.userAgent);if(!op&&!ie){var _eaa=document.domain;if(_eaa.indexOf("localzoho.com")!=-1){document.domain="localzoho.com";}else{if(_eaa.indexOf("zoho.com")!=-1){document.domain="zoho.com";}else{if(_eaa.indexOf("zohocorpin.com")!=-1){document.domain="zohocorpin.com";}}}}}var isOpera=navigator.userAgent.indexOf("Opera")>-1;var isIE=navigator.userAgent.indexOf("MSIE")>1&&!isOpera;var isMoz=navigator.userAgent.indexOf("Mozilla/5.")==0&&!isOpera;var agt=navigator.userAgent.toLowerCase();var is_ie=((agt.indexOf("msie")!=-1)&&(agt.indexOf("opera")==-1));var is_opera=(agt.indexOf("opera")!=-1);var is_mac=(agt.indexOf("mac")!=-1);var is_mac_ie=(is_ie&&is_mac);var is_win_ie=(is_ie&&!is_mac);var is_gecko=(navigator.product=="Gecko");function getHTTPObject(){var _eab;if(window.XMLHttpRequest){_eab=new XMLHttpRequest();}else{if(window.ActiveXObject){try{_eab=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){_eab=new ActiveXObject("Microsoft.XMLHTTP");}}}return _eab;}function fixForCachingInIe(_eac){if(is_ie){if(_eac.indexOf("?")!=-1){_eac=_eac+"&fixCacheForIe="+(new Date()).getTime();}else{_eac=_eac+"?fixCacheForIe="+(new Date()).getTime();}return _eac;}else{return _eac;}}function customizeForms(){var _ead=$("#listforms");window.location="ShowFormEdit.do"+"?formName="+_ead.val();}function customizeForm(_eae){window.location.href="ShowFormEdit.do"+"?formName="+_eae;}function configureViews(){var _eaf=$("#listviews");window.location="showviewedit.do"+"?viewLinkId="+_eaf.val();}function liveView(){var _eb0=$("#listviews");window.location="liveViewHeader.do"+"?viewID="+_eb0.val();}function opendialog(_eb1){var _eb2="";_eb2=document.getElementById(_eb1);if(_eb2){_eb2.style.top=document.body.scrollTop+150;_eb2.style.left="40%";_eb2.style.position="absolute";_eb2.style.zIndex="10999";_eb2.style.display="block";}}function chooseOptions(_eb3,_eb4){var _eb5=["name_p","description_p","validation_p","audit_p","duplicates_p","maxchars_p","autofill_p"];var _eb6=["picklist_p","alphaorder_p","defaultshow_p"];var _eb7=null;var i=0;for(i=0;i<_eb5.length;i++){$("#"+_eb5[i]).hide();}for(i=0;i<_eb6.length;i++){$("#"+_eb6[i]).hide();}if(_eb4=="Single Line"||_eb4=="Email"||_eb4=="Number"||_eb4=="Decimal"){for(i=0;i<_eb5.length-1;i++){_eb7=document.getElementById(_eb5[i]);_eb7.style.display="block";}}if(_eb4=="Multi Line"||_eb4=="URL"||_eb4=="Date"||_eb4=="PickList"||_eb4=="Phone"){for(i=0;i<4;i++){_eb7=document.getElementById(_eb5[i]);_eb7.style.display="block";}}if(_eb4=="Phone"){_eb7=document.getElementById("maxchars_p");_eb7.style.display="block";}if(_eb4=="PickList"){for(i=0;i<_eb6.length;i++){_eb7=document.getElementById(_eb6[i]);_eb7.style.display="block";}}}function getEmployeeList(_eb9){var url="getEmployeeList.do";var _ebb=fixForCachingInIe(url);var http=getHTTPObject();if(http){http.open("GET",_ebb,true);http.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");http.onreadystatechange=function(){if(http.readyState==4){changecontentdiv("L_content");document.getElementById("Lcont_contL").innerHTML=http.responseText;var _ebd=document.getElementById("Lcont_contL").getElementsByTagName("SCRIPT");var zlen=_ebd.length;for(var jsat=0;jsat<zlen;jsat++){var _ec0=_ebd[jsat].innerHTML;eval(_ec0);}}};}http.send(null);}function backtohome(){window.location="/people/#home/dashboard";}function freezeBackground(){var _ec1=0;var _ec2=document.createElement("div");_ec2.id="FreezeLayer";_ec2.className="newfreezeLayer";_ec2.style.width="100%";var _ec3=false;var _ec4=false;if(document.all){if(window.navigator.appName.toUpperCase=="OPERA"){_ec4=true;}else{_ec3=true;}}_ec2.style.width=$(document).width()+"px";_ec2.style.height=$(document).height()+"px";document.body.appendChild(_ec2);}function removefreezeBackground(){$("#FreezeLayer").css("display","none");}function tabCustomization(){$.post("/people/tabCustomization.do",{"test":"test"},function(data){$("#admin-right").html(data);});}function tabCustomizationDiv(){$.post("/people/tabCustomization.do",{"test":"test"},function(data){$("#Lcont_contR").html(data);});}function addNewTab(elm){var _ec8=$(elm).parents("table.popup-inner-table");if(_ec8){var _ec9=$(_ec8).find("#addTabName").siblings("div.red");var _eca=$(_ec8).find("#addTabName").val();var _ecb=$(_ec8).find("#addTabName").attr("fromaddform");_eca=_eca.trim();if(_eca.length>0&&_eca.length<=20){var _ecc={"tabName":_eca,"fromaddform":_ecb};_ecc[csrfParamName]=csrfToken;$.post("/people/addNewTab.do",_ecc,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data=="duplicate"){$(_ec9).html(i18n.tabname_duplicate).show();$(_ec8).find("#addTabName").val("");}else{if(data=="SecurityError"){window.location.reload();}else{if(_ecb=="true"){var _ece=$("#tabSelect");_ece.append("<option value=\""+data+"\" selected=\"selected\">"+_eca+"</option>");_ece.val(""+data);cancelpopup("tabPopUpAdd");}else{$("#admin-right").html(data);cancelpopup("tabPopUpAdd");$("html, body").animate({scrollTop:$(document).height()},800);}}}}});}else{$(_ec9).html("");if(_eca.trim().length==0||_eca==null){$(_ec9).html(i18n.tabname_notempty);}else{if(_eca.length>20){$(_ec9).html(i18n.tabname_notmorechar);}}$(_ec9).show();}}}function renametab(id){var obj=$("#tablab2_"+id);savetab(id,obj);}function showTabPopUp(_ed1){freezeBackground();$("#tabPopUp").attr("depTabId",_ed1);$("#tabName").val($("#tablab2_"+_ed1).attr("tabname"));$("#tabPopUp").css("display","block");}function canceltab(id){$("#tabPopUp").css("display","none");removefreezeBackground();}function savetab(_ed3,_ed4){var _ed5=$(_ed4).val().trim();var len=_ed5.length;var _ed7="tabid="+_ed3+"&tablabel="+encodeURIComponent(_ed5)+"&operation=renametab"+"&"+csrfParamName+"="+csrfToken;if(len>0&&len<21){$.post("/people/tabCustOperations.do",_ed7,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);loadmainTabs();}});}else{if(len==0){alert(i18n.tabname_notempty);canceltab(_ed3);}else{alert(i18n.tabname_notmorechar);canceltab(_ed3);}}}function showhidetab(_ed9,_eda){var _edb="tabid="+_ed9+"&hidden="+_eda+"&operation=showhidetab"+"&"+csrfParamName+"="+csrfToken;$.post("/people/tabCustOperations.do",_edb,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);loadmainTabs();if(_eda){showSuccessMessage(i18n.tab_disable);}else{showSuccessMessage(i18n.tab_enable);}}});}function deletetab(_edd){var _ede="#Tab_"+_edd;var _edf=$(_ede).children("li[id!=\"dummy\"]").length;if(_edf!=0){alert(i18n.tab_deleteempty);return;}var _ee0=confirm(i18n.tab_deleteconfirm);if(_ee0){var _ee1="tabid="+_edd+"&"+csrfParamName+"="+csrfToken;$.post("/people/deletetab.do",_ee1,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{showSuccessMessage(i18n.tab_deleted);$("#admin-right").html(data);loadmainTabs();}});}}function renameform(id){var name=$("#formlab2_"+id).val();saveform(id,name);}function saveform(_ee5,obj){var _ee7=$(obj).val().trim();var len=_ee7.length;var _ee9="formid="+_ee5+"&formlabel="+encodeURIComponent(_ee7)+"&operation=renameform"+"&"+csrfParamName+"="+csrfToken;if(len>0&&len<21){$.post("/people/tabCustOperations.do",_ee9,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);loadmainTabs();}});}else{if(len==0){alert(i18n.tabform_notempty);}else{if(len>20){alert(i18n.tabform_validname);}}}}function showhideform(_eeb,_eec){var _eed="formid="+_eeb+"&hidden="+_eec+"&operation=showhideform"+"&"+csrfParamName+"="+csrfToken;$.post("/people/tabCustOperations.do",_eed,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("License: ")!=-1){alert(data.substring(("License:").length,data.length));}else{$("#admin-right").html(data);loadmainTabs();}}});}function deleteform(_eef,_ef0){var _ef1=confirm(i18n.tabform_deleteconfmsg);if(_ef1){var _ef2="formid="+_eef+"&"+csrfParamName+"="+csrfToken;$.post("/people/deleteform.do",_ef2,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);loadmainTabs();}});}}function tabMenuChange(_ef4){$("a.sel").attr("class","");$(_ef4).attr("class","sel");}function getFirstFormLink(_ef5,_ef6,_ef7,_ef8,_ef9){tabMenuChange(_ef9);generateFormPages(_ef5,_ef6,_ef7,_ef8);}function createNewFormTc(_efa,_efb){if(_efa!=null){generateCreateNewPages("newFormPage",_efa,_efb);}return;}function newForm(){var _efc=$("#newFormName").val();var _efd=$("#tabId").val();var _efe=$("#formType").val();var _eff=$("#formDescri").val();var _f00=$("#newFormViewName").val();if(_f00==null){_f00="";}_efd=$("#tabSelect").attr("value");if(_efc!=null&&_efc.trim().length>0&&_efc.trim().length<21&&_f00.length<=100&&_eff.trim().length<=100){changecontentdiv("C_content");var _f01="formname="+encodeURIComponent(_efc.trim())+"&formtype="+_efe+"&tabId="+_efd+"&desc="+_eff.trim()+"&"+"&formdefviewname="+encodeURIComponent(_f00.trim())+"&"+csrfParamName+"="+csrfToken;$.post("/people/addform.do",_f01,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error:")!=-1){$("#newFormNameErr").html(data.replace("Error:",""));}else{if(data.indexOf("Success")!=0){window.location.reload();}else{var _f03=data.indexOf(":",0);var _f04=data.substr(_f03+1);loadmainTabs();loadFormAndViewPages("formEdit",_f04);}}}});}else{if(_efc==null||_efc.trim().length==0){$("#newFormNameErr").html(i18n.tabform_notempty);}else{if(_f00.trim().length>100){$("#newFormViewNameErr").html(i18n.viewedit_validviewnamemsg);}else{if(_eff.trim().length>100){$("#newForm_formDescErr").html(i18n.tabform_validformdesc);}else{$("#newFormNameErr").html(i18n.tabform_validname);}}}}}function loadmainTabs(){$.post("/people/mhome.do",{"gettabs":"true"},function(_f05){$("#absolutedivs").append(_f05);$("#main_tab_left").html($("#absolutedivs").find("#main_tab").html());$("#absolutedivs").find("#main_tab").remove();$("#peopletabs_subtabs").html($("#absolutedivs").find("#sub_tab_list").html());$("#absolutedivs").find("#sub_tab_list").remove();});}function updateformsdefViewName(){var _f06=$("#newFormName").val();var _f07=$("#newFormViewName").val();if(_f06!=null&&_f06.trim().length>0&&_f06.trim().length<21&&(_f07==null||_f07.trim().length<=0)){$("#newFormViewName").val(_f06+" "+i18n.viewdefsubname);}}function deleteView(_f08,_f09){var _f0a=confirm(i18n.deleteviewconfirmmessage);if(_f0a){var _f0b="viewid="+_f08+"&formId="+_f09+"&"+csrfParamName+"="+csrfToken;$.post("/people/deleteview.do",_f0b,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("success")!=-1){var _f0d=data.substring(7);showSuccessMessage(i18n.deletesuccessmsg);$("#contentdiv").find("div [deleteViewID='"+_f08+"']").parent().remove();window.location.href="/people/#view/live/list-viewId:"+_f0d+"/formId:"+_f09;}else{alert(data);}}});}}function newView(){var _f0e=$("#"+Layout.containerid);var _f0f=_f0e.find("#newViewName").val();_f0f=trimBoth(_f0f);var _f10=_f0e.find("#formId").val();var _f11=_f0e.find("#tabId").val();var _f12=_f0e.find("input[@name='viewType']:checked").val();var tb=_f0e.find("#criteriaRel")[0];if(_f0f!=null&&_f0f.length>0&&_f0f.length<=100&&_f10!=null){var _f14={};_f14=getCritStr(tb);if(!(JSON.stringify(_f14)=="{}")){var _f15="viewName="+_f0f+"&formId="+_f10+"&tabId="+_f11+"&criteriaValues="+encodeURIComponent(JSON.stringify(_f14))+"&"+csrfParamName+"="+csrfToken;$.post("/people/showNewView.do",_f15,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error :")!=-1){_f0e.find("#criteriaErr").html(data.replace("Error :",""));}else{var _f17=data.indexOf(":",0);var _f18=data.substr(_f17+1);loadFormAndViewPages("editView",_f18,_f10);$("#"+Layout.containerid).remove();}}});}}else{var _f19="";var _f1a=_f0e.find("#newViewNameErr");$(_f1a).html("");if(_f0f.length<=0){_f19=i18n.viewedit_validviewnamemsg;}else{if(_f0f.length>100){_f19=i18n.viewedit_viewnameexceed;}}$(_f1a).html(_f19);}}function toggleCheckbxClass(_f1b){$(_f1b).toggleClass("checkSel");}function getValueforCheckBx(_f1c){return $(_f1c).attr("class")=="checkSel"?"true":"false";}function saveCriteria(){var _f1d=$("#"+Layout.containerid).find("#exprId").val();var _f1e=$("#"+Layout.containerid).find("#viewId").val();var _f1f=$("#"+Layout.containerid).find("#dformat").val();var tb=$("#"+Layout.containerid).find("#criteriaRel")[0];var _f21={};_f21=getCritStr(tb);if(!(JSON.stringify(_f21)=="{}")){var _f22="exprId="+_f1d+"&criteriaValues="+encodeURIComponent(JSON.stringify(_f21))+"&viewId="+_f1e+"&"+csrfParamName+"="+csrfToken;$.post("/people/editCriteria.do",_f22,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error :")!=-1){$("#"+Layout.containerid).find("#criteriaErr").html(data.replace("Error :",""));}else{setUpd();}}});}}function callAnnouncement(){$.get("/people/getAnnouncementPage.do",function(data){changecontentdiv("R_content");$("#admin-right").html(data);createEditor();});}function validateCammaSeparatedEmailIds(_f25){var _f26=_f25.split(",");for(var i=0;i<_f26.length;i++){if(!testEmailSyntax(_f26[i])){return false;}}return true;}function saveAnnouncement(_f28,_f29){var _f2a=$("#annoSubj").val();_f2a=$.trim(_f2a);var _f2b=editor.getContent();var _f2c=_f2b.replace(/(?:&nbsp;|<br>)/g,"");_f2c=$.trim(_f2c);var _f2d=$("#dateInputEl_annoUntilDate1").val();_f2d=$.trim(_f2d);var _f2e="";var _f2f=$("#annLoca").val();$("#annSubErr,#annMsgErr").css("display","none");$("#annSubErr,#annMsgErr").html("");var _f30=$("#announceAll").is(":checked");var _f31=$("#announceLocMem").is(":checked");var _f32=$("#selectedAnnEmail").val();if(_f32.trim().length>0){_f32=trimEmailIds(_f32);var _f33=validateCammaSeparatedEmailIds(_f32);if(!_f33){_f2e=i18n.entervalidemailaddr;$("#otherEmailErr").html(_f2e).css("display","");}}if(_f2a==""){_f2e=i18n.announcement_subjectemptymsg;$("#annSubErr").css("display","");$("#annSubErr").html(_f2e);}else{if(_f2a.length>50){_f2e=i18n.announcement_subjectlenghtmsg;$("#annSubErr").css("display","");$("#annSubErr").html(_f2e);}}if(_f2c==""){_f2e=i18n.announcement_emptymessage;$("#annMsgErr").css("display","");$("#annMsgErr").html(_f2e);}if(_f2c.length>10000){$("#annMsgErr").css("display","");_f2e=i18n.announcement_lengthexceedsmessage;$("#annMsgErr").html(_f2e);}if(_f2e==""){var _f34={"subject":_f2a,"message":_f2b,"annoId":_f28,"expiryDate":_f2d,"annAll":_f30,"emailList":_f32,"annAllLocMem":_f31,"annoLocation":_f2f};_f34[csrfParamName]=csrfToken;$.post("/people/addAnnouncement.do",_f34,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);loadFormAndViewPages(_f29);$("#home-announcements").remove();}else{if(data.indexOf("errorDate:")==0){data=data.substring("errorDate:".length,data.length);$("#annDateErr").css("display","");$("#annDateErr").html(data);}else{loadFormAndViewPages(_f29);$("#home-announcements").remove();}}});}}function setLocationInAnnoEditPage(type,_f37){if(type=="edit_announcement"){$("#annLoca").val(_f37);}}function fetchNextAnnouncement(obj){var _f39=$(obj).attr("fromRecordNo");var _f3a="fromRecordNo="+_f39;$.post("/people/jsp/viewAnnouncement.jsp",_f3a,function(data){$("#C_content").html(data);});}function createEditor(){try{var _f3c="richtext";var _f3d="";_f3d={id:"templatecomposetextarea",mode:_f3c,content:$("#templatemailtextarea").val()};editor=ZE.create(_f3d);}catch(err){}}function editAnnouncement(id){var _f3f="annoId="+id+"&operationType=fetchAnnouncementDetails"+"&"+csrfParamName+"="+csrfToken;$.post("/people/announcementListActions.do",_f3f,function(data){changecontentdiv("R_content");$("#admin-right").html(data);createEditor();});}function deleteAnnouncement(_f41){var cf=confirm(i18n.announcement_deleteconfmsg);if(cf){var _f43="annoId="+_f41+"&operationType=deleteAnnouncementDetail"+"&"+csrfParamName+"="+csrfToken;$.post("/people/announcementListActions.do",_f43,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#announcements_"+_f41).remove();if($("ul#announcement_accord1").children("li.sel").length==0){$("ul#announcement_accord1").html("<li class='bn'><div class='noRec'><b>"+i18n.noannouncement+"</b></div></li>");}}});}}function enableDisableAnnouncement(_f45,_f46){var _f47="annoId="+_f45+"&operationType=enableDisable"+"&"+csrfParamName+"="+csrfToken;$.post("/people/announcementListActions.do",_f47,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(_f46=="admin_announcements_list"){Layout.loadpage("admin/announcements/list");}else{Layout.loadpage("home/announcements");}}});}function loadCalender(id,_f4a){if(id=="dash_announcements"){$("#admin-right").html("");}$("[id="+id+"]").each(function(){$(this).find(":input[fieldType=date]").each(function(){var elID=$(this).attr("id");$("#"+elID).click(function(){$(this).parent().siblings("[name=annoType]").attr("checked",true);});if(_f4a!=null){_f4a+=" "+"%H:%M:%S";}setCalendar(elID,elID,_f4a);});});}function setCalendar(_f4c,_f4d,_f4e){if(_f4e==""||_f4e==null){_f4e="%Y-%m-%d"+" "+"%H:%M:%S";}setCalenderTime(_f4d,_f4c,_f4e,true);}function calCalender(_f4f,_f50){setCalendar(_f4f,_f4f,_f50);}function allDashboard(_f51,_f52){var _f53="start="+_f51+"&navigation="+_f52;$.post("/people/fetchDashboard.do",_f53,function(data){changecontentdiv("C_content");$("#C_content").html(data);if(_f52=="prev"){$("#changeAnno").attr("useDisplay",_f51);}});}function fetchNextAnno(_f55){var _f56=$("#changeAnno").attr("useDisplay");_f56=parseInt(_f56);if(parseInt(_f55)<50&&parseInt(_f55)<=parseInt(_f56%50)){$("#forward").attr("class","annBot");}else{if(_f56%50==0){allDashboard(_f56,"next");}else{showHide(_f56,"forward",_f55);}}}function fetchPrevAnno(_f57){var _f58=$("#changeAnno").attr("useDisplay");_f58=parseInt(_f58);if(_f58<=5){$("#reverse").attr("class","annTop");}else{if(_f58%50==5){allDashboard(_f58-5,"prev");}else{showHide(_f58,"reverse",_f57);}}}function showHide(_f59,_f5a,_f5b){var _f5c=parseInt($("#currentStartLimit").val());_f5b=parseInt(_f5b);if(_f5a=="reverse"){_f59=_f59-5;if(_f59<5){_f59=5;$("#forward").attr("class","annTop");}$("#changeAnno").attr("useDisplay",_f59);$("#forward").attr("class","annBotB");}else{if(_f5a=="forward"){if((_f5c+_f5b)>=(_f59+5)){_f59=_f59+5;$("#changeAnno").attr("useDisplay",_f59);}else{var mod=_f5b%5;_f59=_f59+mod;$("#forward").attr("class","annBot");}$("#reverse").attr("class","annTopB");}}$("#announcement_accord div").removeClass("sel");for(var i=_f5c+1;i<=_f5c+_f5b;i++){var _f5f=_f5c+i;if(i<=_f59&&i>(_f59-5)){$("#announcement_accord div[no="+i+"]").css("display","block");}else{$("#announcement_accord div[no="+i+"]").css("display","none");}}}function validateViewInputs(_f60,_f61,_f62,_f63){if(_f63=="None"||_f62=="None"){if(_f63=="None"&&_f62=="None"&&_f61==""){return true;}else{$("#criteriaErr").html(i18n.entervalidcriteria);return false;}}else{if((((_f60==NUMBER)||(_f60==CURRENCY))&&isNaN(_f61))||((_f62=="29"||_f62=="30")&&_f61!="")){$("#criteriaErr").html(i18n.entervalidcriteria);return false;}else{if((_f60==DATE)&&(!(_f62=="29"||_f62=="30")&&_f61=="")){$("#criteriaErr").html(i18n.entervalidcriteria);return false;}else{if((_f60==DATE_TIME)&&(!(_f62=="29"||_f62=="30")&&_f61=="")){$("#criteriaErr").html(i18n.entervalidcriteria);return false;}else{if(!(_f62=="29"||_f62=="30"||_f62=="49"||_f62=="50")&&_f61==""){$("#criteriaErr").html(i18n.entervalidcriteria);return false;}else{return true;}}}}}}function getCritStr(tb){var _f65={};var rs=tb.rows;for(var i=1;i<rs.length;i++){var r=rs.item(i);var sels=r.getElementsByTagName("select");var _f6a=sels.item(1).value;var _f6b=sels.item(1).selectedIndex;var _f6c=sels.item(1).options.item(_f6b);var _f6d=getA(_f6c,"fctype");var cndn=sels.item(2).value;var inp=r.getElementsByTagName("input");var _f70=inp.item(0).style.display!="none"?inp.item(0).value:inp.item(1).value;var cnjn=" ";var _f72=validateViewInputs(_f6d,_f70,cndn,_f6a);if(!_f72){_f65={};return _f65;}if(_f70==""){_f70="\"\"";}else{if(_f70!=""){_f70="\""+_f70+"\"";}}if(i!=1){cnjn=sels.item(0).value;_f65[i]="{formComponentID:"+_f6a+",Operator:"+cndn+" ,crtValue:"+_f70+" ,conjunctiveCondn:"+cnjn+" ,fcType:"+_f6d+"}";}else{_f65[i]="{formComponentID:"+_f6a+",Operator:"+cndn+" ,crtValue:"+_f70+" ,conjunctiveCondn:\"\" ,fcType:"+_f6d+"}";}}return _f65;}function getOrgChart(_f73,id2,id3){if(id2!=null){tabMenuChange(id2);}if(_f73=="empHierachyChart"){var _f76="chartType="+_f73;if(id3){_f76+="&ErecNum="+id3;}var cUrl="/people/OrgCharts.do";var _f78="";var _f79="";ajaxForCenterBand(cUrl,_f76,_f79,_f78);}else{if(_f73=="deptHierachyChart"){var _f76="chartType="+_f73;var cUrl="/people/OrgChartsPage.do";var _f78="";var _f79="";ajaxForCenterBand(cUrl,_f76,_f79,_f78);}}}function isDateValid(_f7a,_f7b){var day=null;var _f7d=null;var year=null;var time=null;var _f80=true;var _f81=_f7a.indexOf("-");var _f82=_f7a.lastIndexOf("-");if(_f81!=-1){day=_f7a.substring(0,_f81);_f7d=_f7a.substring(_f81+1,_f82);year=_f7a.substring(_f82+1,_f82+5);}if(!day||!(/^[+-]?[0-9]+$/.test(day))||day<1||day>31||!_f7d||!(_f7d=="Jan"||_f7d=="Feb"||_f7d=="Mar"||_f7d=="Apr"||_f7d=="May"||_f7d=="Jun"||_f7d=="Jul"||_f7d=="Aug"||_f7d=="Sep"||_f7d=="Oct"||_f7d=="Nov"||_f7d=="Dec")||!(/^[+-]?[0-9]+$/.test(year))||year.length>4||parseInt(year)<1900){_f80=false;}if(_f7b=="datetime"){time=_f7a.substr(_f82+6);_f81=time.indexOf(":");_f82=time.lastIndexOf(":");var _f83=time.substring(0,_f81);var mins=time.substring(_f81+1,_f82);var secs=time.substr(_f82+1);if(_f81!=2||_f82!=5||!(/^[+-]?[0-9]+$/.test(_f83))||!(/^[+-]?[0-9]+$/.test(mins))||!(/^[+-]?[0-9]+$/.test(secs))||secs.length>2){_f80=false;}else{if(parseInt(secs)>59){_f80=false;}}}return _f80;}function createNewRole(elm){var _f87=$(elm).parents("table.popup-inner-table");if(_f87){var _f88=$(_f87).find("#addrolename").val();var _f89=$(_f87).find("#addrolename").siblings("div.red");$(_f89).html("");$(_f89).show();_f88=trimBoth(_f88);if(_f88&&_f88!=""&&_f88.length>0&&_f88.length<=20){var _f8a=$(_f87).find("select").val();_f88=encodeURIComponent(_f88);editRoleConfig("createRole",_f88,_f8a,_f89);}else{if(_f88.length>20){var msg=i18n.rolenamelengthvalidation;msg=msg.replace("$rolelength",20);$(_f89).html(msg);$(_f89).show();}else{$(_f89).html(i18n.rolenamevalidation);$(_f89).show();}}}}function showRoleEditBox(_f8c){if($(_f8c).hasClass("sel")){return;}hideOpenOptions();$(_f8c).addClass("sel");$(_f8c).parent("div").siblings("span").show();}function hideOpenOptions(){$("div.red").hide();$("#configureRolesDiv").find("input.sel").each(function(){$(this).removeClass("sel");$(this).val($(this).attr("orgvalue"));$(this).parent("div").siblings("span").hide();});}function cancelRoleEditBox(bElm){hideOpenOptions();$(bElm).parent("span").hide();var _f8e=$(bElm).parent("span").siblings("div.block").find("input[type=text]");$(_f8e).removeClass("sel");$(_f8e).val($(_f8e).attr("orgvalue"));}function editRoleFromOpts(obj){hideOpenOptions();var _f90=$(obj).parent().parent().parent().siblings("td").find("input[type=text]");$(_f90).addClass("sel");$(_f90).focus();$(_f90).parent("div").siblings("span").show();}function cancelpopup(id){closeDialog(id);}function newpopup(id,_f93){var _f94=$("#"+id).parent("div");if(id=="rolePopUpAdd"){showDialog($(_f94).html(),"closeButton=no, modal=yes,position=absolute,left=280, top=180",null,null);$("#_DIALOG_LAYER").css("top","35%");$("#_DIALOG_LAYER").css("left","35%");$("#_DIALOG_LAYER").find("input:first").focus();}else{if(id=="addQuickLinkPopup"){showDialog($(_f94).html(),"closeButton=no, modal=yes,position=absolute,left=280, top=180",null,null);centerDialog("_DIALOG_LAYER",100);$("#_DIALOG_LAYER").find("input:first").focus();}else{if(id=="updatePhotoPopUp"&&_f93!=null&&_f93=="yes"){showDialog($(_f94).html(),"closeButton=no, modal=yes,position=absolute,left=280, top=180",null,null);$("#_DIALOG_LAYER").css("margin-left","-290px");$("#_DIALOG_LAYER").css("margin-top","-120px");$("#_DIALOG_LAYER").css("top","50%");$("#_DIALOG_LAYER").css("left","50%");}else{if(id=="reorderQuicklinks"){showDialog($(_f94).html(),"closeButton=no, modal=yes,position=absolute,left=280, top=180",null,null);centerDialog("_DIALOG_LAYER",50);var _f95=$("tbody#reorderlinks","#_DIALOG_LAYER").find("tr").length;if(_f95>8){$("div#quickLinkDivs","#_DIALOG_LAYER").css("height",300);}$("#_DIALOG_CONTENT tbody#reorderlinks").sortable({axis:"y",handle:"td .move"});}else{showDialog($(_f94).html(),"closeButton=no, modal=yes,position=absolute,left=280, top=180",null,null);centerDialog("_DIALOG_LAYER");$("input:first").focus();}}}}return;}function newTabpopup(_f96){var _f97=$("#popupdiv");$.get("/people/getTabPopUp.do",function(data){var errs=$(data).find("#errorDiv").length;if(errs>0){window.location.reload();}else{_f97.html(data);_f97.find("#addTabName").attr("fromAddForm",_f96);showDialog($(_f97).html(),"position=absolute, left=280, top=180, closeButton=no, modal=yes, height=500",null,null);centerDialog("_DIALOG_LAYER");$("#_DIALOG_CONTENT").find("input[id=\"addTabName\"]").focus();}});}function editpopup(id,_f9b,_f9c){var _f9d=$("#"+id);$(_f9d).css("display","");$("#editrolename").val(_f9c);$("#editrolename").attr("roleid",_f9b);}function editRole(obj,_f9f){var _fa0=$(obj).val();_fa0=trimBoth(_fa0);var _fa1=$(obj).parent("div").siblings("div.red");$(_fa1).html("");$(_fa1).hide();if(_fa0!=null&&_fa0!=""&&_fa0.length>0&&_fa0.length<=20){_fa0=encodeURIComponent(_fa0);editRoleConfig("editRole",_fa0,_f9f,_fa1);}else{if(_fa0.length>20){var msg=i18n.rolenamelengthvalidation;msg=msg.replace("$rolelength",20);$(_fa1).html(msg);$(_fa1).show();}else{$(_fa1).html(i18n.rolenamevalidation);$(_fa1).show();}}}function editRoleConfig(_fa3,_fa4,_fa5,_fa6){if(_fa3=="deleteRole"&&!confirm(i18n.deleterole)){return;}var _fa7="/people/getConfigureRoles.do";var _fa8="roleOpt="+_fa3+"&"+csrfParamName+"="+csrfToken;switch(_fa3){case "createRole":_fa8+="&roleName="+_fa4+"&cloneRoleId="+_fa5;break;case "deleteRole":hideOpenOptions();_fa6=$(_fa6).parent("em").parent("span").parent("td").siblings("td").find("div.red");_fa8+="&roleId="+_fa4;break;case "editRole":_fa8+="&roleName="+_fa4+"&cloneRoleId="+_fa5;break;default:return;}$.post(_fa7,_fa8,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("error:")==0){var _faa=data.replace("error:","");$(_fa6).html(_faa);$(_fa6).show();}else{cancelpopup("rolePopUpAdd");$("#admin-right").html(data);}}});}function showErrorMessage(_fab){var _fac=$("#errorMsgDiv");$(_fac).css("display","");$(_fac).html(_fab);$(_fac).fadeOut(3000);}function showSuccessMessage(_fad){var _fae=$("#infoMsgDiv");$(_fae).css("display","");$(_fae).html(_fad);centerDialog("infoMsgDiv");$(_fae).fadeOut(3000);}function getpermissionspage(_faf,_fb0,_fb1,_fb2,_fb3){var url="";var _fb5="";if(_fb0){_fb5="type=selected&formId="+_fb0;}else{_fb5="type=default";}switch(_faf){case "formLevelPerm":url="/people/permissionsFormLevel.do";break;case "setFormLevelPerm":setFormLevelPermissions(_fb0,_fb1,0);return;case "fieldLevelPerm":_fb5+="&roleId="+_fb1;url="/people/permissionsFieldLevel.do";break;case "formOperationsPerm":setFormOperPermissions(_fb0,_fb1,0);return;case "globalOperationsPerm":setGlobalOperPermissions(_fb1,0);return;default:return;}$.get(url,_fb5,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);}});}function setFormLevelPermissions(_fb7,_fb8,opt,_fba,_fbb){var url="/people/setFormLevelPermPage.do";var _fbd="type=selected&formId="+_fb7+"&roleId="+_fb8+"&"+csrfParamName+"="+csrfToken;if(opt==1&&_fba&&_fbb){_fbd+="&opt=1&valPerm="+_fbb+"&typePerm="+_fba;$.post(url,_fbd,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _fbf=data;if(!_fbf||_fbf.indexOf("success",0)==-1){showErrorMessage(i18n.formpermissionupdatefailed);}}});}else{_fbd+="&opt=0";$.post(url,_fbd,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);}});}}function setFormOperPermissions(_fc1,_fc2,opt,_fc4,_fc5){var url="/people/permissionsFormOperations.do";var _fc7="";if(_fc2){_fc7="type=selected&roleId="+_fc2;}else{_fc7="type=default";}_fc7+="&formId="+_fc1+"&"+csrfParamName+"="+csrfToken;if(opt==1&&_fc4){_fc7+="&opt=setOP&valPerm="+_fc5+"&operId="+_fc4;$.post(url,_fc7,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _fc9=data;if(!_fc9||_fc9.indexOf("success",0)==-1){showErrorMessage(i18n.formpermissionupdatefailed);}}});}else{_fc7+="&opt=getOP";$.post(url,_fc7,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);}});}}function setGlobalOperPermissions(_fcb,opt,_fcd,_fce){var url="/people/permissionsGlobalOperations.do";var _fd0="";if(_fcb){_fd0="type=selected&roleId="+_fcb+"&"+csrfParamName+"="+csrfToken;}else{_fd0="type=default"+"&"+csrfParamName+"="+csrfToken;}if(opt==1&&_fcd){_fd0+="&opt=setOP&valPerm="+_fce+"&operId="+_fcd;$.post(url,_fd0,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _fd2=data;if(!_fd2||_fd2.indexOf("success",0)==-1){showErrorMessage(i18n.formpermissionupdatefailed);}}});}else{_fd0+="&opt=getOP";$.post(url,_fd0,function(data){$("#admin-right").html(data);});}}function setFormFieldPermissions(_fd4,_fd5,opt,fcId,_fd8,_fd9){var url="/people/setFieldLevelPerm.do";var _fdb="roleId="+_fd5+"&formId="+_fd4+"&"+csrfParamName+"="+csrfToken;if(opt==0&&fcId){_fdb+="&opt="+opt+"&vPerm="+_fd8+"&fcId="+fcId+"&wPerm="+_fd9;$.post(url,_fdb,function(data){var _fdd=data;if(!_fdd||_fdd.indexOf("success",0)==-1){showErrorMessage(i18n.formpermissionupdatefailed);}});}else{if(opt==1&&fcId){_fdb+="&opt="+opt+"&accessPerm="+_fd8+"&sectId="+fcId;$.post(url,_fdb,function(data){var _fdf=data;if(!_fdf||_fdf.indexOf("success",0)==-1){showErrorMessage(i18n.formpermissionupdatefailed);}else{getpermissionspage("fieldLevelPerm",_fd4,_fd5);}});}}}function showDDownMenuList(_fe0){hideDropDownMenus();var ifIE=$.browser.msie;var pDiv;if(ifIE){var _fe3=window.event.srcElement;pDiv=$(_fe3).parents("div.normalDropDown");}else{pDiv=$(this).parent("div.normalDropDown");}$(pDiv).attr("class","clickDropDown");$(pDiv).find(".dropDownMenu").css("display","");addEvent(document.body,"click",hideDropDownMenus,true);stopEventPropagation(_fe0);}function hideDropDownMenus(_fe4){$(".clickDropDown").attr("class","normalDropDown");$(".dropDownMenu").css("display","none");removeEvent(document.body,"click",hideDropDownMenus,true);}function showSortByList(_fe5){hideDropDownMenus();var ifIE=$.browser.msie;var pDiv;if(ifIE){var _fe8=window.event.srcElement;pDiv=$(_fe8);}else{pDiv=$(this);}$(pDiv).parent(".sortBy").find("span[btype=\"sortMenu\"]").show();if(!ifIE){addEvent(document.body,"click",hideSortMenus,true);}stopEventPropagation(_fe5);}function hideSortMenus(_fe9){$(".sortBy").find("span[btype=\"sortMenu\"]").css("display","none");removeEvent(document.body,"click",hideSortMenus,true);}function addEvent(elem,_feb,func,_fed){_fed=(_fed)?_fed:false;if(elem.addEventListener){elem.addEventListener(_feb,func,_fed);}else{if(elem.attachEvent){elem.attachEvent("on"+_feb,func);}else{elem["on"+_feb]=func;}}}function removeEvent(elem,_fef,func,_ff1){_ff1=(_ff1)?_ff1:false;if(elem.removeEventListener){elem.removeEventListener(_fef,func,_ff1);}else{if(elem.attachEvent){elem.detachEvent("on"+_fef,func);}else{elem["on"+_fef]=null;}}}function hidePopupDiv(e){var _ff3=false;var _ff4=(e.target||e.srcElement);var _ff5=$(_ff4).attr("class");var _ff6=$(_ff4).parents();$.each(_ff6,function(){if($(this).attr("popupDivType")=="formsListDiv"||$(this).attr("popupDivType")=="formsListSrchDiv"||_ff5=="formDrop"||$(this).is(".ui-autocomplete")){_ff3=true;}});if(!_ff3){$(".formDrop").hide();removeEvent(document.body,"click",hidePopupDiv,true);}}function embedForm(_ff7){var _ff8="formId="+_ff7;$.get("/people/embedform.do",_ff8,function(data){changecontentdiv("C_content");$("#C_content").html(data);});}function showQuickPopUpforEmbed(_ffa){var _ffb="formId="+_ffa+"&qPop=true";$.post("/people/embedform.do",_ffb,function(data){showDialog(data,"position=absolute, closeButton=no, modal=yes, height=750",null,"");centerDialog("_DIALOG_LAYER");});}function showhide_tab(id,_ffe,id1){if(id1!=null){if(_ffe=="dwnarow"){document.getElementById(id1).className="uparown";}else{document.getElementById(id1).className="dwnarow";}}var _1000=document.getElementById(id);if(_1000.style.display=="block"){_1000.style.display="none";document.getElementById("emb_set_img").className="oarrow";}else{if(_1000.style.display=="none"){_1000.style.display="block";document.getElementById("emb_set_img").className="carrow";}}}function changeFontinEmbedForm(val){document.getElementById("sectiontext_embedform").style.fontFamily=val;$("#embed_preview_label p span").css("font-family",val);document.getElementById("fontstyle_embedform").value=val;buildEmbedUrl();}function checkpixel(tdid,_1003,opt){var cbox=document.getElementById(_1003);var tdpx=document.getElementById(tdid);var _1007=document.getElementById("ifwidth").value;var _1008=document.getElementById("ifheight").value;if(isNaN(_1007)){alert(i18n.entervalidwidth);return;}if(isNaN(_1008)){alert(i18n.entervalidheight);return;}if(cbox&&tdpx){if(cbox.checked){tdpx.innerHTML="px";_1007=_1007+"px;";_1008=_1008+"px;";}else{tdpx.innerHTML="%";_1007=_1007+"%;";_1008=_1008+"%;";}var _1009=document.getElementById("embednewform");if(_1009){var _100a=_1009.value;var _100b=_100a.indexOf("width:");var _100c=_100a.indexOf("height:");if(_100b!=-1&&_100c!=-1){var _100d=_100a.substring(0,_100b);var _100e=_100a.substring(0,_100c);var _100f=_100a.substring(_100c,_100a.length);var _1010=_100f.indexOf(";'");var last=_100f.substring(_1010+1,_100f.length);var _1012="";if(opt=="w"){_1012=_100d+"width:"+_1007+_100f;_1009.value=_1012;_1009.style.display="inline";}else{if(opt=="h"){_1012=_100e+"height:"+_1008+last;_1009.value=_1012;_1009.style.display="inline";}}}}}}function colourPicker(){buildEmbedUrl();var _1013="";$("#embedSecClr,#embedLabelBgClr,#embedLabelFontClr").click(function(){_1013=this.id;});$("#embedSecClr,#embedLabelBgClr,#embedLabelFontClr").ColorPicker({onChange:function(hsb,hex,rgb,el){changeEmbedParams(_1013,hex);},onSubmit:function(hsb,hex,rgb,el){changeEmbedParams(_1013,hex);$(el).ColorPickerHide();},onHide:function(_101c){buildEmbedUrl();}});}function changeEmbedParams(id,hex){if(id=="embedSecClr"){$("#sectiontext_embedform").css("color","#"+hex);$("#sectiontextcolor_embedform").attr("value",hex);}else{if(id=="embedLabelBgClr"){$("#embed_preview_label p span").css("backgroundColor","#"+hex);$("#bgrndcolor_embedform").attr("value",hex);}else{if(id=="embedLabelFontClr"){$("#embed_preview_label p span").css("color","#"+hex);$("#headercolor_embedform").attr("value",hex);}}}}function buildEmbedUrl(){var url=document.embedformsettings.url.value;var _1020=document.embedformsettings.digest.value;var font=document.embedformsettings.fontstyle_embedform.value;var _1022=document.embedformsettings.bgrndcolor_embedform.value;var _1023=document.embedformsettings.headercolor_embedform.value;var _1024=document.embedformsettings.sectiontextcolor_embedform.value;var uri="/people/embedLiveFormHeader.hr?digest="+_1020+"&font="+font+"&bgrndcolor="+_1022+"&headercolor="+_1023+"&sectionheadercolor="+_1024;url=url+uri;var _1026=document.getElementById("embednewform");_1026.value="<iframe style='overflow:auto;width:100%;height:500px;' frameborder='0' border='0' src='"+url+"'></iframe>";document.getElementById("embednewform").style.display="inline";}function docid(id){return document.getElementById(id);}function managePlan(_1028,_1029,_102a){window.location.href="/people/#subscription/manageplan-updownGrade:"+_1028+"/planNumber:"+_1029;}function submitUpgradeForm(){if($("_subscribeStorage").value==""){$("_subscribeStorage").value="0";}var _102b=document.upgradeForm.purchase_status.value;var _102c=document.upgradeForm.plan_number.value;var _102d=document.upgradeForm._subscribeStorage.value;window.location.href="/people/#subscription/paymentprocess-subscribeStorage:"+_102d+"/purchase_status:"+_102b+"/plan_number:"+_102c;}function hide(divId){var id=document.getElementById(divId);if(id){id.style.display="none";}}function downgradeconfirm(i){freezeBackground();document.getElementById("_confirmdowngrade").style.display="";$("#confirmDowngrade").attr("currentPlan",i);}function continueDownGrade(){var plan=$("#confirmDowngrade").attr("currentPlan");var _1032=$("#planId_"+plan).attr("plandigest");managePlan("Downgrade",plan,_1032);}function updateCreditCardDetails(){var _1033="/people/subscription/ccdetails";showhideprogressbar(true);window.location.href=_1033;return;}function pricingPage(){var url="/jsp/pricing.jsp";$.get(url,function(data){alert(data);changecontentdiv("C_content");$("#C_content").html(data);});}function hide(divId){var id=document.getElementById(divId);if(id){id.style.display="none";}}function checkNumber(ev,obj){var kc=ev.keyCode;if((kc<48||kc>57)&&kc!=37&&kc!=38&&kc!=39&&kc!=40&&kc!=8&&kc!=9&&kc!=13&&kc!=46){return false;}}function calcMoney(_103b){var _103c=docid("_subscribeStorage").value;var _103d=_103c*3;if(_103c==""){docid("_subscribeStorage").value=0;}var _103e=parseInt(_103b)+_103d;docid("_addSpaceMoney").innerHTML=_103d;docid("totalcurmoneydiv").innerHTML=_103e;}function zpftpValidate(_103f,_1040){var _1041;var _1042;var _1043;var _1044;var email;var _1046=$("#user_zuid").attr("value");var _1047=document.getElementById("selectedPlan").value.split("_");_1043=document.getElementById("payperiod").value;if(_1043!=_103f&&_1040!=1){alert(i18n.downgradeandupgrademessage);return;}_1044=_1047[0];var _1048=_1047[1];if(_1044==0&&_1048==-1){alert(i18n.selectvalidplan);}_1042=document.getElementById("storage").value;_1041=calculateTotalPlanCost(_1043,_1048,_1042);email=document.getElementById("_email_id").value;var _1049=true;var _104a="subscribeMoney="+encodeURIComponent(_1041)+"&subscribeStorage="+encodeURIComponent(_1042)+"&subscribePlanNumber="+encodeURIComponent(_1044)+"&payperiod="+encodeURIComponent(_1043)+"&email="+encodeURIComponent(email)+"&"+csrfParamName+"="+csrfToken+"&fromZPFTP="+encodeURIComponent(_1049)+"&user_zuid="+encodeURIComponent(_1046+"");var url="/people/CCValidate4People1.do";var _104c=getHTTPObject();_104c.open("POST",url,true);_104c.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");_104c.onreadystatechange=function(){if(_104c.readyState==4){var param="email="+encodeURIComponent(email);$.post("/people/ZPFTP.do",param,function(data){$("body").html(data);});}};_104c.send(_104a);}function calculateTotalPlanCost(_104f,_1050,_1051){spacemoney=_1051*3;if(_104f=="MONT"){spacemoney=spacemoney;_1050=_1050;}else{if(_104f=="QTER"){spacemoney=3*spacemoney;_1050=3*_1050;}else{if(_104f=="SMYR"){spacemoney=6*spacemoney;_1050=6*_1050;}else{if(_104f=="YEAR"){spacemoney=12*spacemoney;_1050=12*_1050;}}}}var _1052=parseInt(_1050)+parseInt(spacemoney);return (_1052);}function viewPlanDetails(obj){var _1054=obj.value.split("_");var _1055=_1054[0];if(_1055!=0){var _1056="detailsForPlan_"+_1055;var _1057=document.getElementById(_1056).innerHTML;document.getElementById("planDetails").innerHTML=_1057;}else{document.getElementById("planDetails").innerHTML="";}}function peopleadminmessage(){freezeBackground();document.getElementById("_people_admin_message").style.display="";}function closedialog(divid){did=document.getElementById(divid);if(did){did.style.display="none";}var scrid=docid("FreezeLayer");if(scrid){document.body.removeChild(scrid);}}function getGenPeoplePage(_105a){showhideprogressbar(true);if(_105a=="Dashboard"){Layout.loadpage("home/dashboard");}else{if(_105a=="Settings"){window.location.href="/people/admin/settings";}else{if(_105a=="LeaveSettings"){window.location.href="/people/admin/settings/leave";}}}}function showSearchDropDownList(event){var ifIE=$.browser.msie;var pDiv;var _105e;if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(event);}else{hideOnlyHeaderMenus(event);hidePopupDiv(event);}hideTabMoreMenus(event);if(ifIE){$(".dropSearchbox").children("a").css("display","");var _105f=window.event.srcElement;pDiv=$(_105f).parent().parent("div");_105e=$(_105f).attr("class");}else{pDiv=$(this).parent("div");_105e=$(this).attr("class");}var _1060=$(pDiv).find(".dropSearchbox");$(pDiv).find(".dropSearchbox").css("display","");if(_105e=="roleArr"){_1060.find(".role").parent("a").css("display","none");}else{_1060.find(".dept").parent("a").css("display","none");}addEvent(document.body,"click",hideSearchDropDownMenus,true);stopEventPropagation(event);}function hideSearchDropDownMenus(event){$(".dropSearchbox").css("display","none");$(".dropSearchbox").children("a").css("display","");removeEvent(document.body,"click",hideSearchDropDownMenus,true);}function empSearchFromTab(){clearRefineCriteria();var _1062=$("#empSearchBox").val();var _1063=parseInt($("#searchTabImg").attr("searchType"));if(_1062.trim().length==0&&_1063!=1){getSettings("empsearch");}else{fetchSearchEmployeeList();}}function deptSearchFromTab(){$("#searchTabImg").attr("searchType",1);$("#empSearchBox").attr("value","");$("#department_search_box").focus();getSettings("deptsearch");}function getSearchStr(_1064){var _1065="";if(_1064==1){_1065=$("#department_search_box").val();}else{_1065=$("#empSearchBox").val();}if(_1065==null||_1065===undefined){_1065="";}return _1065;}function getSearchFirstLetter(_1066){var _1067="";if(_1066==1){_1067=$("#dept_criteria_list").find("a.sel").html();}else{_1067=$("#user_criteria_list").find("a.sel").html();}if(typeof _1067=="undefined"||_1067=="All"||_1067==null){_1067="";}return _1067;}function fetchSearchEmployeeList(_1068){var _1069=$("#searchTabImg").attr("searchType");if(_1069!=1){$("#empSearchBox").focus();}else{$("#department_search_box").focus();}var _106a="";var _106b="";var _106c="";var _106d="";var _106e="";var _106f="";var _1070="";var _1071=encodeURIComponent(trimBoth(getSearchStr(_1069)));var _1072=getSearchFirstLetter(_1069);_1070+=(_1071.length==0)?"":"searchstring="+_1071+"&searchType="+_1069;_1070+=(_1072.length==0)?"":"&startwith="+_1072;if(_1069!=1){_106a=$("#refineDept").val();_106a=_106a!=null?encodeURIComponent(trimBoth(_106a)):_106a;_106b=$("#refineTitle").val();_106b=_106b!=null?encodeURIComponent(trimBoth(_106b)):_106b;_106c=$("#refineNick").val();_106c=_106c!=null?encodeURIComponent(trimBoth(_106c)):_106c;_106d=$("#refineAboutMe").val();_106d=_106d!=null?encodeURIComponent(trimBoth(_106d)):_106d;_106e=$("#refineExpertise").val();_106e=_106e!=null?encodeURIComponent(trimBoth(_106e)):_106e;_106f=$("#refineTags").val();_106f=_106f!=null?encodeURIComponent(trimBoth(_106f)):_106f;_1070+=(_106a==null||_106a.length==0||_106a=="-None-")?"":"&department="+trimBoth(_106a);_1070+=(_106b==null||_106b.length==0||_106b=="-None-")?"":"&title="+trimBoth(_106b);_1070+=(_106c==null||_106c.length==0)?"":"&nickname="+trimBoth(_106c);_1070+=(_106d==null||_106d.length==0)?"":"&aboutme="+trimBoth(_106d);_1070+=(_106e==null||_106e.length==0)?"":"&expertise="+trimBoth(_106e);_1070+=(_106f==null||_106f.length==0)?"":"&tags="+trimBoth(_106f);}if(_1070.length>0){var _1073=_1070.indexOf("&");if(_1073==0){_1070=_1070.substring(1,_1070.length);}if(_1069==1){window.location.href="/people/#selfservice/directory/departments-"+_1070;}else{window.location.href="/people/#selfservice/directory/employees-"+_1070;}}else{if(_1068==true){if(_1069==1){window.location.href="/people/#selfservice/directory/departments-search";}else{window.location.href="/people/#selfservice/directory/employees-home";}}else{if(_1069==1){window.location.href="/people/#selfservice/directory/departments-search";}else{window.location.href="/people/#selfservice/directory/employees-home";}}}return;}function constructRefineSearchDropdown(_1074,_1075,dept,title,_1078,_1079,_107a,tags){var _107c="<option>"+i18n.common_noneoption+"</option>";var _107d="<option>"+i18n.common_noneoption+"</option>";for(var i=0;i<_1074.length;i++){if(decodeURIComponent(dept)==_1074[i]){_107c+="<option selected>"+_1074[i]+"</option>";}else{_107c+="<option>"+_1074[i]+"</option>";}}$("select#refineDept").html(_107c);for(var i=0;i<_1075.length;i++){if(decodeURIComponent(title)==_1075[i]){_107d+="<option selected>"+_1075[i]+"</option>";}else{_107d+="<option>"+_1075[i]+"</option>";}}$("select#refineTitle").html(_107d);$("input#refineNick").val(decodeURIComponent(_1078));$("input#refineAboutMe").val(decodeURIComponent(_1079));$("input#refineExpertise").val(decodeURIComponent(_107a));$("input#refineTags").val(decodeURIComponent(tags));}function constructSearchFilterTab(_107f,_1080,dept,title,_1083,_1084,_1085,tags,_1087){var _1088={"searchStr":_107f,"startwith":_1080,"dept":dept,"title":title,"nickname":_1083,"aboutme":_1084,"expertise":_1085,"tags":tags};var _1089=$("#"+_1087).children("span");_1089.each(function(){var _108a=$(this).attr("filter");if(_1088[_108a]!=""&&_1088[_108a]!=null){$(this).children("em").text(decodeURIComponent(_1088[_108a]));$(this).show();}else{$(this).hide();}});}revspecialcharrep=function(val){val=val.replace(/&/g,"&amp;");val=val.replace(/</g,"&lt;");val=val.replace(/>/g,"&gt;");val=val.replace(/\\"/g,"&quot;");val=val.replace(/'/g,"&apos;");val=val.replace(/'/g,"&#39;");return val;};function sendSearchRequest(_108c,_108d,_108e,dept,title,_1091,_1092,_1093,tags){var _1095="/people/listsearchemp.do?";var _1096="";if(_108c!=1){_1096="searchStr="+encodeURIComponent(_108d)+"&searchFirstLetter="+_108e+"&searchType="+_108c+"&startIndex=1"+"&department="+encodeURIComponent(dept)+"&title="+encodeURIComponent(title)+"&nickname="+encodeURIComponent(_1091)+"&aboutme="+encodeURIComponent(_1092)+"&expertise="+encodeURIComponent(_1093)+"&tags="+encodeURIComponent(tags);}else{_1096="searchStr="+encodeURIComponent(_108d)+"&searchFirstLetter="+_108e+"&searchType="+_108c+"&startIndex=1";}if(getCurrentUrlHash()=="selfservice/directory/employees-home"){_1096+="&isQuickSearch=true";}var url=_1095+_1096;if(getCurrentUrlHash()=="selfservice/directory/departments-search"||getCurrentUrlHash()=="selfservice/directory/employees-home"||getCurrentUrlHash()=="selfservice/directory/employees-search"){$("#searchFileterTab-emp").hide();$("#searchFileterTab-dept").hide();$("#department_search_box").val("");}else{$("#searchFileterTab-emp").show();$("#searchFileterTab-dept").show();constructSearchFilterTab(_108d,_108e,dept,title,_1091,_1092,_1093,tags,"searchFileterTab-emp");constructSearchFilterTab(_108d,_108e,dept,title,_1091,_1092,_1093,tags,"searchFileterTab-dept");}$.ajax({type:"GET",url:url,success:function(data){changecontentdiv("C_content");var _1099=$("#searchDetailsEmp");if(_108c==1){_1099=$("#searchDetailsDept");}var _109a=$("span#searchcount");if(getCurrentUrlHash()=="selfservice/directory/employees-home"&&_108c!=1){$("#searchMainDivEmp").removeClass("zc-componentBg").addClass("zc-componentNew");$("#searchMainDivDept").removeClass("zc-componentBg").addClass("zc-componentNew");_1099.hide();_109a.hide();$("#searchIntro").show().html(data);$("#empSearchBox").attr("value","");return;}else{if(_108c!=1){$("#searchMainDivEmp").removeClass("zc-componentNew").addClass("zc-componentBg");$("#searchMainDivDept").removeClass("zc-componentNew").addClass("zc-componentBg");}_1099.show();_109a.show();$("#searchIntro").hide();if(_108c!=1){$("#user_list_ul").html(data);}else{$("#dept_list_ul").html(data);}employee_status();_108e=(_108e=="")?"All":_108e;_1099.find("p.list a").each(function(){if(_108e.toUpperCase()==$(this).html().toUpperCase()){_1099.find("a").removeClass("sel");$(this).attr("class","sel");}});var _109b=$("#user_criteria_list");if(_108c==1){_109b=$("#dept_criteria_list");$("#department_search_box").attr("value",decodeURIComponent(_108d)).focus();}_109b.attr("searchStr",_108d);_109b.attr("searchFirstLetter",_108e);_109b.attr("searchtype",_108c);if(_108c!=1){_109b.attr("department",dept);_109b.attr("emptitle",title);_109b.attr("nickname",_1091);_109b.attr("aboutme",_1092);_109b.attr("expertise",_1093);_109b.attr("tags",tags);changeSearch($("#searchDropBoxId a[searchtype="+_108c+"]"));$("#empSearchBox").attr("value",decodeURIComponent(_108d)).focus();}$("#searchTabImg").attr("searchType",_108c);$("#C_content").css("display","");selectTopMenus("directory");}}});}function quickSearchShowHide(obj){$(obj).siblings("ul").children("li.dn").toggle();var val=($(obj).children("a").html()==i18n.more)?i18n.less:i18n.more;$(obj).children("a").html(val);}function loadUserListPage(_109e){var _109f=$("#user_criteria_list");if(_109e==1){_109f=$("#dept_criteria_list");}var _10a0=$("#searchDetailsEmp");if(_109e==1){_10a0=$("#searchDetailsDept");}_10a0.find("p.list a").click(function(){var _10a1=_10a0.find("a.sel").html();var _10a2=$("#user_list_ul").children("li[class!=noRec]").length;if(_109e==1){_10a2=$("#dept_list_ul").children("li[class!=noRec]").length;}if(_10a1!="All"||(_10a1=="All"&&_10a2>0)){_10a0.find("a").removeClass("sel");$(this).attr("class","sel");fetchSearchEmployeeList(true);}});var _10a3=$("#searchFileterTab-emp");var _10a4=$("#user_criteria_list").attr("searchtype");if(_109e==1){var _10a5=$("#department_search_box");_10a3=$("#searchFileterTab-dept");_10a4=$("#dept_criteria_list").attr("searchtype");_10a5.keydown(function(event){if(event.keyCode==13){$("#searchTabImg").attr("searchType",1);_109e=1;fetchSearchEmployeeList(true);}});}$("#refineSearchDiv").find("input").keydown(function(event){if(event.keyCode==13){fetchSearchEmployeeList(true);}});_10a3.children("span").click(function(){var _10a8={"searchStr":"searchstring","startwith":"startwith","dept":"department","title":"title","nickname":"nickname","aboutme":"aboutme","expertise":"expertise","tags":"tags"};var _10a9="";$(this).hide();$(this).siblings("span:visible").each(function(){var _10aa=$(this).attr("filter");var _10ab=$(this).children("em").html();_10a9+=(_10a9=="")?_10a8[_10aa]+"="+encodeURIComponent(_10ab):"&"+_10a8[_10aa]+"="+encodeURIComponent(_10ab);});if(_10a9==""){_10a9="search";}if(_10a4==1){window.location.href="/people/#selfservice/directory/departments-"+_10a9;}else{window.location.href="/people/#selfservice/directory/employees-"+_10a9;}return;});}function clearRefineCriteria(){$("#refineDept").val(jQuery("option:first",$("#refineDept")).val());$("#refineTitle").val(jQuery("option:first",$("#refineTitle")).val());$("#refineNick").val("");$("#refineAboutMe").val("");$("#refineExpertise").val("");$("#refineTags").val("");var _10ac=$("#searchTabImg");var _10ad=_10ac.attr("searchType");if(_10ad==1){$("#searchTabImg").attr("searchType",0);}}function toggleDivs(div1,div2,obj){$("#"+div1).toggle();$("#"+div2).toggle();}function updatechat(){var _10b1=csrfParamName+"="+csrfToken;var url="/people/UpdateChat.do";url=fixForCachingInIe(url);$.post(url,_10b1,function(data){showSuccessMessage(i18n.chatconfigurationchanged);window.location.reload();});}function updatemailserver(val){var _10b5="enablemail="+val+"&"+csrfParamName+"="+csrfToken;var url="/people/ChangeMailServer.do";url=fixForCachingInIe(url);$.post(url,_10b5,function(data){showSuccessMessage(i18n.mailconfigurationchanged);window.location.reload();});}function showEmpPopup(obj){var _10b9=$(obj).attr("erecno");var pos=$(obj).offset();var _10bb=$(obj).height();var width=$(obj).width();var zuid=$(obj).attr("zuid");var _10be=$(document).width();var _10bf=$("#emppopup_"+_10b9);if(_10bf.length==0){_10bf=$("#employeeHoverBox").clone();_10bf.attr("id","emppopup_"+_10b9);_10bf.find("[empattr=photo]").attr("src",$(obj).attr("src"));_10bf.find("[empattr=empname]").html($(obj).attr("empname"));_10bf.find("[empattr=empname]").attr("erecno",_10b9);_10bf.find("[empattr=email]").html($(obj).attr("email"));_10bf.find("[empattr=chatstatus]").attr("zuid",zuid);_10bf.find("[empattr=photo],[empattr=empname]").bind("click",{erecno:_10b9},getEmployeeProfilePage);_10bf.appendTo("body");}var _10c0=_10bf.width();if((pos.left+_10c0+25)>_10be){var _10c1=(_10be-(pos.left+_10c0))>0?(_10be-(pos.left+_10c0)):0;_10bf.css("right",_10c1);_10bf.css("left","auto");}else{_10bf.css("right","");_10bf.css("left",pos.left);}_10bf.css("top",pos.top+_10bb);_10bf.attr("ishover","true");empPopupHover(_10bf);setEmpPopChatStatus(_10bf);var doj=$(obj).attr("doj");if(doj==null){_10bf.find("[empattr=extension]").html($(obj).attr("extension"));}else{var msg=i18n.joinedon;msg=msg.replace("$doj",doj);_10bf.find("[empattr=extension]").html(msg);}setTimeout(function(){if(_10bf.attr("ishover")=="true"){_10bf.show();}},1000);}function hideEmpPopup(obj){var _10c5=$(obj).attr("erecno");var _10c6=$("#emppopup_"+_10c5);_10c6.attr("ishover","false");setTimeout(function(){if(_10c6.attr("ishover")=="false"){_10c6.hide();}},500);}function empPopupHover(_10c7){_10c7.hover(function(){_10c7.attr("ishover","true");_10c7.show();},function(){_10c7.attr("ishover","false");_10c7.hide();});}function setEmpPopChatStatus(obj){try{var _10c9=$(obj).find("img[empattr=chatstatus]");var zuid=_10c9.attr("zuid");if(zuid!=null||zuid>0){var _10cb=WmsContacts.getZohoContacts();var _10cc=_10cb[zuid]["STATUS"];if(_10cc==1){$(_10c9).removeClass().addClass("on");_10c9.bind("click",{zuid:zuid},startChatting);}else{if(_10cc==0){$(_10c9).removeClass().addClass("onGrey");_10c9.bind("click",{zuid:zuid},startChatting);}else{if(_10cc==3){$(_10c9).removeClass().addClass("off");_10c9.bind("click",{zuid:zuid},startChatting);}else{$(_10c9).removeClass().addClass("dn");}}}}else{$(_10c9).removeClass().addClass("dn");}}catch(err){$(_10c9).removeClass().addClass("dn");}}function startChatting(event){WebMessanger.chat(""+event.data.zuid);}function getEmployeeProfilePage(event){getProfile("empProfile",""+event.data.erecno);}function feedbackPage(){var _10cf=$("#feedback");var _10d0=false;if($("#feedback")[0]){_10d0=true;}if(_10d0){var data="<div class=\"menu-div outerbox\"  id=\"feedback\">"+_10cf.html()+"</div>";showfeebackdiv(data);}else{$.get("/people/getFeedBackPopUp.do",function(data){showfeebackdiv(data);});}}function showfeebackdiv(data){showDialog(data,"position=absolute, left=450px, top=150px, closeButton=no, modal=yes",null,null);$("#_DIALOG_LAYER").find("input:first").focus();centerDialog("_DIALOG_LAYER");}function sendfeedback(elm){var _10d5=$(elm).parents("table.popup-inner-table");if(_10d5){var _10d6=_10d5.find("#feedbacksubject").attr("value");var _10d7=_10d5.find("#feedbackmessage").attr("value");var _10d8=_10d5.find("#feedbacksubject");var _10d9=_10d5.find("#feedbackmessage");var _10da=_10d5.find("#captcha_Tr");var _10db=$(_10da).find("#captcha_Val").val();var _10dc=$(_10da).find("#captcha_Img").attr("hipDgst");$(_10d9).siblings("span[errdiv=message]").hide();$(_10d8).siblings("span[errdiv=subject]").hide();_10d6=$.trim(_10d6);_10d7=$.trim(_10d7);_10db=$.trim(_10db);_10dc=$.trim(_10dc);var _10dd="";var flag=false;if(_10d6==null||_10d6.length==0){flag=true;_10dd=i18n.feedback_subnotempty;$(_10d8).siblings("span[errdiv=subject]").html(_10dd);$(_10d8).siblings("span[errdiv=subject]").show();}else{if(_10d6.length>100){flag=true;_10dd=i18n.feedback_sublengthexceeds;$(_10d8).siblings("span[errdiv=subject]").html(_10dd);$(_10d8).siblings("span[errdiv=subject]").show();}}if(_10d7==null||_10d7.length==0){_10dd=i18n.feedback_msgnotempty;flag=true;$(_10d9).siblings("span[errdiv=message]").html(_10dd);$(_10d9).siblings("span[errdiv=message]").show();}if(flag){return;}else{var _10df=_10d5.find("#feedbacksendto input:radio:checked").val();var _10e0={"subject":_10d6,"message":_10d7,"sendtooption":_10df};_10e0[csrfParamName]=csrfToken;if(_10db&&_10dc){_10e0[_10dc]=_10db;}$.ajax({type:"POST",url:"/people/FeedbackForm.do",data:_10e0,success:function(data){cancelpopup("feedback");showSuccessMessage(data);},error:function(_10e2){var _10e3=_10e2.responseText;var _10e4=_10e3.indexOf("hipError:");if(_10e4!=-1){var _10e5=_10e3.substring(_10e4+9);$(_10da).css("display","table-row");var _10e6=$(_10da).find("#captcha_Img");$(_10e6).attr("src","/people/showcaptcha?digest="+_10e5);$(_10e6).attr("hipDgst",_10e5);}}});}}}function closedialog(divid){hideAllMenu();did=document.getElementById(divid);if(did){did.style.display="none";}var scrid=docid("FreezeLayer");if(scrid){document.body.removeChild(scrid);}}var timeoutObj="";function showhideprogressbar(_10e9){var _10ea=$("#zpeople_progressbar");if(_10e9){_10ea.css("display","");}else{_10ea.css("display","none");}if(timeoutObj){clearTimeout(timeoutObj);}timeoutObj=setTimeout("$('#zpeople_progressbar').hide()",10000);}function companySettings(){showhideprogressbar(true);window.location.href="/people/#admin/setuporganization/companysettings";return;}function setdefaultlogo(){var _10eb=document.getElementById("logoid");var _10ec=$(_10eb).find("div").attr("fileName");if(_10ec.length==0||_10ec==null){alert(i18n.defaultlogomessage);return;}var _10ed=$("#logoid").find("div[deflogo]").attr("deflogo");if(_10ed!=null&&_10ed=="true"){alert(i18n.defaultlogomessage);return;}var _10ee=confirm(i18n.deletelogomessage);if(_10ee==false){return;}var _10ef=true;var _10f0=document.getElementById("topcompanylogo");var _10f1="filename="+encodeURIComponent(_10ec)+"&Company="+encodeURIComponent(_10ef)+"&"+csrfParamName+"="+csrfToken;$.post("/people/removePhoto.do",_10f1,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$(_10eb).find("img").attr("src","/people/images/zoho-people.png");document.company_settings.isdefaultlogo.value="true";var _10f3=$(_10f0).children().get(0);$(_10f3).attr("src","/people/images/zoho-people.png");$(_10eb).find("div").attr("fileName","");$("#logoid").find("div[deflogo]").attr("deflogo","true");}});}function changelogo(){var _10f4=document.getElementById("logoid");_10f4.className="";_10f4.innerHTML="<input type=\"file\" name=\"logo_file\" class=\"ginput\">";document.company_settings.isdefaultlogo.value="false";}function showpopupDiv(cnt,type,event){if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(event);}else{hideOnlyHeaderMenus();hideSearchDropDownMenus();}var pDiv=$("[popupDivType='formsListDiv'][activePopUp='true'][popupid='"+cnt+"']");var _10f9="formsListDiv";if(type==1){pDiv=$("[popupDivType='formsListSrchDiv'][activePopUp='true'][popupid='"+cnt+"']");_10f9="formsListSrchDiv";}if(($(pDiv).css("display")=="none")){$(pDiv).find("input").val("");$("[.formDrop][activePopUp='true']").hide();$(pDiv).show();addEvent(document.body,"click",hidePopupDiv,true);}stopEventPropagation(event);}function getFormsListforSearch(_10fa,_10fb,_10fc){if(!_10fa&&!(_10fb!=null&&_10fb.length>0)){return;}var url="/people/getFormsList.do";var _10fe="formList=formListQuickViewSearch&searchParams="+_10fb+"&isSearch="+(!_10fa)+"&pageLinks="+_10fc;$.post(url,_10fe,function(data){$(".formDrop[popupdivtype='formsListSrchDiv']").remove();$(".formDrop").hide();$("#formsPopUpMainDiv").append(data);$(".formDrop[popupdivtype='formsListSrchDiv'][popupid='1']").show();});addEvent(document.body,"click",hidePopupDiv,true);}function searchForms(elm){var _1101=$(elm).parents("div.searchBox").find("input").val();var _1102=$(elm).parents("div.searchBox").attr("pageLink");_1101=encodeURIComponent($.trim(_1101));_1101.trim();if(_1101){getFormsListforSearch(false,_1101,_1102);}}function hidePopUps(elm,event){$(elm).parent().parent().css("display","none");stopEventPropagation(event);}function empSetup(type){if(type=="inviteEmps"){var url="/people/inviteEmployees.do";var _1107=$("#invemp_mailids").val();$("#invemp_mailids").parent().siblings("span[errmsg=mailids]").css("display","none");_1107=_1107.trim();if(_1107==""||_1107.length<=0){$("#invemp_mailids").parent().siblings("span[errmsg=mailids]").html(i18n.inviteempentermailid);$("#invemp_mailids").parent().siblings("span[errmsg=mailids]").show();return;}var _1108="";var _1109=(_1107).split(",");var _110a=true;var _110b="";var _110c=1;for(var i=0;i<_1109.length;i++){var _110e=_1109[i];_110e=_110e.trim();if(_110e==""||_110e.length<=0){continue;}if(!testEmailStringSyntax(_110e)){_110b+="<li>"+(_110c++)+". "+_110e+"</li>";_110a=false;}else{_1108+=_110e+",";}}if(!_110a){$("#invemp_mailids").parent().siblings("span[errmsg=mailids]").html("<b>"+i18n.inviteempentermailidvalid+"</b><ul class='mt7'>"+_110b+"</ul>");$("#invemp_mailids").parent().siblings("span[errmsg=mailids]").show();return;}var _110f="emailIds="+encodeURIComponent(_1108)+"&"+csrfParamName+"="+csrfToken;$.post(url,_110f,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _1111=data;if(!_1111||_1111.indexOf("Success",0)==-1){$("#invemp_status").html(data);$("#invemp_status").show();}else{window.location.href="/people/#admin/userspermissions/users";setTimeout("getUserListingByType('2',true,'0')",300);}}});}}function resendInvitation(_1112,_1113,_1114){$("#errorDivDummy").hide();$("#errorDivDummy").find("ul[errMsg='here']").html("");var url="/people/ResendInvitation.do";var _1116="erecno="+_1112+"&emailid="+_1114+"&"+csrfParamName+"="+csrfToken;$.post(url,_1116,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert("Sorry, Invitation cannot be resent in this readonly version.");}else{var _1118=data;if(_1118.indexOf("Error:")==0){$("#errorDivDummy").find("span[errMsg='here']").html(_1118.split("-")[1]);$("#errorDivDummy").show();}else{showSuccessMessage(i18n.invitationsent);}}});}function convertdowngradedtoActive(_1119,sort){var url="/people/UpgradeUsers.do";var _111c="erecno="+_1119+"&"+csrfParamName+"="+csrfToken;$.post(url,_111c,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!=null&&data.indexOf("Error:")==0){var _111e=data.replace("Error:","");alert(_111e);}else{if(data!=null&&data.indexOf("Success:")==0){var _111f=data.replace("Success:","");showSuccessMessage(_111f);setTimeout(function(){getUserListingByType("6",true,sort);},1000);}}}});}function loadWidgetPages(_1120){var _1121="";showhideprogressbar(true);switch(_1120){case "myApprovals":_1121="/people/#home/myapprovals";window.location.href=_1121;return;case "myRequests":_1121="/people/#home/myrequests";window.location.href=_1121;return;case "Announcements":_1121="/people/#home/announcements";window.location.href=_1121;return;case "myChecklists":_1121="/people/#home/checklists";window.location.href=_1121;return;}}function getWidgetPages(_1122,_1123){var _1124="";var _1125="";var url="";switch(_1122){case "myApprovals":_1124="/people/getApprovals.do?";_1125="pType=myApprovals&statusOpt="+_1123+"&isAjax=true";break;case "myRequests":_1124="/people/getApprovals.do?";_1125="pType=myRequests&statusOpt="+_1123+"&isAjax=true";break;}ajaxForGetLeftBand(_1124,_1125,_1122);}var firescroll=false;var endofrecord=false;function fireInfineScrollEvent(){try{var divId="";jQuery("#contentdiv").onScrollBeyond("enable");jQuery("#contentdiv").onScrollBeyond(function(){var hash=Layout.findHash();var _1129=hash.split("-")[0];var _112a=$("[fireinfinescroll=true]").length;if(_112a<=0){jQuery("#contentdiv").onScrollBeyond("disable");return;}var url="";var _112c="";var _112d="";var _112e=1;switch(_1129){case "home/approvals":divId="myapprovals_accord";_112e=$("#"+Layout.containerid).find("#"+divId).find("tr").length;var _112f=$("#"+Layout.containerid).find("#"+divId).attr("statusOpt");_112c="/people/getApprovals.do?";_112d="pType=myApprovals&statusOpt="+_112f+"&startIndex="+_112e+"&isAjax=true";url=_112c+_112d;break;case "home/requests":divId="myrequests_accord";var _112f=$("#"+Layout.containerid).find("#"+divId).attr("statusOpt");_112e=$("#"+Layout.containerid).find("#"+divId).find("tr").length;_112c="/people/getApprovals.do?";_112d="pType=myRequests&statusOpt="+_112f+"&startIndex="+_112e+"&isAjax=true";url=_112c+_112d;break;case "home/announcements/havetochange":divId="announcement_accord1";_112c="/people/getAnnouncement.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;_112d="startIndex="+_112e+"&isAjax="+true;url=_112c+_112d;break;case "selfservice/directory/employees":divId="user_list_ul";_112c="/people/listsearchemp.do?";var obj=$("#"+Layout.containerid).find("#user_criteria_list");var _1131=obj.attr("searchStr");var _1132=obj.attr("searchType");var _1133=obj.attr("searchFirstLetter");_1133=(_1133=="All")?"":_1133;_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length*2+1;if(parseInt(_1132)!=1){var dept=obj.attr("department");var title=obj.attr("emptitle");var _1136=obj.attr("nickname");var _1137=obj.attr("aboutme");var _1138=obj.attr("expertise");var tags=obj.attr("tags");_112d="searchStr="+encodeURIComponent(_1131)+"&searchFirstLetter="+_1133+"&searchType="+_1132+"&startIndex="+_112e+"&department="+dept+"&title="+title+"&nickname="+_1136+"&aboutme="+_1137+"&expertise="+_1138+"&tags="+tags;}else{_112d="searchStr="+encodeURIComponent(_1131)+"&searchFirstLetter="+_1133+"&searchType="+_1132+"&startIndex="+_112e;}url=_112c+_112d;break;case "selfservice/directory/departments":divId="dept_list_ul";_112c="/people/listsearchemp.do?";var obj=$("#"+Layout.containerid).find("#dept_criteria_list");var _1131=obj.attr("searchStr");var _1132=obj.attr("searchType");var _1133=obj.attr("searchFirstLetter");_1133=(_1133=="All")?"":_1133;_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length*2+1;if(parseInt(_1132)==0){var dept=obj.attr("department");var title=obj.attr("emptitle");var _1136=obj.attr("nickname");var _1137=obj.attr("aboutme");var _1138=obj.attr("expertise");var tags=obj.attr("tags");_112d="searchStr="+encodeURIComponent(_1131)+"&searchFirstLetter="+_1133+"&searchType="+_1132+"&startIndex="+_112e+"&department="+dept+"&title="+title+"&nickname="+_1136+"&aboutme="+_1137+"&expertise="+_1138+"&tags="+tags;}else{_112d="searchStr="+encodeURIComponent(_1131)+"&searchFirstLetter="+_1133+"&searchType="+_1132+"&startIndex="+_112e;}url=_112c+_112d;break;case "admin/userspermissions/users":divId="usersListing_scroll";$("#"+Layout.containerid).find("#"+divId).children("li").removeClass("bn");_112c="/people/getUserListing.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;var type=$("#"+Layout.containerid).find("#"+divId).attr("showType");var sort=$("#"+Layout.containerid).find("#"+divId).attr("sortBy");var _113c=$("#"+divId).attr("searchVal");sort=(sort!=null&&(sort==2||sort==0))?sort:0;_112d="type="+type+"&startInd="+_112e+"&isAjax=true"+"&sortByType="+sort;if(_113c!=null&&_113c!=""){_112d+="&searchval="+encodeURIComponent(_113c);}url=_112c+_112d;break;case "admin/nonusers/list":divId="usersListing_scroll";$("#"+Layout.containerid).find("#"+divId).children("li").removeClass("bn");_112c="/people/getUserListing.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;var type=$("#"+Layout.containerid).find("#"+divId).attr("showType");var sort=$("#"+Layout.containerid).find("#"+divId).attr("sortBy");var _113c=$("#"+Layout.containerid).find("#"+divId).attr("searchVal");sort=(sort!=null&&(sort==2||sort==0))?sort:0;_112d="type="+type+"&startInd="+_112e+"&isAjax=true"+"&sortByType="+sort;if(_113c!=null&&_113c!=""){_112d+="&searchval="+encodeURIComponent(_113c);}url=_112c+_112d;break;case "departments/profile":var _113d=$("#"+Layout.containerid).find("#parentDeptId").attr("value");divId="DepartmentListing";_112c="/people/GetDeptProfile.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;_112d="deptId="+_113d+"&startIndex="+_112e;url=_112c+_112d;break;case "employees/orgstructure":var _113d=$("#"+Layout.containerid).find("#parentDeptId").attr("value");if(_113d==null){_113d=0;}divId="deptmemberlist";var _112c="/people/GetDeptMembers.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;_112d="deptId="+_113d+"&startIndex="+_112e;url=_112c+_112d;break;case "admin/setuporganization/departments":divId="departments_scroll";var _112c="/people/getDepartmentDetails.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;var sort=$("#"+Layout.containerid).find("#"+divId).attr("sortBy");sort=(sort!=null&&(sort==2||sort==0))?sort:0;_112d="setupType=departments&isAjax=true&startInd="+_112e+"&sortByType="+sort;url=_112c+_112d;break;case "admin/setuporganization/designations":divId="designations_scroll";var _112c="/people/getDesignationDetails.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children("li").length+1;var sort=$("#"+Layout.containerid).find("#"+divId).attr("sortBy");sort=(sort!=null&&(sort==2||sort==0))?sort:0;_112d="setupType=designation&isAjax=true&startInd="+_112e+"&sortByType="+sort;url=_112c+_112d;break;case "admin/leave/manageleavetype":divId="replaceData_Div";var _112c="/people/getManageLeaveType.do?";_112e=$("#"+Layout.containerid).find("#"+divId).children().children("tr").length;var sort=$("#"+Layout.containerid).find("#"+divId).attr("sortBy");sort=(sort!=null&&(sort==2||sort==0))?sort:0;_112d="isAjax=true&startInd="+_112e+"&sortByType="+sort;url=_112c+_112d;break;default:return false;break;}var _113e=$("#"+Layout.containerid).find("#"+divId);if(!endofrecord&&_112e>5&&!firescroll){firescroll=true;var _113f=$("#fetchfRecordDiv").children().clone();_113e.append(_113f);_113e.ajaxStart(function(){jQuery("#contentdiv").onScrollBeyond("disable");});_113e.ajaxComplete(function(){jQuery("#contentdiv").onScrollBeyond("enable");});$.ajax({type:"GET",url:url,success:function(data){if(_1129=="home/approvals"||_1129=="home/requests"){if(data.indexOf("noNextPage")!=-1){endofrecord=true;if($("#"+Layout.containerid).find("#noNextPage").length<1){_113e.find("tr:last").after($(data).find("tr"));}}else{_113e.find("tr:last").after($(data).find("tr"));}}else{if(data.indexOf("noNextPage")!=-1){endofrecord=true;if($("#"+Layout.containerid).find("#noNextPage").length<1){if(_1129=="admin/leave/manageleavetype"){_113e.children().append(data);}else{_113e.append(data);}}}else{if(_1129=="admin/leave/manageleavetype"){_113e.children().append(data);}else{_113e.append(data);}}employee_status();}$(_113f).remove();firescroll=false;}});}});}catch(e){}}function centerDialog(divid,_1142){var divId=$(document).find("#"+divid);var ht=divId.height();var wd=divId.width();if(ht==0){ht=280;}if(wd==0){wd=350;}windowHgt=$(window).height();windowWdt=$(window).width();scrollTp=$(window).scrollTop();scrollLft=$(window).scrollLeft();var top=0;var left=0;if(ht>windowHgt){top=scrollTp+100;}else{top=(windowHgt-ht)/2+scrollTp+100;}if(wd>windowWdt){left=scrollLft+100;}else{left=(windowWdt-wd)/2+scrollLft;}if(_1142){top=top-_1142;}divId.css("top",top+"px");divId.css("left",left+"px");divId.css("position","absolute");}function approverecordactions(dfaid,_1149){var rmks=$("#"+Layout.containerid).find("#approvalsMainDiv").find("[name='appcomments']").val();var _114b=$("#"+Layout.containerid).find("#appErrDiv");_114b.html("");$("#"+Layout.containerid).find("#approvalsMainDiv").find("div[popup='true']").hide();if(dfaid!=null&&_1149!=null&&rmks.length<=255){var url="/people/dataApproveReject.do";var _114d="dfaid="+dfaid+"&status="+_1149+"&remarks="+rmks;_114d+="&"+csrfParamName+"="+csrfToken;$.post(url,_114d,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _114f=data;if(!_114f||_114f.indexOf("error",0)!=-1){showErrorMessage(i18n.approverecordupdatefailed);}else{$("#"+Layout.containerid).find("#approvalsMainDiv").html(data);}}});}else{if(rmks.length>255){var msg=i18n.approverejectcommentslengthvalidation;msg=msg.replace("$length",255);_114b.html(msg).show();}}}function widgetapproverecordactions(dfaid,_1152){if(dfaid!=null&&_1152!=null){var url="/people/dataApproveReject.do";var _1154="dfaid="+dfaid+"&status="+_1152+"&remarks=";_1154+="&"+csrfParamName+"="+csrfToken;$.post(url,_1154,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _1156=data;if(!_1156||_1156.indexOf("error",0)!=-1){showErrorMessage(i18n.approverecordupdatefailed);}else{$("#"+Layout.containerid).find("#approvalsMainDiv").html(data);}}});}}function showAllImages(obj,divId){var oper=$(obj).attr("oper");$("#"+Layout.containerid).find("#"+divId).children("li[divno]").filter(":gt(11)").slideToggle(100);if(oper=="more"){$(obj).attr("oper","less").html(i18n.less);}else{if(oper=="less"){$(obj).attr("oper","more").html(i18n.more);}}}function showAllForms(obj,divId){var oper=$(obj).attr("oper");$("#"+divId).children("li[divno]").filter(":gt(4)").slideToggle(100);if(oper=="more"){$(obj).attr("oper","less").html(i18n.less);}else{if(oper=="less"){$(obj).attr("oper","more").html(i18n.more);}}}function saveRename(event,opt,obj,id){if(event.keyCode==13){switch(opt){case "role":editRole(obj,id);break;case "form":saveform(id,obj);break;case "tab":renametab(id);break;default:return;}}else{if(event.keyCode==27){var _1161=$(obj).attr("orgvalue");$(obj).attr("value",_1161);$(obj).removeClass("sel").blur();if(opt=="role"){$(obj).parent("div").siblings("span").hide();}}}}var endsWith=function(str,_1163){var _1164=_1163.length;var _1165=str.length;if(_1164>str.length){return false;}return (str.substr(_1165-_1164,_1164)==_1163);};function exportdata(_1166,mode){var _1168="all";var _1169="all";var frmId=$(_1166).parent().attr("formId");var _116b=$(_1166).parent().attr("viewId");if(mode!="leave_form"){_1168=$(_1166).parent().attr("viewType");_1169=$(_1166).parent().attr("approvalType");}var type;var _116d=$(_1166).find("#includeTabularSection").attr("checked");if(_116d==null){_116d="false";}var obj=createDomElementWithAttr("FORM",{"name":"ExportForm","method":"post","action":"/people/ExportData.do"});obj.appendChild(createDomElementWithAttr("input",{"name":"hrmsform","value":frmId,"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"viewID","value":_116b,"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"includeTabular","value":_116d,"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":csrfParamName,"value":csrfToken,"type":"hidden"}));if(mode!="leave_form"){obj.appendChild(createDomElementWithAttr("input",{"name":"approvalStatus","value":_1169,"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"typeOfView","value":_1168,"type":"hidden"}));}if(mode=="leave_form"){var _116f=$("#"+Layout.containerid);obj.appendChild(createDomElementWithAttr("input",{"name":"ERECNO","value":_116f.find("#emp_erec_hid").val(),"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"fromDate","value":_116f.find("#leave_list_from_date").val(),"type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"toDate","value":_116f.find("#leave_list_to_date").val(),"type":"hidden"}));}if(mode=="FORMPROFILE"){obj.appendChild(createDomElementWithAttr("input",{"name":"mode","value":"FORMPROFILE","type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"ERECNO","value":profileActions.profileMap["profileErecNo"],"type":"hidden"}));}if(_1166.exp_option[0].checked){obj.appendChild(createDomElementWithAttr("input",{"name":"ftype","value":"xls","type":"hidden"}));document.body.appendChild(obj);obj.submit();}else{if(_1166.exp_option[1].checked){obj.appendChild(createDomElementWithAttr("input",{"name":"ftype","value":"csv","type":"hidden"}));document.body.appendChild(obj);obj.submit();}else{if(_1166.exp_option[2].checked){obj.appendChild(createDomElementWithAttr("input",{"name":"ftype","value":"tsv","type":"hidden"}));document.body.appendChild(obj);obj.submit();}else{if(_1166.exp_option[3].checked){obj.appendChild(createDomElementWithAttr("input",{"name":"ftype","value":"xls","type":"hidden"}));obj.appendChild(createDomElementWithAttr("input",{"name":"zohosheet","value":true,"type":"hidden"}));document.body.appendChild(obj);obj.submit();}}}}closeDialog();}function getProfile(_1170,id){var url="/people/#selfservice/profile";if(_1170!="deptProfile"){if(id!=null){url="/people/#employees/profile-"+id;}window.location.href=url;return;}url="/people/#departments/profile";if(id!=null){url+="-"+id;}window.location.href=url;}function editProfile(_1173,_1174){loadFormAndViewPages("profileEdit",_1173,_1174);}function tabCust(id){var _1176=$("#accordion");_1176.sortable({axis:"y",handle:"span.drag",update:function(){var _1177=_1176.sortable("toArray");var _1178="tabIds="+_1177+"&"+csrfParamName+"="+csrfToken;$.post("/people/ReorderTab.do",_1178,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);window.location.reload();}else{showSuccessMessage(i18n.tabcustomizationupdatedmessage);window.location.reload();}});}});$(ids).sortable({connectWith:$(ids),axis:"y",cursor:"move",handle:"span.drag",update:function(event,ui){var _117c=ui.item.attr("id");var _117d=$("#"+_117c);var _117e=_117d.parent().attr("id");_117e=_117e.substring(_117e.indexOf("_")+1,_117e.length);var _117f=null;_117d.parent().children().each(function(i){if(this.nodeName=="LI"){var _1181=$(this).attr("id");if(_1181!="dummy"){if(_117f==null){_117f=_1181;}else{_117f=_117f+","+_1181;}}}});var _1182="formIds="+_117f+"&parenttabid="+_117e+"&"+csrfParamName+"="+csrfToken;$.post("/people/ReorderForm.do",_1182,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);window.location.reload();}else{var rel=$(_117d).attr("rel");if(rel!=null&&rel=="true"){window.location.reload();}else{showSuccessMessage(i18n.tabcustomizationupdatedmessage);}}});},start:function(event,ui){var _1187=ui.item.attr("id");var _1188=$("#"+_1187);var _1189=_1188.parent().attr("id");var _118a=$("#"+_1189).find("li[custom=\"true\"]").length;if(_118a==2){$("#"+_1189).find("li[id=dummy]").show();ui.item.attr("rel","true");}},stop:function(event,ui){var _118d=ui.item.attr("id");var _118e=$("#"+_118d);var _118f=_118e.parent().attr("id");if($("#"+_118f).find("li[id=dummy]").css("display")!="none"){$("#"+_118f).find("li[id=dummy]").hide();ui.item.attr("rel","true");}var _1190=$("#"+_118f).find(":first").attr("id");if(_1190==_118d){window.location.reload();}}});$(ids).mousedown(function(e){var ifIE=$.browser.msie;if(ifIE){return false;}});changeInputFieldClass();}function changeInputFieldClass(){var _1193=$("input.inp");_1193.click(function(){_1193.removeClass("sel");$(this).addClass("sel");}).blur(function(){$(this).val($(this).attr("orgvalue"));_1193.removeClass("sel");});}function selectTopMenus(_1194){var _1195=$("#peopletabs_subtabs");var _1196=$(_1195).find("span[level2name="+_1194+"]");var _1197=$(_1196).parent();$(_1195).css("display","");if($(_1197).attr("activesubmenu")!="true"){var _1198=$(_1195).find("div[activesubmenu='true']");$(_1198).attr("activesubmenu","false");$(_1198).css("display","none");$(_1197).attr("activesubmenu","true");$(_1197).css("display","");var _1194=$(_1197).attr("menuitem");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$("#peopletabs_maintabs").find("li[menuitem="+_1194+"]").find("a").addClass("sel");}if($(_1196).attr("class")!="selArw"){$(_1196).parent().find("span[class='selArw']").removeClass("selArw");$(_1196).addClass("selArw");}}function selectadminmenuopts(_1199){$("#adminmenuopts").find("a.sel").attr("class","");$("#adminmenuopts").find("a[menuName="+_1199+"]").attr("class","sel");if(_1199=="customizeFrm"){$("#Rcont_contL").css("position","static");}}function selectTabsforSetup(){var _119a=$("#peopletabs_subtabs");var _119b=$(_119a).find("div[activesubmenu='true']");$(_119b).attr("activesubmenu","false");$(_119b).css("display","none");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$(_119a).css("display","none");$("#peopletabs_maintabs").addClass("navAdmin");}function selectTabsforMenu(_119c){$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$("#peopletabs_maintabs").find("li[menuitem="+_119c+"]").find("a").addClass("sel");var _119d=$("#peopletabs_subtabs");var _119e=$(_119d).find("p[activesubmenu='true']");$(_119e).attr("activesubmenu","false");$(_119e).css("display","none");var _119f=$(_119d).find("p[menuitem="+_119c+"]");$(_119f).attr("activesubmenu","true");$(_119f).css("display","");}function getCurrentContextFormID(){var _11a0=getCurrentUrlHash();var _11a1=getCurrentUrlContext();var _11a2=_11a0.split("/");var _11a3=_11a2[0];var tabId=_11a2[1];var _11a5=(_11a1.indexOf("view/live/list")!=-1||_11a1.indexOf("view/edit")!=-1)?tabId.split(":")[1]:_11a3.split(":")[1];return _11a5;}function selectFormMenus(form,view,_11a8){var _11a9=$("#peopletabs_subtabs");var _11aa=null;var _11ab=0;_11ab=isformpresentintabmenus(form,_11a8);var _11ac=$("#allFormsMenuLi");var check=$(_11ac).attr("reloaded");if(check=="true"&&_11ab==0){var _11ae=window.location.href;var epos=_11ae.indexOf("#");var _11b0=null;if(epos!=-1){_11b0=getCurrentContextFormID();}loadtabformmenus(_11b0,_11ae);return;}if(form!=null){_11aa=$(_11a9).find("span[level2formname=form_"+form+"]");}else{if(_11a8!=null){_11aa=$(_11a9).find("span[level2name=tab_"+_11a8+"]");}}if(_11aa==null){return;}var _11b1=$(_11aa).parent();$(_11a9).css("display","");if($(_11b1).attr("activesubmenu")!="true"){var _11b2=$(_11a9).find("div[activesubmenu='true']");$(_11b2).attr("activesubmenu","false");$(_11b2).css("display","none");$(_11b1).attr("activesubmenu","true");$(_11b1).css("display","");var _11b3=$(_11aa).attr("tabid");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$("#peopletabs_maintabs").find("li[menuitem="+_11b3+"]").find("a").addClass("sel");}else{$.each($(_11a9).find("div[activesubmenu='true']"),function(index,elem){$(elem).attr("activesubmenu","false");$(elem).css("display","none");});$(_11b1).attr("activesubmenu","true");$(_11b1).css("display","");var _11b3=$(_11aa).attr("tabid");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$("#peopletabs_maintabs").find("li[menuitem="+_11b3+"]").find("a").addClass("sel");}if($(_11aa).attr("class")!="selArw"){$(_11aa).parent().find("span[class='selArw']").removeClass("selArw");$(_11aa).addClass("selArw");}}function removeAllMenuSelectionsForImport(){var _11b6=$("#peopletabs_subtabs");var _11b7=$(_11b6).find("div[activesubmenu='true']");$(_11b7).attr("activesubmenu","false");$(_11b7).css("display","none");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");}function isformpresentintabmenus(form,_11b9){var _11ba=$("#peopletabs_subtabs");var _11bb=0;if(form!=null){_11bb=$(_11ba).find("span[level2formname=form_"+form+"]").length;}else{if(_11b9!=null){_11bb=$(_11ba).find("span[level2name=tab_"+_11b9+"]").length;}}return _11bb;}function addDummyUser(){var _11bc=$("#dummyEmployee_maindiv");$(_11bc).find("span.enter").hide();$("#errorDivDummy").hide();$("#errorDivDummy").find("ul[errMsg='here']").html("");$(_11bc).find("td.error").removeClass("error");var ermsg="success";var _11be=$(_11bc).find("input[Dname=\"dummy_EmployeeId\"]");var empId=trimBoth($(_11be).val());if(empId==null||empId==""||empId.length<=0){ermsg=i18n.enteremployeeid;$(_11be).parent("div").parent("td").addClass("error");$(_11be).parent("div").parent("td").siblings("td").addClass("error");$(_11be).parent("div").children("span").html(ermsg);$(_11be).parent("div").children("span").show();}var _11c0=$(_11bc).find("input[Dname=\"dummy_EmployeeFname\"]");var _11c1=trimBoth($(_11c0).val());if(_11c1==null||_11c1==""||_11c1.length<=0){ermsg=i18n.enterfirstname;$(_11c0).parent("div").parent("td").addClass("error");$(_11c0).parent("div").parent("td").siblings("td").addClass("error");$(_11c0).parent("div").children("span").html(ermsg);$(_11c0).parent("div").children("span").show();}var _11c2=$(_11bc).find("input[Dname=\"dummy_EmployeeLname\"]");var _11c3=trimBoth($(_11c2).val());if(_11c3==null||_11c3==""||_11c3.length<=0){_11c3="";}var _11c4=$(_11bc).find("input[Dname=\"dummy_EmployeeEmail\"]");var _11c5=$(_11c4).val().trim();if(_11c5==null||_11c5==""||_11c5.length<=0){_11c5="";}else{if(!testEmailStringSyntax(_11c5)){ermsg=i18n.entervalidemailid;$(_11c4).parent("div").parent("td").addClass("error");$(_11c4).parent("div").parent("td").siblings("td").addClass("error");$(_11c4).parent("div").children("span").html(ermsg);$(_11c4).parent("div").children("span").show();}}if(ermsg=="success"){var url="/people/addDummyEmployee.do";var _11c7={"empFname":_11c1,"empLname":_11c3,"empMail":_11c5,"empId":empId};_11c7[csrfParamName]=csrfToken;$.post(url,_11c7,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _11c9=data;if(_11c9.indexOf("Error:")==0){_11c9=_11c9.substring("Error:".length);var _11ca=new Array();_11ca=_11c9.split(",");for(i=0;i<_11ca.length;i++){if(_11ca[i].indexOf(empId)==0){ermsg=_11ca[i].substr(empId.length+(" - ").length).toString();$(_11be).parent("div").parent("td").addClass("error");$(_11be).parent("div").parent("td").siblings("td").addClass("error");$(_11be).parent("div").children("span").html(ermsg);$(_11be).parent("div").children("span").show();}else{if(_11ca[i].indexOf(_11c5)==0){ermsg=_11ca[i].substr(_11c5.length+(" - ").length).toString();if(ermsg==i18n.hrms_SetupOrg_anotherorg){freezeBackground();document.getElementById("anotherOrgUserErrorMsgDiv").style.display="";}else{$(_11c4).parent("div").parent("td").addClass("error");$(_11c4).parent("div").parent("td").siblings("td").addClass("error");$(_11c4).parent("div").children("span").html(ermsg);$(_11c4).parent("div").children("span").show();}}}}$("#errorDivDummy").find("span[errMsg='here']").html();$("#errorDivDummy").show();}else{getSettings("dummyemployees");}}});}else{$("#errorDivDummy").show();}}function addUser(){var _11cb=$("#dummyEmployee_maindiv");$(_11cb).find("span.enter").hide();$("#errorDivDummy").hide();$("#errorDivDummy").find("ul[errMsg='here']").html("");$(_11cb).find("td.error").removeClass("error");var ermsg="success";erms=i18n.hrms_admin_errormsg;var _11cd=$(_11cb).find("input[Dname=\"dummy_EmployeeId\"]");var empId=trimBoth($(_11cd).val());if(empId==null||empId==""||empId.length<=0){ermsg=i18n.enteremployeeid;$(_11cd).parent("div").parent("td").addClass("error");$(_11cd).parent("div").parent("td").siblings("td").addClass("error");$(_11cd).parent("div").children("span").html(ermsg);$(_11cd).parent("div").children("span").show();}var _11cf=$(_11cb).find("input[Dname=\"dummy_EmployeeFname\"]");var _11d0=trimBoth($(_11cf).val());if(_11d0==null||_11d0==""||_11d0.length<=0){ermsg=i18n.enterfirstname;$(_11cf).parent("div").parent("td").addClass("error");$(_11cf).parent("div").parent("td").siblings("td").addClass("error");$(_11cf).parent("div").children("span").html(ermsg);$(_11cf).parent("div").children("span").show();}var _11d1=$(_11cb).find("input[Dname=\"dummy_EmployeeLname\"]");var _11d2=trimBoth($(_11d1).val());if(_11d2==null||_11d2==""||_11d2.length<=0){_11d2="";}var _11d3=$(_11cb).find("input[Dname=\"dummy_EmployeeEmail\"]");var _11d4=$(_11d3).val().trim();if(_11d4==null||_11d4==""||_11d4.length<=0){ermsg=i18n.enteremailid;$(_11d3).parent("div").parent("td").addClass("error");$(_11d3).parent("div").parent("td").siblings("td").addClass("error");$(_11d3).parent("div").children("span").html(ermsg);$(_11d3).parent("div").children("span").show();}else{if(!testEmailStringSyntax(_11d4)){ermsg=i18n.entervalidemailid;$(_11d3).parent("div").parent("td").addClass("error");$(_11d3).parent("div").parent("td").siblings("td").addClass("error");$(_11d3).parent("div").children("span").html(ermsg);$(_11d3).parent("div").children("span").show();}}if(ermsg=="success"){var url="/people/addUser.do";var _11d6={"empFname":_11d0,"empLname":_11d2,"empMail":_11d4,"empId":empId};_11d6[csrfParamName]=csrfToken;$.post(url,_11d6,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _11d8=data;if(_11d8.indexOf("Success")==0){window.location.href="/people/#admin/userspermissions/users";setTimeout("getUserListingByType('2',true,'0')",300);}else{if(_11d8==i18n.hrms_SetupOrg_upgradeToAdd){$("#errorDivDummy").find("span[errMsg='here']").html(_11d8);$("#errorDivDummy").show();}else{var _11d9=new Array();_11d9=_11d8.split(",");for(i=0;i<_11d9.length;i++){if(_11d9[i].indexOf(empId)==0){ermsg=_11d9[i].substr(empId.length+(" - ").length).toString();$(_11cd).parent("div").parent("td").addClass("error");$(_11cd).parent("div").parent("td").siblings("td").addClass("error");$(_11cd).parent("div").children("span").html(ermsg);$(_11cd).parent("div").children("span").show();}else{if(_11d9[i].indexOf(_11d4)==0){ermsg=_11d9[i].substr(_11d4.length+(" - ").length).toString();if(ermsg==i18n.hrms_SetupOrg_anotherorg){freezeBackground();document.getElementById("anotherOrgUserErrMsgDiv").style.display="";}else{$(_11d3).parent("div").parent("td").addClass("error");$(_11d3).parent("div").parent("td").siblings("td").addClass("error");$(_11d3).parent("div").children("span").html(ermsg);$(_11d3).parent("div").children("span").show();}}}}$("#errorDivDummy").find("span[errMsg='here']").html(erms);$("#errorDivDummy").show();}}}});}else{$("#errorDivDummy").find("span[errMsg='here']").html(erms);$("#errorDivDummy").show();}}function getMigrateEmployeePage(_11da){var _11db="/people/addDummyEmployeePage.do";var _11dc="";if(_11da){_11dc="pType=migrate"+"&empErecNum="+_11da;$.get(_11db,_11dc,function(data){changecontentdiv("C_content");$("#C_content").html(data);});}}function migrateDummyUser(){var _11de=$("#dummyEmployee_maindiv");$(_11de).find("span.enter").hide();$("#errorDivDummy").hide();$("#errorDivDummy").find("ul[errMsg='here']").html("");$(_11de).find("td.error").removeClass("error");var ermsg="success";var _11e0=$(_11de).attr("empErecNum");var _11e1=$(_11de).find("input[Dname=\"dummy_EmployeeId\"]");var empId=trimBoth($(_11e1).val());if(empId==null||empId==""||empId.length<=0){ermsg=i18n.enteremployeeid;$(_11e1).parent("div").parent("td").addClass("error");$(_11e1).parent("div").parent("td").siblings("td").addClass("error");$(_11e1).parent("div").children("span").html(ermsg);$(_11e1).parent("div").children("span").show();}var _11e3=$(_11de).find("input[Dname=\"dummy_EmployeeFname\"]");var _11e4=trimBoth($(_11e3).val());if(_11e4==null||_11e4==""||_11e4.length<=0){ermsg=i18n.enterfirstname;$(_11e3).parent("div").parent("td").addClass("error");$(_11e3).parent("div").parent("td").siblings("td").addClass("error");$(_11e3).parent("div").children("span").html(ermsg);$(_11e3).parent("div").children("span").show();}var _11e5=$(_11de).find("input[Dname=\"dummy_EmployeeLname\"]");var _11e6=trimBoth($(_11e5).val());if(_11e6==null||_11e6==""||_11e6.length<=0){ermsg=i18n.enterlastname;$(_11e5).parent("div").parent("td").addClass("error");$(_11e5).parent("div").parent("td").siblings("td").addClass("error");$(_11e5).parent("div").children("span").html(ermsg);$(_11e5).parent("div").children("span").show();}var _11e7=$(_11de).find("input[Dname=\"dummy_EmployeeEmail\"]");var _11e8=trimBoth($(_11e7).val());if(_11e8==null||_11e8==""||_11e8.length<=0){ermsg=i18n.enteremailid;$(_11e7).parent("div").parent("td").addClass("error");$(_11e7).parent("div").parent("td").siblings("td").addClass("error");$(_11e7).parent("div").children("span").html(ermsg);$(_11e7).parent("div").children("span").show();}else{if(!emailValidate(_11e8)){ermsg=i18n.entervalidemailid;$(_11e7).parent("div").parent("td").addClass("error");$(_11e7).parent("div").parent("td").siblings("td").addClass("error");$(_11e7).parent("div").children("span").html(ermsg);$(_11e7).parent("div").children("span").show();}}if(ermsg=="success"){var url="/people/MigrateDummy.do";var _11ea={"empFname":_11e4,"empLname":_11e6,"empMail":_11e8,"empId":empId,"empErecNum":_11e0};_11ea[csrfParamName]=csrfToken;$.post(url,_11ea,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _11ec=data;if(_11ec.indexOf("Error:")==0){_11ec=_11ec.replace("Error:","");$("#errorDivDummy").find("span[errMsg='here']").html(_11ec);$("#errorDivDummy").show();}else{if(_11ec.indexOf("PaymentError:")==0){_11ec=_11ec.replace("PaymentError:","");$("#errorDivDummy").find("span[id='errmsg']").html(_11ec);$("#errorDivDummy").show();}else{window.location.href="/people/#admin/userspermissions/users";}}}});}else{$("#errorDivDummy").show();}}function emailValidate(_11ed){var re=/^\w+((-\w+)|(\.\w+)|(\+\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(!re.test(trimBoth(_11ed))){return false;}else{return true;}}function searchUserListing(elm,type,_11f1,_11f2){var _11f3=encodeURIComponent($(elm).val());getUserListingByType(type,_11f1,_11f2,_11f3);}function getUserListingByType(type,_11f5,_11f6,_11f7){firescroll=false;endofrecord=false;if(!_11f5){showhideprogressbar(true);if(type=="7"){window.location.href="/people/#admin/userspermissions/users";return;}if(type=="4"){window.location.href="/people/#admin/nonusers/list";return;}window.location.href="/people/#admin/userspermissions/users";return;}var _11f8="/people/getUserListing.do";var _11f9="type=0&isAjax="+true;if(type){_11f9="type="+type+"&isAjax="+true;}if(_11f6!=null){_11f9+="&sortByType="+_11f6;}if(_11f7!=null){_11f9+="&searchval="+_11f7;}ajaxForGetCenterBand(_11f8,_11f9,"userListing");}function getAdminOperPages(_11fa,_11fb){switch(_11fb){case "inviteEmps":getSettings("inviteEmps");break;case "userListing":getUserListingByType("1",false);break;case "companySettings":companySettings();break;case "configureRoles":getSettings("configureRoles");break;case "formLevelPerm":getSettings("securityPage");break;case "globalOperationsPerm":getSettings("globalPermission");break;case "generalSettings":getSettings("generalSettings");break;case "LeaveSettings":getGenPeoplePage("LeaveSettings");break;default:break;}}function getHistoryDetails(id,obj){$(obj).text($(obj).text()=="More"?"Less":"More");$("#"+id).toggle();}function showAbtMe(html){$("#"+Layout.containerid).find("#abt").html(html);}function showApprovalWidget(show){if(show){$("#rec_approvaldiv").show();}else{$("#rec_approvaldiv").hide();}}function mydashboard(elm){var _1201=$(elm).parents(".popup-outer-table").find("form[name=mydash]")[0];var ann="false";var bday="false";var _1204="false";var rec="false";var _1206="false";var _1207="false";var _1208="false";var _1209="false";var _120a="false";if(!_1201){return;}if(_1201.ann){if(_1201.ann.checked){ann="true";}}if(_1201.bday){if(_1201.bday.checked){bday="true";}}if(_1201.newjoinee){if(_1201.newjoinee.checked){_1204="true";}}if(_1201.rec){if(_1201.rec.checked){rec="true";}}if(_1201.myteam){if(_1201.myteam.checked){_1207="true";}}if(_1201.mypendingappr){if(_1201.mypendingappr.checked){_1208="true";}}if(_1201.mytasks){if(_1201.mytasks.checked){_1206="true";}}if(_1201.peopleinfo){if(_1201.peopleinfo.checked){_1209="true";}}if(_1201.quicklinks){if(_1201.quicklinks.checked){_120a="true";}}var _120b="DASHBOARD_ANNOUNCEMENT="+ann+"&DASHBOARD_BDAY="+bday+"&DASHBOARD_NEWJOINEE="+_1204+"&DASHBOARD_RECRUITMENT="+rec+"&DASHBOARD_TEAM="+_1207+"&DASHBOARD_PENDINGAPPROVAL="+_1208+"&"+csrfParamName+"="+csrfToken+"&DASHBOARD_PENDINGTASKS="+_1206+"&DASHBOARD_ABOUTPEOPLE="+_1209+"&DASHBOARD_QUICKLINKS="+_120a;$.post("/people/UpdateDashboard.do",_120b,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{window.location.reload();}});}function closeDashboardWidget(_120d){var res=window.confirm(i18n.dashboardhidewindow);if(res==false){return;}var _120f=_120d+"=false&"+csrfParamName+"="+csrfToken;$.post("/people/UpdateDashboard.do",_120f,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{Layout.loadpage("home/dashboard");}});}function showCustomizeDashboard(){var _1211=$("#customize_dashboard").html();showDialog(_1211,"position=absolute, left=50%, top=50%, closeButton=no, modal=yes",null,null);centerDialog("_DIALOG_LAYER");return;}function emptyCheck(){var _1212=$("input#companylogo").val();var _1213=$("input#companylogo").val().length;if(_1213==0){alert(i18n.selectimage);}else{if(!(endsWith(_1212,"jpg")||endsWith(_1212,"png")||endsWith(_1212,"gif")||endsWith(_1212,"jpeg")||endsWith(_1212,"JPG")||endsWith(_1212,"PNG")||endsWith(_1212,"GIF")||endsWith(_1212,"JPEG"))){alert(i18n.imagetype);$("input#companylogo").val("");}else{$("form#companyLogo").submit();}}}function addQuickLink(obj){var _1215=$(obj).parents("table.popup-inner-table");if(_1215){var _1216=$(_1215).find("#linkName").val().trim();var _1217=$(_1215).find("#linkUrl").val().trim();var _1218=$(_1215).find("#linkUrl").siblings("div.red");var _1219=$(_1215).find("#linkName").siblings("div.red");$(_1218).html("");$(_1219).html("");var _121a="linkName="+_1216+"&linkUrl="+_1217+"&"+csrfParamName+"="+csrfToken;if((_1217.length>0&&_1217.length<=250)&&(_1216.length>0&&_1216.length<=25)){$.ajax({type:"POST",url:"/people/addQuickLink.do",data:_121a,success:function(data){var _121c=data.trim();if(_121c=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#quickLinkDiv").html(data);cancelpopup("addQuickLinkPopup");}},error:function(data){var _121e=data.responseText;var _121f=_121e.substring(_121e.indexOf("error:")+6);var _1220=JSON.parse(_121f);var _1221=$("[name="+_1220["paramName"]+"]");var _1222=$(_1221).parent().prev();$(_1221).next("div .red").css("display","block").html(i18n.securityerrormsg.replace("$displayname",$(_1222).find("label").html().replace(/:$/g,"")));}});cancelpopup("addQuickLinkPopup");}else{if(_1217.length==0){$(_1218).html(i18n.urlcannotbeempty).show();}else{if(_1217.length>250){var msg=i18n.urllengthvalidationmessage;msg=msg.replace("$urllength",250);$(_1218).html(msg).show();}}if(_1216.length==0){$(_1219).html(i18n.urllinkcannotbeempty).show();}else{if(_1216.length>25){var msg=i18n.urllinklengthvalidationmessage;msg=msg.replace("$urllinklength",25);$(_1219).html(msg).show();}}}}}function reorderquicklink(){var _1224="";$("#_DIALOG_CONTENT tbody#reorderlinks").children().each(function(){var _1225=$(this).attr("id");_1224+=_1225+",";});var _1226="linkOrder="+_1224+"&"+csrfParamName+"="+csrfToken;$.post("/people/UpdateQuickLinkOrder.do",_1226,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{closeDialog();$("#quickLinkDiv").html(data);}});}function showAllQuickLinks(obj){var _1229=$("#moreQuickLinks");_1229.is(":hidden")?$(obj).html("Less"):$(obj).html("More");_1229.slideToggle();}function deleteQuickLinks(_122a){var _122b=confirm(i18n.deletequicklink);var _122c="linkId="+_122a+"&"+csrfParamName+"="+csrfToken;if(_122b){$.post("/people/DeleteQuickLink.do",_122c,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#reorderQuicklinks").find("a.close").attr("linkdelete",true);$("tbody#reorderlinks").find("tr[id="+_122a+"]").remove();$("#quickLinkDiv").find("li[linkid="+_122a+"]").remove();if(data=="nolinks"){closeQuicklinkReorder();window.location.reload();}}});}}function closeQuicklinkReorder(){var _122e=$("#reorderQuicklinks").find("a.close").attr("linkdelete");closeDialog();if(_122e){reorderquicklink();}}function showLeaveTypeEditView(mode,_1230){if(mode=="edit"){var pElm=$(_1230).parent("span").parent("td");$(pElm).parent("tr").hide();$(pElm).parent("tr").siblings("tr[mode='edit']").show();}else{if(mode=="view"){var pElm=$(_1230).parent("td");$(pElm).parent("tr").hide();$(pElm).parent("tr").siblings("tr[mode='view']").show();}}}function editLeaveTypes(_1232){var _1233=$(_1232).parent("td").siblings("td.leave");var _1234="";var _1235={};$.each(_1233,function(cnt,item){var lID=$(item).attr("leaveid");var lCnt=$(item).find("input").val();var _123a=new RegExp(/^\d{1,3}$/);if(lCnt==null||lCnt.length<=0||lCnt.length>3){lCnt=0;}else{if(!_123a.test(lCnt)){lCnt=0;}}_1235[cnt]="{leaveTypeId:"+lID+",leaveCount:"+lCnt+"}";});if(_1235){_1234="leaveTypes="+JSON.stringify(_1235)+"&"+csrfParamName+"="+csrfToken;$.post("/people/UpdateLeaveTypesCount.do",_1234,function(data){window.location.reload();});}}function configureEmployeeBasedLeaves(type,_123d){if(type=="init"){var _123e="confType=init"+"&"+csrfParamName+"="+csrfToken;$.post("/people/ConfigureEmployeeBasedLeave.do",_123e,function(data){changecontentdiv("C_content");$("#admin-right").html(data);});}else{if(type=="search"){var _1240="";$("#errorDivDummy").hide();var _1241=$("#empleaves_autoparent").find("input").val();if(!emailValidate(_1241)){_1240=i18n.entervalidemailid;$("#errmsg").html(_1240);$("#errorDivDummy").show();return;}var _123e="confType=search"+"&"+csrfParamName+"="+csrfToken+"&empMailId="+encodeURIComponent(_1241);$.post("/people/ConfigureEmployeeBasedLeave.do",_123e,function(data){if(data!=null&&data.indexOf("error:")==0){_1240=data.substring(6);$("#errmsg").html(_1240);$("#errorDivDummy").show();return;}else{changecontentdiv("C_content");$("#admin-right").html(data);}});}else{if(type=="update"){var _1243=$("#empLeaveConfDiv").find("input[leaveid]");var _1244=$("#empLeaveConfDiv").attr("empRec");var _123e="";var _1245={};$.each(_1243,function(cnt,item){var lID=$(item).attr("leaveid");var lCnt=$(item).val();var _124a=new RegExp(/^\d{1,4}(\.\d{1,2})?$/);if(lCnt==null||lCnt.length<=0){lCnt=-1;}else{if(!_124a.test(lCnt)){lCnt=-1;}}var _124b=$(item).attr("isFromGen");lCnt=_124b=="true"?(-1):lCnt;_1245[cnt]="{leaveTypeId:"+lID+",leaveCount:"+lCnt+"}";});if(_1244&&_1245){_123e="confType=update&"+"leaveTypes="+JSON.stringify(_1245)+"&"+csrfParamName+"="+csrfToken+"&empRec="+_1244;$.post("/people/ConfigureEmployeeBasedLeave.do",_123e,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{window.location.reload();}});}}else{if(type=="delete"&&_123d!=null){var _123e="confType=delete"+"&"+csrfParamName+"="+csrfToken+"&empRec="+_123d;$.post("/people/ConfigureEmployeeBasedLeave.do",_123e,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{window.location.reload();}});}}}}}function showEmployeeSplLeaveEditView(mode,_124f,id){if(mode=="edit"){var pElm=$(_124f).parent("span").parent("div").parent("td");$(pElm).parent("tr.yelBg[empid="+id+"]").hide();$(pElm).parent("tr.yelBg[empid="+id+"]").siblings("tr.editBg[empid="+id+"]").show();}else{if(mode=="view"){var pElm=$(_124f).parent("div").parent("td");$(pElm).parent("tr.editBg[empid="+id+"]").hide();$(pElm).parent("tr.editBg[empid="+id+"]").siblings("tr.editBg[empid="+id+"]").hide();$(pElm).parent("tr.editBg[empid="+id+"]").siblings("tr.yelBg[empid="+id+"]").show();}}}function showRoleSplLeaveEditView(mode,_1253,id){if(mode=="edit"){var pElm=$(_1253).parent("span").parent("div").parent("td");$(pElm).parent("tr.yelBg[roleid="+id+"]").hide();$(pElm).parent("tr.yelBg[roleid="+id+"]").siblings("tr.editBg[roleid="+id+"]").show();}else{if(mode=="view"){var pElm=$(_1253).parent("div").parent("td");$(pElm).parent("tr.editBg[roleid="+id+"]").hide();$(pElm).parent("tr.editBg[roleid="+id+"]").siblings("tr.editBg[roleid="+id+"]").hide();$(pElm).parent("tr.editBg[roleid="+id+"]").siblings("tr.yelBg[roleid="+id+"]").show();}}}function editEmployeeSplLeaveTypes(_1256,_1257){var pElm=$(_1256).parent("div").parent("td");var _1259=$(pElm).parent("tr.editBg[empid="+_1257+"]");var _125a=$(_1259).siblings("tr.editBg[empid="+_1257+"]").find("input[leavetypeid]");var _125b="";var _125c={};$.each(_125a,function(cnt,item){var lID=$(item).attr("leavetypeid");var lCnt=$(item).val();var _1261=new RegExp(/^\d{1,4}(\.\d{1,2})?$/);if(lCnt==null||lCnt.length<=0){lCnt=-1;}else{if(!_1261.test(lCnt)){lCnt=-1;}}var _1262=$(item).attr("isFromGen");lCnt=_1262=="true"?(-1):lCnt;_125c[cnt]="{leaveTypeId:"+lID+",leaveCount:"+lCnt+"}";});if(_1257&&_125c){_125b="confType=update&"+"leaveTypes="+JSON.stringify(_125c)+"&"+csrfParamName+"="+csrfToken+"&empRec="+_1257;$.post("/people/ConfigureEmployeeBasedLeave.do",_125b,function(data){window.location.reload();});}}function configureRoleBasedLeaves(type,_1265){if(type=="init"){var _1266="confType=init"+"&"+csrfParamName+"="+csrfToken;$.post("/people/ConfigureRoleBasedLeave.do",_1266,function(data){changecontentdiv("C_content");$("#admin-right").html(data);});}else{if(type=="search"){var _1268="";$("#errorDivDummy").hide();var _1269=$("#roleleaves_autoparents option:selected").val();if(_1269==null||_1269=="-Select-"){return;}var _1266="confType=search"+"&"+csrfParamName+"="+csrfToken+"&roleId="+_1269;$.post("/people/ConfigureRoleBasedLeave.do",_1266,function(data){if(data!=null&&data.indexOf("error:")==0){_1268=data.substring(6);$("#errmsg").html(_1268);$("#errorDivDummy").show();return;}else{changecontentdiv("C_content");$("#admin-right").html(data);}});}else{if(type=="update"){var _126b=$("#roleLeaveConfDiv").find("input[leaveid]");var _126c=$("#roleLeaveConfDiv").attr("roleId");var _1266="";var _126d={};$.each(_126b,function(cnt,item){var lID=$(item).attr("leaveid");var lCnt=$(item).val();var _1272=new RegExp(/^\d{1,4}(\.\d{1,2})?$/);if(lCnt==null||lCnt.length<=0){lCnt=-1;}else{if(!_1272.test(lCnt)){lCnt=-1;}}var _1273=$(item).attr("isfromgen");lCnt=(_1273=="true")?-1:lCnt;_126d[cnt]="{leaveTypeId:"+lID+",leaveCount:"+lCnt+"}";});if(_126c&&_126d){_1266="confType=update&"+"leaveTypes="+JSON.stringify(_126d)+"&"+csrfParamName+"="+csrfToken+"&roleId="+_126c;$.post("/people/ConfigureRoleBasedLeave.do",_1266,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{window.location.reload();}});}}else{if(type=="delete"&&_1265!=null){var _1266="confType=delete"+"&"+csrfParamName+"="+csrfToken+"&roleId="+_1265;$.post("/people/ConfigureRoleBasedLeave.do",_1266,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{window.location.reload();}});}}}}}function editRoleSplLeaveTypes(_1276,_1277){var pElm=$(_1276).parent("div").parent("td");var _1279=$(pElm).parent("tr.editBg[roleId="+_1277+"]");var _127a=$(_1279).siblings("tr.editBg[roleId="+_1277+"]").find("input[leavetypeid]");var _127b="";var _127c={};$.each(_127a,function(cnt,item){var lID=$(item).attr("leavetypeid");var lCnt=$(item).val();var _1281=new RegExp(/^\d{1,4}(\.\d{1,2})?$/);if(lCnt==null||lCnt.length<=0){lCnt=-1;}else{if(!_1281.test(lCnt)){lCnt=-1;}}var _1282=$(item).attr("isFromGen");lCnt=(_1282=="true")?(-1):lCnt;_127c[cnt]="{leaveTypeId:"+lID+",leaveCount:"+lCnt+"}";});if(_1277&&_127c){_127b="confType=update&"+"leaveTypes="+JSON.stringify(_127c)+"&"+csrfParamName+"="+csrfToken+"&roleId="+_1277;$.post("/people/ConfigureRoleBasedLeave.do",_127b,function(data){window.location.reload();});}}function deleteRec(_1284,_1285,_1286,_1287,mode){var _1289="formID="+_1284+"&viewLinkName="+_1286+"&deletegroup="+_1285+"&"+csrfParamName+"="+csrfToken;var _128a="Do you really want to delete this record?";if(!confirm(_128a)){return;}$.post("/people/deleterecordaction.do",_1289,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!="null"){if(data.indexOf("error")!=-1){var jsObj=JSON.parse(data);var _128d=jsObj[0].error;showerrmsgForView(_128d);}else{if(mode=="FROMPROFILE"){ZCView.loadViewForOtherFeatures("FROMPROFILE",_1287,profileActions.profileMap["typeOfView"],"all");}else{if(mode=="leave_record"){getLeaveGridListViews("ListView","full_load");}else{if(mode=="holiday_record"){Layout.loadpage("leavetracker/holidays");}else{if(_1287!=null){loadFormAndViewPages("liveView",_1287,_1284);return;}window.location.reload();}}}}}}});}function deleteEmployeeRec(_128e,_128f,_1290,type,sort){var _1293="formID="+_128e+"&viewLinkName="+_1290+"&deletegroup="+_128f+"&"+csrfParamName+"="+csrfToken;var _1294=i18n.deleteemployeeconfirmmessage;if(!confirm(_1294)){return;}$.post("/people/deleterecordaction.do",_1293,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!="null"){getUserListingByType(type,true,sort);}}});}function deleteRecActionFromCustomPage(_1296,_1297,_1298,_1299){var _129a="formID="+_1296+"&viewLinkName="+_1298+"&deletegroup="+_1297+"&"+csrfParamName+"="+csrfToken;var _129b="Do you really want to delete this record?";if(!confirm(_129b)){return;}$.post("/people/deleterecordaction.do",_129a,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!="null"){if(_1299=="holidays_dahsboard"){Layout.loadpage("leavetracker/holidays");}else{getbyAjaxAdminPages(_1299);}}}});}function printRecord(_129d,_129e){closeDialog();var _129f="formAccessType="+ZCConstants.VIEW_SINGLE_RECORDVIEW+"&formid="+_129d+"&isPrintPreview=true&recPkID="+_129e;window.open("/people/PrintRecord.do?"+_129f,"Print","dependent=yes,resizable=yes,scrollbars=yes,fullscreen=yes");return false;}function onOffMarkHolidays(mode){if(mode=="edit"){$("#markHolidaysView").hide();$("#markHolidaysEdit").show();}else{if(mode=="view"){$("#markHolidaysEdit").hide();$("#markHolidaysView").show();}else{if(mode=="weekdays"){var _12a1=$("#markHolidaysEdit").find("li[optType=weekdays]").find("div[optType=weekdays]");$(_12a1).toggle();}}}}function saveMarkedHoliday(){var _12a2=$("#markHolidaysEdit");var days=$(_12a2).find("div.cl");var _12a4={sunday:"None",monday:"None",tuesday:"None",wednesday:"None",thursday:"None",friday:"None",saturday:"None"};$.each(_12a4,function(item,cnt){var _12a7=$(_12a2).find("p[day="+item+"]");var _12a8=$(_12a7).find("input[type=checkbox]");var _12a9=$(_12a7).find("input:checked").length;if(_12a9==0){return true;}else{if(_12a9==5){_12a4[item]="All";return true;}}var _12aa="";$.each(_12a8,function(week,elm){_12aa+=$(elm).is(":checked")?(week+1)+",":"";});_12a4[item]=_12aa;});var _12ad="wdays="+JSON.stringify(_12a4)+"&"+csrfParamName+"="+csrfToken+"&rType=markHolidays";$.post("/people/getLeaveReportDetails.do",_12ad,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!="null"){window.location.reload();}}});}function loadReportCal(_12af,_12b0){var fmt="%d-%b-%Y";if(_12b0!=null&&_12b0!=""){fmt=_12b0;}$("#"+_12af).find(":input[fieldType=date]").each(function(){setCalenderTime(this,this,fmt,false);});}function setCalenderTime(_12b2,_12b3,_12b4,time){Calendar.setup({inputField:_12b2,ifFormat:_12b4,showsTime:time,button:_12b3});}function checkLeaveReport(_12b6){var _12b7=$("#reportFrom").val();var _12b8=$("#reportTo").val();var _12b9=false;var from=new Date(_12b7);var to=new Date(_12b8);var _12bc=$("#"+_12b6).find(":input[name=calculateLeaveFor]:checked").val();$("#errorMsg").html("");if(_12bc!="CYEAR"){if(_12b7.trim()==""){$("#errorMsg").html(i18n.fillfromdate);_12b9=true;}else{if(_12b8.trim()==""){$("#errorMsg").html(i18n.filltodate);_12b9=true;}}}if(!_12b9){var _12bd="rType=gsettings&fromDate="+_12b7+"&toDate="+_12b8+"&"+csrfParamName+"="+csrfToken+"&leaveCalcType="+_12bc;$.post("/people/getLeaveReportDetails.do",_12bd,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("error")==0){$("#errorMsg").html(data.replace("error:",""));}else{showSuccessMessage(i18n.tabcustomizationupdatedmessage);}}});}}function checkReportType(obj){var _12c0=$(obj).val();$(obj).parent().parent().find("em").removeClass("sel");if(_12c0=="DAYS"){$(obj).parent().find(":input[value=Hours]").removeAttr("checked");$(obj).parent().find(":input[value=DAYS]").parent("span").find("em").addClass("sel");}else{$(obj).parent().find(":input[value=DAYS]").removeAttr("checked");$(obj).parent().find(":input[value=Hours]").parent("span").find("em").addClass("sel");}}function checkLeaveCalcType(obj){var _12c2=$(obj).val();var _12c3=$(obj).parent().parent("p").parent("div");$(_12c3).find("em").removeClass("sel");$(_12c3).find("input[type='text']").removeClass("op5");$(_12c3).find("input:disabled").attr("disabled",false);if(_12c2=="CYEAR"){$(obj).parent().parent().find(":input[value=CPERIOD]").removeAttr("checked");var _12c4=$(obj).parent().parent().parent().find(":input[value=CPERIOD]").parent().siblings("span");$(_12c4).find("input").addClass("op5");$(_12c4).find("input").attr("disabled",true);$(obj).parent().parent().find(":input[value=CYEAR]").parent().parent().find("em").addClass("sel");}else{$(obj).parent().parent().find(":input[value=CYEAR]").removeAttr("checked");$(obj).parent().parent().find(":input[value=CPERIOD]").parent().siblings().find("em").addClass("sel");}}function showHideApplyLeaveReport(_12c5,id){if(id!="_DIALOG_LAYER"){id=Layout.containerid;}if(Layout.containerid.indexOf("admin-")!=-1){id="admin-right";}if(_12c5){$("#"+id).find("#report_showbutton").hide();$("#"+id).find("#report_leaveapplications").show();$("#"+id).find("#leaveRepDiv").removeClass("oHide");$("#"+id).find("#leaveRepDiv").addClass("dtable");}else{$("#"+id).find("#report_showbutton").show();$("#"+id).find("#report_leaveapplications").hide();$("#"+id).find("#leaveRepDiv").removeClass("dtable");$("#"+id).find("#leaveRepDiv").addClass("oHide");}}function changeProfileTabCls(){var _12c7=false;$("#allTabs").find("span[level2name]").hover(function(){_12c7=$(this).hasClass("selArw");if(_12c7){$(this).removeClass("selArw");}$(this).addClass("selwht");},function(){$(this).removeClass("selwht");if(_12c7){$(this).addClass("selArw");}});}function loadProfileForms(tabId,_12c9,_12ca){if(_12ca==null){_12ca="liveView";}currentTabId=tabId;loadFormAndViewPages(_12ca,_12c9);}function showQuickInfoPopUp(qLink,e){hideQuickpopUps(e);var _12cd=$(qLink).parent("span");if(_12cd){$(_12cd).find("div.box").show();$(_12cd).css("position","relative");}stopEventPropagation(e);}function closeQuickInfoDiv(qLink){var _12cf=$(qLink).parent("em").parent("div.box");if(_12cf){$(_12cf).hide();}}function gotoSinglerecView(event,_12d1,_12d2){var _12d3=(event.target||event.srcElement);var _12d4=$(_12d3).attr("elName");var _12d5=$(_12d1).attr("recPkID");if((_12d4==null||_12d4=="zc-viewdata")&&_12d5!=null&&_12d2!=null){loadFormAndViewPages("form_RecordView",_12d2,_12d5);}}function generateCustomLeaveReport(_12d6,_12d7){var pDiv=$("#"+_12d6);var _12d9="";var _12da="";var _12db="";$("#errorDivDummy").hide();$(".error").removeClass("error");$("span[genType]").hide();var _12dc=$(pDiv).find("input[genType='emailId']").val();_12dc=trim(_12dc);if(!emailValidate(_12dc)){$(pDiv).find("span[genType='errEmail']").show();$(pDiv).find("span[genType='errEmail']").html(i18n.entervalidemailid);_12d9=true;}var _12dd=$(pDiv).find(":input[name=calculateLeaveFor]:checked").val();if(_12dd==undefined||_12dd==null){_12dd=_12d7;}if(_12dd!="CYEAR"){_12da=$(pDiv).find("input[genType='genFrom']").val();_12db=$(pDiv).find("input[genType='genTo']").val();if(_12da.trim()==""){$(pDiv).find("span[genType='errFrom']").html(i18n.fillfromdate);$(pDiv).find("span[genType='errFrom']").show();_12d9=true;}if(_12db.trim()==""){$(pDiv).find("span[genType='errTo']").html(i18n.filltodate);$(pDiv).find("span[genType='errTo']").show();_12d9=true;}}if(_12d9){_12d9=i18n.invalidentries;$(pDiv).find("#errmsg").html(_12d9);$(pDiv).find("#errorDivDummy").show();return;}var _12de="type=generateReport"+"&"+csrfParamName+"="+csrfToken+"&empMailId="+encodeURIComponent(_12dc)+"&genFrom="+_12da+"&genTo="+_12db+"&leaveCalcType="+_12dd;$.post("/people/generateCustomLeaveReport.do",_12de,function(data){if(data!=null&&data.indexOf("error:")==0){_12d9=data.substring(6);$("#errmsg").html(_12d9);$("#errorDivDummy").show();return;}else{changecontentdiv("C_content");$("#admin-right").html(data);}});}function displaySearchBox(_12e0){$(_12e0).parent().find("input[autosearchBox='empsearch']").val("");$(_12e0).parent().find("input[autosearchBox='empsearch']").removeAttr("disabled");$(_12e0).parent().find("input[autosearchBox='empsearch']").focus();$(_12e0).parent().find("#empName").css("display","none");$(_12e0).parent().find("#genarateReport").css("display","block");$(_12e0).parent().find("#newSearch").css("display","none");}function generateCustomLeaveReportFromView(_12e1){var _12e2="type=quickLeaveView"+"&"+csrfParamName+"="+csrfToken+"&empRecNum="+encodeURIComponent(_12e1);$.post("/people/getLeaveReportforQView.do",_12e2,function(data){showDialog(data,"position=absolute, closeButton=no, modal=yes,top=100",null,"");$("#_DIALOG_LAYER").css("padding-bottom","20px");centerDialog("_DIALOG_LAYER");});}function generateCustomLeaveReportFromAdd(_12e4){var _12e5=$(_12e4).siblings("select.zc-dropdown").parents("form");var _12e6=$(_12e5).find("[lookupemprec]")[0];var _12e7=null;if(_12e6!=null){_12e7=$(_12e6).parent("select").find(":selected").attr("lookupemprec");}if(_12e7!=null){generateCustomLeaveReportFromView(_12e7);}else{showSuccessMessage(i18n.leavereport_empempty);}}function fetchDeptMembers(_12e8){$("#list-container").find("span").removeClass("sel");$("#list-container").find("em").removeClass("sel");if(_12e8==null||_12e8==""){_12e8=0;}else{$("#"+_12e8).addClass("sel");}var _12e9="/people/GetDeptMembers.do?";var _12ea="deptId="+_12e8+"&startIndex=1";var url=_12e9+_12ea;$.ajax({type:"GET",url:url,success:function(data){$("#deptMemberList").html(data);$("html, body").animate({scrollTop:0},"fast");employee_status();}});}function loadOrgStructure(_12ed){var _12ee=$(window).height();if(!_12ed){$("#"+Layout.containerid).find("#list-container").css("height",_12ee-190);}$("div.zphieico").click(function(){$(this).toggleClass("zphieicoclose").parent().parent().find("ul").toggleClass("closetree");});}function getSingleViewPage(_12ef,pkid,_12f1){if(pkid==null||_12f1==null){return;}if(_12ef=="departments"){window.location.href="/people/admin/setuporg/department/view#formId:"+_12f1+"/recordId:"+pkid;}else{if(_12ef=="designations"){window.location.href="/people/admin/setuporg/designation/view#formId:"+_12f1+"/recordId:"+pkid;}}}function uploadPhoto(elm){var _12f3=$(elm).parents("form")[0];var file=$(_12f3).find("#uploadFile").val();$(_12f3).find("#uploadFileErr").hide();var _12f5=file.lastIndexOf(".")==-1?"":file.substring(file.lastIndexOf(".")+1).toLowerCase();if(file==""){$(_12f3).find("#uploadFileErr").html(i18n.updatephotoerror);$(_12f3).find("#uploadFileErr").show();$(_12f3).find("#uploadFile").focus();return false;}else{if(file!=""&&(file.lastIndexOf(".")==-1||(_12f5!="jpg"&&_12f5!="gif"&&_12f5!="png"&&_12f5!="jpeg"))){$(_12f3).find("#uploadFileErr").html(i18n.updatephotoerror);$(_12f3).find("#uploadFileErr").show();$(_12f3).find("#uploadFile").focus();return false;}}$(_12f3).submit();return true;}function showMyUpload(_12f6){var phEle=$("#"+Layout.containerid).find("#employeePhotoElm")[0];var _12f8=$("#"+Layout.containerid).find("#employeePhotoFrmElm")[0];phEle.src=_12f6+"/file"+"?"+new Date().getTime();_12f8.src=_12f6+"/file"+"?"+new Date().getTime();cancelpopup("updatePhotoPopUp");}function showQuickPopUpAddData(_12f9,_12fa,mode,_12fc,_12fd,_12fe){var _12ff=$("#"+_12f9).find("div.qaddDiv");var _1300="formid="+_12fa+"&isquickPopUp=true"+"&"+csrfParamName+"="+csrfToken;if(mode=="edit"){_1300="formid="+_12fa+"&recPkID="+_12fc+"&isquickPopUp=true"+"&"+csrfParamName+"="+csrfToken;}var url="/people/LiveFormHeader.do";$.post(url,_1300,function(data){$(_12ff).html("");$(_12ff).html(data);if(_12f9=="zp_dummyemps"){var _1303=$(_12ff).find("table.liveTab").length;if(_1303>0){$("#"+_12f9).addClass("dtab fl mr20");}$(_12ff).find("#zc-component").attr("class","");$("#dummyOpts").hide();$(_12ff).show();return;}if(_12fd!=null&&_12fd=="true"){$(_12ff).find("#zc-component").attr("class","ml30");$("#"+_12f9).addClass("fl mr20");}else{if(_12fe!=null&&_12fe=="true"){var _1303=$(_12ff).find("table.liveTab").length;if(_1303>0){$("#"+_12f9).addClass("dtab fl mr20");}$(_12ff).find("#zc-component").attr("class","");}else{$(_12ff).find("#zc-component").attr("class","");}}$(_12ff).show();});}function showQuickPopUpVData(_1304,_1305,_1306,opts){var _1308=$("#"+_1304).find("div.qaddDiv");var _1309="formid="+_1305+"&isquickPopUp=true"+"&recPkID="+_1306+"&formAccessType="+FORM_RECORD_VIEWMODE+"&"+csrfParamName+"="+csrfToken;var url="/people/LiveFormHeader.do";$.post(url,_1309,function(data){$(_1308).html("");$(_1308).html(data);$(_1308).find("#zc-component").attr("class","");if(opts=="approvals"){$("#qaddDivback").show();$("#"+_1304).removeClass("formPermission");}else{if(opts=="checklists"){$(_1308).find("#zc-component").attr("class","");$("#"+_1304).addClass("oHide");$("#qaddDivback").show();}else{if(opts=="approvalslist"){$("#qaddDivback").show();$("#"+_1304).removeClass("userList");}}}$(_1308).show();});}function getbyAjaxAdminPages(_130c,_130d){var url=null;var _130f=null;var _1310=false;var tabid;switch(_130c){case "departments":url="/people/getDepartmentDetails.do";_130f="setupType=departments&isAjax=true";_1310=true;tabid="admin-right";break;case "designations":url="/people/getDesignationDetails.do";_130f="setupType=designation&isAjax=true";_1310=true;tabid="admin-right";break;case "holidays":url="/people/getHolidayDetails.do";_130f="isAjax=true";_1310=true;tabid="admin-right";break;case "leaveType":url="/people/getManageLeaveType.do";_130f="isAjax=true";_1310=true;tabid="admin-right";break;case "leaveTypeCnts":url="/people/getLeaveTypeDetails.do";_130f="isAjax=true";_1310=true;_130d=null;tabid="admin-right";break;case "dummyEmployees":url="/people/getUserListing.do";_130f="type=4&isAjax=true";_1310=true;_130d=null;tabid="admin-right";break;case "usersListing":var type=$(".qaddDiv").attr("userListtype");var _1313=$(".qaddDiv").attr("sortByType");var _1314="1";var _1315="0";var _1316=new Array("5","1","6","3","4","44","0","2");if(type!=null&&type!=""&&$.inArray(type,_1316)!=-1){_1314=type;}if(_1313!=null&&_1313!=""&&$.inArray(_1313,_1316[6])){_1315=_1313;}url="/people/getUserListing.do";_130f="type="+_1314+"&isAjax=true";_1310=true;_130d=_1315;tabid="admin-right";break;}if(!_1310){return;}if(_130d!=null){_130f+="&sortByType="+_130d;}$.get(url,_130f,function(data){$("#"+tabid).html(data);});}function regTabOnClick(){$("div.searchTab").find("a").click(function(){var _1318=$(this).attr("class");if(_1318=="sel"){return;}$(this).parent("div").parent("div.searchTab").find("a.sel").removeClass("sel");$(this).addClass("sel");});}function getChecklistDetailforRecordAjax(_1319,_131a){var _131b=window.location.hash;if(_131b.indexOf("view")!=-1){window.location.href="/people/#home/checklist/record/view-recordId:"+_1319+"/rootId:"+_131a;return;}if(_1319!=null){$.get("/people/CheckListDetailsforRecord.do?recPkID="+_1319+"&qtype=true",function(data){var _131d=$("div.qaddDiv");$(_131d).html(data);});}}function allowMaxChar(input){var reg=/^\d{1,3}$/.test(input);return reg;}function IsNumeric(input){var RE=/^-{0,1}\d*\.{0,1}\d+$/;return (RE.test(input));}function isImageType(_1322){if((endsWith(_1322,"jpg")||endsWith(_1322,"png")||endsWith(_1322,"gif")||endsWith(_1322,"jpeg")||endsWith(_1322,"JPG")||endsWith(_1322,"PNG")||endsWith(_1322,"GIF")||endsWith(_1322,"JPEG"))){return "true";}else{return "false";}}function allowMaxDigit(input){var reg=/^\d{1,2}$/.test(input);return reg;}function hideTabMoreMenus(e){var _1326=$("div.ddMenus,div.ddMenus1");_1326.each(function(){$(this).css("display","none");$(this).siblings("a").removeClass("moreSel");});$("#quickcreateformmenu").siblings("img").removeClass("createNewIconH");$("#quickcreateformmenu").siblings("img").addClass("createNewIcon");$("#quickcreateformmenu").parent("div.zpplusbg").removeClass("focus");$("#quickcreateformmenu").css("display","none");}function showHidePeopleTabs(elm,event){hideTabMoreMenus(event);if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(event);}$("#createsubmenu").toggle();$(elm).toggleClass("moreSel");stopEventPropagation(event);}function showHidePeopleTabFormsMenus(tabid,elm,event){hideTabMoreMenus(event);if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(event);}$("#createsubformmenu_"+tabid).toggle();$(elm).toggleClass("moreSel");stopEventPropagation(event);}function showHidePeopleQuickAddForms(elm,event){hideTabMoreMenus(event);if($("#zpeople-viewheaderitems").length>0){ZCView.hideViewMenus(event);}$(elm).parent("div.zpplusbg").addClass("focus");var _132e=$("#quickcreateformmenu").attr("formsloaded");if(_132e==null||_132e=="false"){var url="/people/getFormsList.do";var _1330="formList=quickaddforms";$.post(url,_1330,function(data){var _1332=$("#quickcreateformmenu");$(_1332).html(data);$("#quickcreateformmenu").attr("formsloaded","true");$("#quickcreateformmenu").toggle();$(elm).toggleClass("createNewIcon");$(elm).toggleClass("createNewIconH");});}else{$("#quickcreateformmenu").toggle();$(elm).toggleClass("createNewIcon");$(elm).toggleClass("createNewIconH");}stopEventPropagation(event);}function showHidelogOut(elm,event){hideTabMoreMenus(event);$("#zpeopleLogout").toggle();stopEventPropagation(event);}function showHideSearchOptions(elm,event){hideTabMoreMenus(event);$("#searchDropBoxId").toggle();$(elm).parent(".dropSearch").addClass("focus");stopEventPropagation(event);}function setDeptValues(obj){$("#"+Layout.containerid).find("#seltdDeptSpan").html($(obj).html());var val=$(obj).attr("id");$("#"+Layout.containerid).find("#seltdDept").val(val);var _1339=$("#"+Layout.containerid).find("#orgstructure").parent().parent().parent();var _133a=_1339.find("input[id=seltdDept]").attr("formcompid");var json=_1339.find("span[id=relatedfieldjson"+_133a+"]").html();setRelatedFieldsValue(_133a,json,val,false);$("#"+Layout.containerid).find("#orgstructure").hide();$("#"+Layout.containerid).find("#zc-component").removeAttr("style");}function resetDeptValues(){$("#"+Layout.containerid).find("#seltdDeptSpan").html("None");$("#"+Layout.containerid).find("#seltdDept").val("-Select-");$("#"+Layout.containerid).find("#orgstructure").hide();$("#"+Layout.containerid).find("#zc-component").removeAttr("style");var _133c=$("#"+Layout.containerid).find("#orgstructure").parent().parent().parent();var _133d=_133c.find("input[id=seltdDept]").attr("formcompid");var json=_133c.find("span[id=relatedfieldjson"+_133d+"]").html();setRelatedFieldsValue(_133d,json,"-Select-",false);}function showerrmsgForView(error){var _1340=$("#infoMsgDiv");$(_1340).css("display","");$(_1340).html(error);var top=($(window).height()-_1340.height())/2+$(window).scrollTop()+20;var left=($(window).width()-_1340.width())/2+$(window).scrollLeft()+200;$(_1340).css("top",top+"px");$(_1340).css("left",left+"px");$(_1340).css("position","absolute");$(_1340).fadeOut(4000);}function changeUserRole(elm,_1344,_1345){var _1346="roleOpt=changeRole"+"&roleId="+_1345+"&erecNum="+_1344+"&"+csrfParamName+"="+csrfToken;var url="/people/getConfigureRoles.do";$.post(url,_1346,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!=null){if(data.indexOf("error:")!=-1){showSuccessMessage(data.replace("error:",""));}else{if(data.indexOf("Success")!=0){var _1349=$(elm).attr("rolename");var _134a=$(elm).parent("ul").parent("div.sortlist").parent("div").parent("div.sortBy");var _134b=$(_134a).siblings("a.team");$(elm).parent("ul").parent("div.sortlist").css("display","none");$(elm).parent("ul").parent("div.sortlist").siblings("img.roleEditimg").css("display","none");$(_134b).html(_1349);$(_134b).css("background","#fcfccb");setTimeout(function(){$(_134b).animate({backgroundColor:"#fffff"},1500);$(elm).parent("ul").parent("div.sortlist").css("display","");$(elm).parent("ul").parent("div.sortlist").siblings("img.roleEditimg").css("display","");},1000);}}}}});}function trimEmailIds(_134c){var _134d="";var _134e=_134c.split(",");var _134f=_134e.length;for(var i=0;i<_134f;i++){var _1351=_134e[i];_1351=trimBoth(_1351);if(_1351!=""){_134d=(i==0)?_1351:_134d+","+_1351;}}return _134d;}function showhidesearchmore(elm,opt){if(opt==1){$(elm).hide("");$(elm).siblings("b").css("display","inline");}else{if(opt==0){$(elm).parent("b").css("display","none");$(elm).parent("b").siblings("a").show();}}}function openIAMphoto(val){val=(val==null)?0:val;window.open("/people/showPhoto.do?ID="+val,"Photo","wscreenX=5,screenY=5,dependent=yes,resizable=yes,scrollbars=yes,width=880,height=840");}function maintabLoading(){var _1355=getCurrentUrlContext();showPage(_1355);$(window).history(function(e,hash){PeopleBrowserbackPage.pageload(hash);return false;});var _1358=(window.location.hash).substr(1);if(_1358){PeopleBrowserbackPage.pageload(_1358);$.history.add(_1358);}$("#peopletabs_maintabs").find("li[menuitem] a").click(function(event){var mItem=$(this).parent("li").attr("menuitem");var _135b=$("#peopletabs_subtabs");var _135c=$(_135b).find("div[activesubmenu='true']");var _135d=$(_135b).find("div[menuitem='"+mItem+"']");if($(_135d).attr("activesubmenu")!="true"){$(_135d).attr("activesubmenu","true");$(_135d).css("display","");$(_135c).attr("activesubmenu","false");$(_135c).css("display","none");$("#peopletabs_maintabs").find("a[class=\"sel\"]").removeClass("sel");$(this).attr("class","sel");$(_135d).find("span[class=\"selArw\"]").removeClass("selArw");$(_135d).find("span:first-child").addClass("selArw");}});$("#peopletabs_subtabs").find("span[tabid]").click(function(event){if($(this).attr("class")!="selArw"){$(this).parent().find("span[class='selArw']").removeClass("selArw");$(this).addClass("selArw");}});$(function(){$("#empSearchBox").keydown(function(event){if(event.keyCode==13){empSearchFromTab();}});$("#empSearchBox").focus(function(event){$(this).parent("div.dropSearch").addClass("focus");});$("#empSearchBox").blur(function(event){if($(this).val().trim().length==0){$(this).parent("div.dropSearch").removeClass("focus");}});});$(document).click(function(event){hideTabMoreMenus();});$(".headerBot .headList").hover(function(){if($(".cvTable").length>0){$(".cvTable").find("select").blur();}});var _1363=$("#zpeople_progressbar");_1363.ajaxStart(function(){showhideprogressbar(true,_1363);});_1363.ajaxStop(function(){showhideprogressbar(false,_1363);});}function registerChat(_1364,_zuid,_1366,_1367){if(_1364!=""){WebMessanger.setDomain(_1364);}if(_1367){WebMessanger.registerZuid("HR",_zuid,_1366);}else{WebMessanger.registerZuid("HR",_zuid,_1366,true);}}function bdaysearch(){var mth=document.getElementById("bdaymth").value;var dt=document.getElementById("bdaydt").value;var _136a="month="+mth+"&date="+dt;var url="/people/getBirthdayBuddy.do";$.post(url,_136a,function(data){$("#birthdaybuddiesDiv").html(data);});}function changeBirthdayDate(){var _136d=document.getElementById("bdate");var _136e=document.getElementById("bmonth");document.getElementById("bdaydt").value=_136d.value;document.getElementById("bdaymth").value=_136e.value;}function makequicklinksortable(){$(document).mouseover(function(){$("tbody#reorderlinks").sortable({axis:"y",handle:"td .move"});});}function changeSearch(obj){var _1370=$(obj).attr("searchType");var _1371={0:i18n.search_defaulttext_search,2:i18n.search_defaulttext_efname,3:i18n.search_defaulttext_elname,4:i18n.search_defaulttext_dept,5:i18n.search_defaulttext_desg,6:i18n.search_defaulttext_empid,7:i18n.search_defaulttext_empmailid,8:i18n.search_defaulttext_teammailid};var _1372=$("#searchDropBoxId a[searchtype="+_1370+"]");$("#searchTabImg").attr("searchType",_1370);_1372.siblings("a").children("div.zptick").removeClass("zptick").addClass("zpdummy");_1372.children("div.zpdummy").removeClass("zpdummy").addClass("zptick");$("#empSearchBox").val(_1371[_1370]).select().focus();}function workitemdone(id,_1374){var _1375="dataid="+id+"&"+csrfParamName+"="+csrfToken;var url="/people/changeTaskStatus.do";$.post(url,_1375,function(data){if(data.indexOf("success")!=-1){$($("#task_"+id).children().get(1)).html("<em class=\"grn\">Completed</em>");}});}function checklistdropinit(){var _1378=$(".dbtn");var l=_1378.length;for(var i=0;i<l;i++){addEvent(_1378[i],"click",showDDownMenuList);}}var Gettingstarted={_gettingStartedId:"home-gettingstarted",UPDATEGETTINGSTARTED:function(_137b){var _137c=$("#contentdiv");var _137d=$(_137c).parents("div#container");var _137e=$(_137d).find("li#main_home a");var _137f="true";if($(_137b).attr("checked")){_137f="false";}var _1380=csrfParamName+"="+csrfToken+"&DASHBOARD_ABOUTPEOPLE="+_137f;$.post("/people/UpdateDashboard.do",_1380,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);var gsOpt=$("#gs_option").attr("checked");if(gsOpt=="true"){$("#gs_option").attr("checked",false);}else{$("#gs_option").attr("checked",true);}}else{if($(_137b).attr("checked")){$(_137e).attr("href","/people/#home/dashboard");}else{$(_137e).attr("href","/people/#home/gettingstarted");}Layout.showgettingstarted=_137f=="true"?true:false;}y;});},GETDEPARTMENTMEMBERS:function(_1383){var _1384=$(_1383);var _1385=$("#contentdiv");var _1386=this;var _1387=$(_1385).find("div#"+_1386._gettingStartedId+"-DEPARTMENTMEMBERS");if($(_1387).length>0){_1386.SHOWHIDETAB(_1385);employee_status();$(_1387).show();}else{var _1388={"action":"getMyDepartments"};$.get("/people/getMyDeptMembers.do",_1388,function(data){data="<div id=\""+_1386._gettingStartedId+"-DEPARTMENTMEMBERS"+"\" class=\"content\" style=\"display:table;\">"+data+"</div>";_1386.SHOWHIDETAB(_1385);employee_status();$(_1385).append(data);_1386.HIDEDEPARTMENTMEMBERS();});}},HIDEDEPARTMENTMEMBERS:function(){var _138a=$("#contentdiv");var _138b=$(_138a).find("div#"+this._gettingStartedId+"-DEPARTMENTMEMBERS");var _138c=$(_138a).find("div#"+this._gettingStartedId);var _138d=$(_138b).find("a#dpmem_back");$(_138d).click(function(){$(_138b).hide();$(_138c).css("display","table");var _138e=$(_138a).parents("div#container");$(_138e).find("#navbar").removeClass("navAdmin");$(_138e).find("#peopletabs_subtabs").show();});},GETBIRTHDAYBUDDIES:function(_138f){var _1390=$("#contentdiv");var _1391=$(_138f).parent("div");var _1392=$(_1391).find("select#bdy_birthDate").val();var _1393=$(_1391).find("select#bdy_birthMonth").val();var _1394={"action":"getBirthdayBuddies","birthDate":_1392,"birthMonth":_1393};var _1395=$(_138f).parents("div#"+Layout.containerid);$.get("/people/getBirthdayFolks.do",_1394,function(data){$(_1395).html(data);});},SHOWHIDETAB:function(_1397){var _1398=$(_1397);var _1399=$(_1398).parents("div#container");$(_1398).find(".content").css("display","none");$(_1399).find("#navbar").addClass("navAdmin");$(_1399).find("#peopletabs_subtabs").hide();}};function printProfile(_139a){var _139b="isprint="+true;if(_139a){_139b+="&erecNum="+_139a;}window.open("/people/getprofile.do?"+_139b);}function loadEmpEmailForAutoFill(id){var _139d=null;$.widget("custom.catcomplete",$.ui.autocomplete,{_renderMenu:function(ul,items){var self=this,_13a1="";var _13a2=$(id).val();_139d=items;var _13a3=new Array();$.each(items,function(index,item){if(_13a2.length>0){var _13a6=item.label.toLowerCase();var _13a7=_13a2.toLowerCase();if(_13a6.indexOf(_13a7)==0){self._renderItem(ul,item);}else{_13a3.push(item);}}});$.each(_13a3,function(i,item){_13a1="";self._renderItem(ul,item);});}});$(function(){var _13aa=$("#emplistforautosearch").html();if(_13aa!=null&&_13aa.trim().length>0){var data=JSON.parse(_13aa);$("input[autosearchBox='empsearch']").catcomplete({delay:0,mustMatch:true,source:data,select:function(event,ui){}});}});}function importGAppUsers(){var _13ae=$("#gappsUserListTable").find("tr[name=gAppEmailList]:visible").map(function(){if($(this).find("input[name=gappUserList]").is(":checked")){$(this).hide();return $(this).find("input[name=gappUserList]:checked").val();}}).get().join(",");if(_13ae.trim().length>0){var _13af="mode=importGAppUser"+"&emailIdList="+encodeURIComponent(_13ae)+"&"+csrfParamName+"="+csrfToken;$.post("/people/importGAppUsers.do",_13af,function(data){if(data.indexOf("OtherOrg:")!=-1){$("#gApperrorMessage").html(data.replace("OtherOrg:","")).show();}if(data.indexOf("Error:")!=-1){$("#gApperrorMessage").html(data.replace("Error:","")).show();}else{var _13b1=parseInt(_13ae.split(",").length);var _13b2=parseInt($("#addedEmp").text())+_13b1;var _13b3=parseInt($("#empLeft").text())-_13b1;$("#empLeft").html("<b>"+_13b3+"</b>");$("#addedEmp").html("<b>"+_13b2+"</b>");var msg=i18n.gappsuseradded.replace("###",_13b1);showSuccessMessage(msg);}});}}function gAppsImportScript(){$("#gappsUserSearchBox").keyup(function(){var jo=$("#gappsUserListTable").find("tr[name=gAppEmailList]");jo.hide();$("#noRecFound").hide();var data=this.value.split(" ");$.each(data,function(i,v){jo=jo.filter("*:contains('"+v+"')");});if(jo.length==0){$("#noRecFound").show();}else{jo.show();}});$("#selectAllGAppUser").click(function(){if($(this).is(":checked")){$("#gappsUserListTable").find(":checkbox").attr("checked",true);}else{$("#gappsUserListTable").find(":checkbox").attr("checked",false);}});$("#gappsUserListTable").find(":checkbox").click(function(){var _13b9=$("#empLeft").text();var count=$("#gappsUserListTable").find("tr[name=gAppEmailList]:visible input[name=gappUserList]").filter(":checked").length;if(count>_13b9){$("#importGAppButton").attr("disabled","disabled");$("#gApperrorMessage").html(i18n.upgradetoimport).show();}else{$("#importGAppButton").removeAttr("disabled");$("#gApperrorMessage").hide();}if($(this).is(":checked")){if($("#gappsUserListTable").find("input[name=gappUserList]").length==count){$("#selectAllGAppUser").attr("checked",true);}}else{$("#selectAllGAppUser").attr("checked",false);}});}function updateEmpRToForOrgChart(_13bb,_13bc,_13bd){if(_13bb==_13bc){alert(i18n.elementmismatch);return;}var _13be={"conreqcsr":csrfToken,"childRToID":_13bb,"newParentRToID":_13bc,"oldParentRToID":_13bd,"mode":"updateRTO"};$.post("/people/getOrgChartDetails.do",_13be,function(data){});}function getOrgChartMemberDetails(_13c0){$("#employees-orgstructure-home").remove();$("#list-container").find("a").removeClass("sel");$("#"+_13c0).find("a:first").toggleClass("sel");var _13c1={"erecNum":_13c0,mode:"ORGCHART"};var url="/people/getprofile.do";$.post(url,_13c1,function(_13c3){$("div#"+Layout.containerid).find("td#orgEmpProfileDetails").html(_13c3);profileActions.registerProfileActions();});}function getSubMembers(_13c4,obj){var _13c6=$("#"+_13c4);var _13c7=_13c6.find("ul");if(_13c7.length==0){$(obj).toggleClass("zphieicoclose");var _13c8={"reportingToErecno":_13c4,"mode":"fetchEmpTree"};var url="/people/getOrgChartDetails.do";$.post(url,_13c8,function(_13ca){_13c6.append("<ul>"+_13ca+"</ul>");});}else{$(obj).toggleClass("zphieicoclose").parent().parent().find("ul").toggleClass("closetree");}}populateleave=function(){var _13cb={"year":NewCalendar.curYear,"month":NewCalendar.curMonth};if(NewCalendar.leaveErecNo!=null){_13cb={"year":NewCalendar.curYear,"month":NewCalendar.curMonth,"empErecNo":NewCalendar.leaveErecNo};}$.post("/people/leaveaction.do",_13cb,function(_13cc){var _13cd=new Array();$.each(eval(_13cc),function(index,data){var rData={};if(this.totaldata){rData.objval=data.objval;}rData.date=data.date;rData.type=data.type;var _13d1=NewCalendar.leaveColors[data.leaveType];if(_13d1==undefined){_13d1=NewCalendar.leaveColors["others"];}var txt="";if(data.leaveType&&data.leaveType!=undefined){txt="<div style='height: 20px;line-height: 20px;'><a href=\"/people/#leavetracker/leavedetails-formId:"+data.formid+"/recordId:"+data.recordid+"\"><font color="+data.leaveTypeColor+">"+data.leaveType+"</font></a></div>";}if(data.type=="1"&&data.holidayName&&data.holidayName!=undefined){txt="<div style='height: 20px;line-height: 20px;'><a href=\"/people/#leavetracker/holidaydetails-formId:"+data.formid+"/recordId:"+data.recordid+"\">"+data.holidayName+"</a></div>";}rData.txt=txt;_13cd.push(rData);});NewCalendar.populateData(_13cd);});};updatecalsettins=function(){var _13d3=$("#weekstartsopt").val();var _13d4=$("#workweekfromopt").val();var _13d5=$("#workweektoopt").val();$.post("/people/setupaction.do",{"mode":"updatecalsettings","weekstarts":_13d3,"workweekfrom":_13d4,"workweekto":_13d5},function(_13d6){if(_13d6.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{weekstarts=_13d3;workweekfrom=_13d4;workweekto=_13d5;}});};closeHolidayDialog=function(){var _13d7=$("#"+Layout.containerid).find("form");$(_13d7).find("#_HolidayContainsMsgDiv").css("display","none");var scrid=docid("FreezeLayer");if(scrid){document.body.removeChild(scrid);}};continueToSubmitLeaveForm=function(_13d9){var _13da=$("#"+Layout.containerid).find("form");$("#"+Layout.containerid).find("form").each(function(){var _13db=$(this).attr("elname");if(_13db==_13d9){_13da=$(this);return false;}});closeHolidayDialog(_13da);$(_13da).find("#holidayContains").val(false);ZCForm.submitForm(_13da);$(_13da).find("#holidayContains").val(true);};function createNewAccount(){var _13dc=$("#companyName");var _13dd=$("#noofusers");var _13de=_13dc.val().trim();var _13df=_13dd.val().trim();var _13e0="success";if(_13de.length==0){_13e0="Enter Company Name";_13dc.siblings("span#companyNameErr").html(_13e0);}else{if(_13de.length>100){_13e0="Company Name can not be more than 100 characters";_13dc.siblings("span#companyNameErr").html(_13e0);}else{_13dc.siblings("span#companyNameErr").html("");}}if(_13df.length>0&&!isNumber(_13df)){_13e0="Enter valid number";_13dd.siblings("span#noofuserErr").html(_13e0);}else{_13dd.siblings("span#noofuserErr").html("");}if(_13e0=="success"){freezeBackground();$.post("/people/addUserInZP.do",{"companyName":_13de,"noofuser":_13df,"action":1},function(data){window.location.href="/people/#home/gettingstarted";});}}function joinWithOrg(){$.post("/people/addUserInZP.do",{"action":2},function(data){if(data.indexOf("Error:")==-1){freezeBackground();window.location.href="/people/#home/gettingstarted";}else{var scrid=docid("FreezeLayer");if(scrid){document.body.removeChild(scrid);}$("#emailConfDiv").css("color","").html("You can proceed further by accepting the confirmation email that is sent to you. Please <a href=\"javascript:;\" onclick=\"resendConfirmationMail()\">click here</a> to receive the confirmation email again");}});}function resendConfirmationMail(){$.post("/people/resendConfirmation.do",function(data){$("#emailConfDiv").css("color","green").html("Email sent successfully");});}function isNumber(input){var _13e6=/^\d+(\.\d+)?([eE][+-]?\d+)?$/;return _13e6.test(input);}function loadWelcomepage(_13e7){var _13e8=$("#zpeople_progressbar");_13e8.ajaxStart(function(){showhideprogressbar(true,_13e8);});_13e8.ajaxStop(function(){showhideprogressbar(false,_13e8);});if(_13e7==2){$("#companyName, #noofusers").bind("keyup",function(){if(allFilled()){$("#createNewAccButton").removeClass("zpgrybut").addClass("zpblubut");}else{$("#createNewAccButton").addClass("zpgrybut").removeClass("zpblubut");}});}}function allFilled(){var _13e9=true;$("body input").each(function(){if($(this).val()==""){_13e9=false;}});return _13e9;}function showLeaveUnitBasedFields(Obj){var value=$(Obj).val();var _13ec=$(Obj).find("option[value="+value+"]");if(_13ec!=undefined){var _13ed=$(_13ec).attr("leavetypeunit");var _13ee=$("#"+Layout.containerid);if(_13ed=="Days"){_13ee.find("div#showHideDaysTakenField").css("display","none");_13ee.find("div#leave_specify_date").css("display","none");_13ee.find("div#leaveFromToField").css("display","block");_13ee.find("div#leaveFromToField").find("input").val("");_13ee.find("div#leave_specify_date").find("input#leave_specify_leave_date").removeAttr("name");_13ee.find("div#leaveFromToField").find("input#leave_from_field").attr("name","From");_13ee.find("div#chooseLeaveDays").hide();}else{if(_13ed=="Hours"){_13ee.find("div#showHideDaysTakenField").css("display","");_13ee.find("div#leave_specify_date").css("display","");_13ee.find("div#leaveFromToField").css("display","none");_13ee.find("div#leaveFromToField").find("input#leave_from_field").removeAttr("name");_13ee.find("div#leave_specify_date").find("input#leave_specify_leave_date").attr("name","From");_13ee.find("div#chooseLeaveDays").hide();}}}}getLocationAndRoleBasedLeaveTypes=function(_13ef){var _13f0=$(_13ef).attr("name").toString();if(_13f0=="Employee_ID"){var value=$(_13ef).val();var _13f2=$(_13ef).find("option[value="+value+"]");var _13f3=$(_13f2).attr("lookuprolename");var _13f4=$(_13f2).attr("lookupemprec");var _13f5=$(_13f2).attr("lookuplocname");if(_13f4!=undefined&&_13f5!=undefined&&_13f3!=undefined){$.post("/people/getLocAndRoleBasedLeaveType.do",{"roleName":_13f3,"empErec":_13f4,"locName":_13f5},function(_13f6){var _13f7=JSON.parse(_13f6);$("#"+Layout.containerid).find("input[name=TeamEmailID]").val(_13f7.depName);var _13f8="<option value='-Select-'>-Select-</option>";for(var _13f9 in _13f7){var _13fa=_13f7[_13f9];if(typeof (_13fa)=="object"){for(var _13fb in _13fa){var _13fc=_13fa[_13fb];_13f8+="<option value='"+_13fc[1]+"' leavetypeunit='"+_13fc[2]+"'>"+_13fc[0]+"</option>";}}}var _13fd=$("#"+Layout.containerid).find("select[name=Leavetype]");_13fd.html(_13f8);var _13fe=$(_13fd).attr("formCompID");var _13ff=$("div[id=relatedfield"+_13fe+"]");$(_13ff).find("span").each(function(){$(this).html("&nbsp;");});});}}};function showAddFormPage(_1400,mode,_1402,_1403){var _1404="formid="+_1400+"&conreqcsr="+csrfToken;if(mode=="view_record"){_1404="formid="+_1400+"&conreqcsr="+csrfToken+"&formAccessType="+_1403+"&recPkID="+_1402;}var url="/people/LiveFormHeader.do";$.post(url,_1404,function(data){$("#"+Layout.containerid).html(data);});}function resetFilter(_1407,_1408,_1409){$("#"+Layout.containerid).find("#"+_1407).val("").focus();$("#"+Layout.containerid).find("#"+_1408).val("");$("#"+Layout.containerid).find("#"+_1409).val("");}var ZCConstants=new function(){this.FORM=2;this.VIEW=3;this.FORM_ALONE=1;this.VIEW_ADD_FORM=2;this.VIEW_EDIT_FORM=3;this.VIEW_SINGLE_RECORDVIEW=4;this.DATE_TIME=22;this.DATE=10;this.TIME_FORMAT="%H:%M:%S";this.FORM_TYPE_INZC=1;this.BETWEEN=58;this.LESS_EQUAL=22;this.GREATER_EQUAL=23;this.EMPTY=29;this.CURRENT_NEXT_YEAR=57;this.IMAGE=20;this.URL=21;this.REPLACE_DQ_CHAR="@@@DQ@@@";};var ZCUtil=new function(){this.isNull=function(value){if(!value||value=="undefined"||typeof (value)=="undefined"||value=="NULL"||value=="null"||value.length==0||value==""){return true;}return false;};this.escapeXml=function(value){value=value.replace(/&lt+/g,"<");value=value.replace(/&gt+/g,">");value=value.replace(/&quot;+/g,"\"");value=value.replace(/&+/g,"&amp;");return value;};this.getParams=function(_140c){return ((_140c.indexOf("?")!=-1)?_140c.substring(_140c.indexOf("?")+1):"");};this.getAttrsAsArr=function(_140d,_140e){var _140f=[];var value=_140d.replace(/'/g,"\"");var _1411=value.toLowerCase();if(_140e=="image"){if(_1411.indexOf("<a")==0){if(_1411.indexOf("href")!=-1){var _1412=_1411.indexOf("href",0);var _1413=value.substring(_1412+1);var _1414=_1413.indexOf("\"",0);var _1415=_1413.indexOf("\"",_1414+1);var _1416=_1413.substring(_1414+1,_1415);_140f["zcfieldlink-"]=_1416;_140f["target"]="same";}if(_1411.indexOf("title")!=-1){var _1412=_1411.indexOf("title",0);var _1413=value.substring(_1412+1);var _1417=_1413.indexOf("\"",0);var _1418=_1413.indexOf("\"",_1417+1);var _1419=_1413.substring(_1417+1,_1418);_140f["zctitle-"]=_1419;}if(_1411.indexOf("target")!=-1){var _1412=_1411.indexOf("target",0);var _1413=value.substring(_1412+1);var tar1=_1413.indexOf("\"",0);var tar2=_1413.indexOf("\"",tar1+1);var _141c=_1413.substring(tar1+1,tar2);_140f["target"]=(_141c.toLowerCase().indexOf("blank")!=-1)?"new":"same";}if(_1411.indexOf("src")!=-1){var _1412=_1411.indexOf("src",0);var _1413=value.substring(_1412+1);var img=_1413.indexOf("\"",0);var img1=_1413.indexOf("\"",img+1);var _141f=_1413.substring(img+1,img1);_140f["zcsource-"]=_141f;}if(_1411.indexOf("alt")!=-1){var _1412=_1411.indexOf("alt",0);var _1413=value.substring(_1412+1);var img=_1413.indexOf("\"",0);var img1=_1413.indexOf("\"",img+1);var _1420=_1413.substring(img+1,img1);_140f["zcalttext-"]=_1420;}}else{if(_1411.indexOf("<img")==0){if(_1411.indexOf("src")!=-1){var _1412=_1411.indexOf("src",0);var _1413=value.substring(_1412+1);var img=_1413.indexOf("\"",0);var img1=_1413.indexOf("\"",img+1);var _141f=_1413.substring(img+1,img1);_140f["zcsource-"]=_141f;}if(_1411.indexOf("alt")!=-1){var _1412=_1411.indexOf("alt",0);var _1413=value.substring(_1412+1);var img=_1413.indexOf("\"",0);var img1=_1413.indexOf("\"",img+1);var _1420=_1413.substring(img+1,img1);_140f["zcalttext-"]=_1420;}}}}else{if(_1411.indexOf("href")!=-1){var _1412=_1411.indexOf("href",0);var _1413=value.substring(_1412+1);var url=_1413.indexOf("\"",0);var url1=_1413.indexOf("\"",url+1);var _1423=_1413.substring(url+1,url1);_140f["zcurl-"]=_1423;_140f["target"]="same";}if(_1411.indexOf("title")!=-1){var _1412=_1411.indexOf("title",0);var _1413=value.substring(_1412+1);var title=_1413.indexOf("\"",0);var _1417=_1413.indexOf("\"",title+1);var _1425=_1413.substring(title+1,_1417);_140f["zctitle-"]=_1425;}if(_1411.indexOf("target")!=-1){var _1412=_1411.indexOf("target",0);var _1413=value.substring(_1412+1);var tar1=_1413.indexOf("\"",0);var tar2=_1413.indexOf("\"",tar1+1);var _1426=_1413.substring(tar1+1,tar2);_140f["target"]=(_1426.toLowerCase().indexOf("blank")!=-1)?"new":"same";}var name1=value.indexOf(">",0);var name2=value.indexOf("<",name1);var _1429=value.substring(name1+1,name2);_140f["zclnkname-"]=_1429;}return _140f;};this.getParamsAsArray=function(_142a,_142b,opr){var _142d=new Array();_142a=$.trim(_142a);if(_142a==""){return _142d;}_142b=ZCUtil.isNull(_142b)?"&":_142b;opr=ZCUtil.isNull(opr)?"=":opr;var _142e=_142a.split(_142b);$.each(_142e,function(idx,val){var _1431=val.indexOf(opr);if(_1431!=-1){val=val.substr(_1431+1);}_142d[idx]=$.trim(val);});return _142d;};this.getParamsAsMap=function(_1432,_1433,opr){_1432=$.trim(_1432);if(_1432==""){return new Object();}_1433=ZCUtil.isNull(_1433)?"&":_1433;opr=ZCUtil.isNull(opr)?"=":opr;var _1435=_1432.split(_1433);var _1436=new Object();for(var count=0;count<_1435.length;count++){var _1438=_1435[count];var _1439=$.trim(_1438.substring(0,_1438.indexOf(opr)));var _143a=$.trim(_1438.substring((_1438.indexOf(opr)+1),_1438.length));if(_143a.indexOf(";")!=-1&&_1432.indexOf(_1439+"_op")==-1&&_1439!="sortBy"&&_1439!="groupBy"&&_1439!="showColumns"&&_1439!="hideColumns"){var _143b=_143a;_143a="";var _143c=_143b.split(";");$.each(_143c,function(index,value){_143a=(index==_143c.length-1)?_143a+$.trim(value):_143a+$.trim(value)+",";});}if(_1436[_1439]==null){_1436[_1439]=new Array();}var val=_1436[_1439];val[val.length]=_143a;}return _1436;};this.setParamsInMap=function(_1440,_1441,_1442,opr){_1442=ZCUtil.isNull(_1442)?"&":_1442;opr=ZCUtil.isNull(opr)?"=":opr;var _1444=_1441.split(_1442);$.each(_1444,function(index,_1446){var _1447=$.trim(_1446.substring(0,_1446.indexOf(opr)));var _1448=$.trim(_1446.substring((_1446.indexOf(opr)+1),_1446.length));if(!ZCUtil.isNull(_1448)){ZCUtil.setInMap(_1440,_1447,_1448);}});return _1440;};this.getParamsFromMap=function(_1449){var _144a="";$.each(_1449,function(name,value){if(!ZCUtil.isNull(value)){var _144d=(_144a.length>0)?"&"+name+"="+value:name+"="+value;_144a=_144a+_144d;}});return _144a;};this.getFromMap=function(_144e,_144f){try{return _144e[_144f][_144e[_144f].length-1];}catch(e){return "";}};this.setInMap=function(_1450,_1451,_1452){if(_1450[_1451]==null){var val=new Array();val[val.length]=_1452;_1450[_1451]=val;}else{_1450[_1451][_1450[_1451].length-1]=_1452;}return _1450;};this.removeFromMap=function(_1454,_1455){_1454[_1455]=null;};this.replaceInParam=function(_1456,_1457,_1458,_1459){var _145a="";$.each(_1456.split(";"),function(index,value){var _145d=(value.indexOf(":")!=-1)?value.substring(0,value.indexOf(":")):value;value=(_145d==_1457)?_1459?"":_1457+":"+_1458:value;if(value!=""){_145a=_145a+value+";";}});return _145a;};this.contains=function(_145e,value){var _1460=false;$.each(_145e,function(index,item){_1460=($.trim(String(item))==$.trim(String(value)))?true:_1460;});return _1460;};this.findPosX=function(obj){var _1464=0;if(document.getElementById||document.all){_1464+=document.body.offsetLeft;while(obj.offsetParent){_1464+=obj.offsetLeft;obj=obj.offsetParent;}}else{if(document.layers){_1464+=obj.x;}}return _1464;};this.findPosY=function(obj){var _1466=0;if(document.getElementById||document.all){_1466+=document.body.offsetTop;while(obj.offsetParent){_1466+=obj.offsetTop;obj=obj.offsetParent;}}else{if(document.layers){_1466+=obj.y;}}return _1466;};this.showMenu=function(_1467,xPos,yPos,anim){var _146b=$(window).width();var _146c=$(window)["scrollLeft"]();_1467.style.left=xPos+"px";_1467.style.top=yPos+"px";$(_1467).show();$(_1467.parentNode).find("span[elName=rightArr]").show();$(_1467.parentNode).find("span[elName=leftArr]").hide();if(xPos+_1467.clientWidth>=_146b+_146c){_1467.style.left=(_146b-_1467.clientWidth+_146c)+"px";$(_1467.parentNode).find("span[elName=rightArr]").hide();$(_1467.parentNode).find("span[elName=leftArr]").show();}};this.showDropDownMenu=function(srcEl,_146e,anim){var xPos=0;var yPos=0;var _1472=$(srcEl).parents("div#listViewDataDiv");if(_1472.length>0){var _1473=$(srcEl).position();xPos=_1473["left"];yPos=_1473["top"]+$(srcEl).outerHeight();}else{xPos=ZCUtil.findPosX(srcEl);yPos=ZCUtil.findPosY(srcEl)+srcEl.offsetHeight;}ZCUtil.showMenu(_146e,xPos,yPos,anim);};this.hideMenu=function(srcEl,_1475){if(_1475){_1475.style.display="none";}};this.showSubMenu=function(srcEl,_1477,event){if(ZCUtil.checkFromSameElem(srcEl,event)){return;}var xPos=ZCUtil.findPosX(srcEl);var _147a=$(window)["scrollLeft"]();var _147b=xPos+srcEl.clientWidth;var _147c=$(window).width();var corr=1;if($.browser.msie){corr=20;}_1477.style.left=(srcEl.offsetWidth-corr)+"px";var _147e=ZCUtil.findPosY(srcEl);_1477.style.top=(_147e-ZCUtil.findPosY(srcEl.parentNode))+"px";$(_1477).show();$($(_1477).find("td[elName=zc-viewSubOptionsHeight]")[0]).height($(_1477).height()-20);var _147f=$(window).height()-_147e-20;if(_147f<$(_1477).height()){_1477.style.height=_147f+"px";}$(_1477).width($($(_1477).children()[0]).width()+16);if((_147b+_1477.clientWidth)>_147c+_147a){corr=22;if($.browser.msie){corr=10;}_1477.style.left=(1-srcEl.offsetWidth-($(_1477).width()-$(srcEl).width()-corr))+"px";$(srcEl.parentNode).find("span[elName=leftArr]").show();$(srcEl.parentNode).find("span[elName=rightArr]").hide();}else{$(srcEl.parentNode).find("span[elName=rightArr]").show();$(srcEl.parentNode).find("span[elName=leftArr]").hide();}};this.hideSubMenu=function(srcEl,_1481,event){if(ZCUtil.checkFromSameElem(srcEl,event)){return;}_1481.style.display="none";};this.checkFromSameElem=function(srcEl,event){if(!event){var event=window.event;}var _1485=event.relatedTarget?event.relatedTarget:event.type=="mouseout"?event.toElement:event.fromElement;if(ZCUtil.isParent(_1485,srcEl,20)){return true;}return false;};this.getParent=function(srcEl,_1487){if(ZCUtil.isNull(_1487)){_1487="";}for(var count=0;$(srcEl).parent()[0];count++){var retel=$(srcEl).parent(_1487);if(retel[0]){return retel;}srcEl=$(srcEl).parent();if(count>10){return;}}};this.isParent=function(elem,_148b,_148c){if(ZCUtil.isNull(_148c)){_148c=10;}for(var count=0;$(elem).parent()[0];count++){var elem=$(elem).parent();if(elem[0]==_148b){return true;}if(count>_148c){return false;}}return false;};this.sendRequest=function(url,_148f,_1490,_1491,args,msg,_1494){if(!ZCUtil.isNull(msg)){ZCApp.setLoadingMsg($("#zc-loading"),msg+" ...");}var _1495="";if(ZCUtil.contains(ZCApp.csrfArray,url)&&_148f.indexOf(ZCApp.csrfParamName)==-1){_1495=_1495+ZCApp.csrfParamName+"="+ZCApp.csrfParamValue+"&";}_1495=_1495+_148f;var _1496=ZCUtil.getEmptyIDX(ZCApp.paramsArr);ZCApp.paramsArr[_1496]=ZCUtil.getParamsAsMap(_1495);var _1497=ZCUtil.getEmptyIDX(ZCApp.paramsArr);ZCApp.paramsArr[_1497]=args;jQuery.post(url,_1495,function(_1498,_1499){if(_1498.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(_1499=="success"){var _149a=ZCUtil.getEmptyIDX(ZCApp.respArr);ZCApp.respArr[_149a]=JSON.parse(_1498);callbackFunc=new Function(_1491+"(ZCApp.respArr["+_149a+"], ZCApp.paramsArr["+_1496+"], ZCApp.paramsArr["+_1497+"])");callbackFunc();}else{alert(i18n.failedreq);}}});return false;};this.getEmptyIDX=function(arr){var idx=arr.length;$.each(arr,function(index,el){if(ZCUtil.isNull(el)){idx=index;return;}});return idx;};this.toggleRadio=function(_149f,_14a0,_14a1){var _14a2="";ZCUtil.getParent(_14a0);var _14a3=_14a2.find("input[elName="+_149f+"]");if(!_14a3[0]){_14a3=_14a2.find("input[name="+_149f+"]");}if(!$(_14a3).attr("disabled")&&$(_14a3).attr("disabled")!="disabled"){$(_14a3).attr("checked",($(_14a3).attr("type")=="radio")?true:!$(_14a3).is(":checked"));if(ZCUtil.isTrue(_14a1)){$(_14a3).click();}else{$(_14a3).change();}}};this.getFieldsAsParams=function(frm,_14a5){var _14a6="";$.each($(frm).find(_14a5),function(index,field){var _14a9=false;$.each($(field).parents("div[formType=SubForm]"),function(a,b){_14a9=true;});if(_14a9&&$(frm).attr("elName")!="subFormContainer"){return true;}if(field.type=="select-multiple"||field.type=="multiselect"){$.each(ZCUtil.getFieldValue(field),function(idx,val){if(!ZCUtil.isNull(val)){_14a6=_14a6+$(field).attr("name")+"="+encodeURIComponent(val)+"&";}});}else{var val=ZCUtil.getFieldValue(field);if(ZCUtil.isNull(val)){val="";}if(($(field).attr("type")!="radio"&&$(field).attr("type")!="checkbox")||!ZCUtil.isNull(val)){_14a6=_14a6+$(field).attr("name")+"="+encodeURIComponent(val)+"&";}}});_14a6=(_14a6!="")?_14a6.substring(0,_14a6.length-1):_14a6;return _14a6;};this.parseJSONResponse=function(json){var _14b0=[];$.each(json,function(idx,item){$.each(item,function(key,val){_14b0[key]=val;});});return _14b0;};this.removeInfoHdr=function(){var _14b5=$("#_DIALOG_LAYER").find(".DialogBox");_14b5.find("tr:first").remove();_14b5.find("tr:last").remove();};this.showDialog=function(msg,_14b7,_14b8){if(_14b7=="true"){msg=ZCApp.dialogAbove+msg+ZCApp.dialogBelow;}var _14b9="closeButton=no";if(!ZCUtil.isNull(_14b8)){_14b9+=", "+_14b8;}ZCUtil.showInDialog(msg,_14b9);ZCUtil.removeInfoHdr();};this.showInDialog=function(_14ba,_14bb){showDialog(_14ba,_14bb);};this.getFieldValue=function(field){switch($(field).attr("type")){case "select-multiple":case "multiselect":var _14bd=[];$.each($(field).find("option"),function(idx,opt){if($(opt).attr("selected")||$(opt).attr("selected")=="true"){_14bd.push($(opt).val());}});return _14bd;case "radio":case "checkbox":if($(field).is(":checked")){return $(field).val();}break;default:return $(field).val();}};this.isHidden=function(_14c0){return $(_14c0).is(":hidden");};this.isTrue=function(_14c1){return (_14c1&&_14c1.toString()=="true");};};var ZCApp=new function(){this.respArr=[];this.htmlArr=[];this.currURL="#";this.paramsArr=[];this.compNameVsTypeMap=new Object();this.csrfArray=new Array("/getPrivateLink.do","/copyApp.do","/addRecordValidate.do","/addrecord.do","/editrecord.do","/editbulkrecord.do","/duplicaterecordaction.do","/importFile.do","/gridRecordAction.do","/deleterecordaction.do","/uploadFile.do","/saveNewView.do","/generateJS.do","/home/rateApp","/home/addReviews","/ccvalidation.do","/validateSubForm.do","/importFormData.do");this.dialogAbove=" <div elname='zc-dialogheader' class=\"zc-dialogheader\" onmousedown=\"captureDialog(event)\" ><table cellspacing=\"0\"><tr><td class=\"zc-dialog-left\"></td><td class=\"zc-dialog-right\" onclick=\"ZCApp.closeDialog();\" onmouseover=\"this.className='zc-dialog-right-hover';\" onmouseout=\"this.className='zc-dialog-right';\">Close</td></tr></table></div><div class=\"zc-dialogdiv\">";this.dialogBelow="</div>";this.loadPage="true";this.hideLoading=function(_14c2){$("#"+_14c2).hide();};this.setLoadingMsg=function(elem,msg){$(elem).attr("msg",msg);};this.closeDialog=function(){closeDialog();if(ZCApp.currURL.indexOf("zc_LoadIn=dialog")!=-1){window.location.href=ZCApp.prevURL;ZCApp.loadPage="false";}};this.hideAndStopPropogation=function(event){if($.browser.msie){window.event.cancelBubble=true;}else{if(browser_nn6){event.stopPropagation();}}ZCUtil.hideMenu(null,$("#zc-copyappdiv")[0]);ZCUtil.hideMenu(null,$("#zc-homedropdown")[0]);};};function trim(str){return (str.replace(/\s+$/,""));}var relodCurrentForm="true";var ZCForm=new function(){this.formArr=[];this.showFormVar="true";this.custParams="";this.onUserInputElem=new Array();this.addToFormArr=function(_14c7,_14c8){_14c7=_14c7.substring(1,_14c7.length-1);_14c7=ZCUtil.getParamsAsMap(_14c7,",","=");this.formArr[_14c8]=_14c7;};this.setFieldValue=function(_14c9,_14ca,_14cb,_14cc){var el=ZCForm.getField(_14c9,_14ca,_14cb);var _14ce=el.attr("type");var _14cf=(_14ce=="image"||_14ce=="url")?el.find(":input"):el;if(_14cc.constructor.toString().indexOf("Array")==-1){_14cc=_14cc.replace(new RegExp(ZCConstants.REPLACE_DQ_CHAR,"g"),"\"");}$.each(_14cf,function(index,elem){if(_14ce=="radio"&&$(elem).val()==_14cc){$(elem).attr("checked","checked");}else{if(_14ce=="checkbox"){if(_14cc.constructor.toString().indexOf("Array")==-1){if(_14cc=="true"){$(elem).attr("checked","checked");}else{$(elem).removeAttr("checked");}}else{for(var i=0;i<_14cc.length;i++){if($(elem).val()==_14cc[i]){$(elem).attr("checked","checked");}}}}else{if(_14ce=="plaintext"){_14cc=_14cc.toString();$(elem).html(_14cc);}else{if(_14ce=="hidden"||_14ce=="text"||_14ce=="picklist"||_14ce=="select-one"||_14ce=="textarea"){$(elem).val(_14cc);}else{if(_14ce=="select-multiple"||_14ce=="multiselect"){for(var i=0;i<_14cc.length;i++){$(el.find("option[value="+_14cc[i]+"]")).attr("selected","selected");}}else{if(_14ce=="url"){_14cc=_14cc.toString();var _14d3=ZCUtil.getAttrsAsArr(_14cc,_14ce);setImageUrlValue(_14c9,_14ca,_14d3,_14cb);}}}}}}});return el[0];};this.getField=function(_14d4,_14d5,_14d6,_14d7){return $(ZCForm.getForm(_14d4,_14d6,_14d7)).find(":input[name="+_14d5+"],span[name="+_14d5+"],div[name="+_14d5+"], table[name="+_14d5+"]");};this.getFormCont=function(_14d8,_14d9,_14da){if(ZCUtil.isNull(_14d9)){_14d9=ZCConstants.FORM_ALONE;}if(_14da){return $("#_DIALOG_CONTENT").find("div [id^="+_14d8+"QC_]");}else{return $("#"+Layout.containerid).find("#"+_14d8+"_"+_14d9);}};this.getForm=function(_14db,_14dc,_14dd){var _14de=ZCForm.getFormCont(_14db,_14dc,_14dd);if($(_14de).attr("formType")=="Form"){return $(_14de).find("form[elName="+_14db+"]");}else{return _14de;}};this.regCommonFormEvents=function(_14df,_14e0,_14e1){var _14e2=ZCForm.getFormCont(_14df,_14e0,_14e1);var frm=ZCForm.getForm(_14df,_14e0,_14e1);var _14e4=$(_14e2).find("div[elName=zc-moreactionsel]");$(_14e4).click(function(event){ZCUtil.showDropDownMenu(this,$(_14e2).find("div[elName=zc-formOptionsDIV]")[0]);});$(_14e2).find("a[elName=zc-toggleupload]").click(function(){var _14e6=$(this).attr("enable");ZCUtil.getParent(this)[0].style.display="none";var _14e7=ZCUtil.getParent(this,"td");var _14e8=$(_14e7).find(":input[name=uploadFile]");$(_14e8).attr("changed",(_14e6=="enable")?"changed":null);$(_14e7).find("span[elName=zc-"+_14e6+"upload],div[elName=zc-"+_14e6+"upload]")[0].style.display="";});$(_14e2).find("tr[elName=zc-showFormDialog]").click(function(){var _14e9=$(this).attr("dialogHTMLKey");if(ZCApp.htmlArr[_14df+"-"+_14e9]==null){var _14ea=$(_14e2).find("div[elName='"+$(this).attr("dialogElName")+"']");ZCApp.htmlArr[_14df+"-"+_14e9]=$(_14ea).html();$(_14ea).remove();}var props="";if(_14e9=="embedDialogHtml"){props=",position=absolute,left=300";}ZCUtil.showInDialog(ZCApp.htmlArr[_14df+"-"+_14e9],"closeButton=no, modal=yes"+props);});$(frm).find(":input[fieldType="+ZCConstants.DATE+"], :input[fieldType="+ZCConstants.DATE_TIME+"]").each(function(){var _14ec=($(this).attr("fieldType")==ZCConstants.DATE_TIME)?true:false;var _14ed=_14ec?ZCApp.dateFormat+" "+ZCConstants.TIME_FORMAT:ZCApp.dateFormat;ZCForm.setUpCalendar(this,this,_14ed,_14ec);});};this.regFormEvents=function(_14ee,_14ef,_14f0){ZCForm.regCommonFormEvents(_14ee,_14ef,_14f0);var _14f1=ZCForm.getFormCont(_14ee,_14ef,_14f0);var frm=ZCForm.getForm(_14ee,_14ef,_14f0);if(_14ef==ZCConstants.VIEW_ADD_FORM||_14ef==ZCConstants.FORM_ALONE||_14ef==ZCConstants.VIEW_EDIT_FORM){$(frm).find("*[fieldType="+LOOKUP+"]").each(function(){if($(this).attr("type")=="select-one"||$(this).attr("type")=="picklist"){getRelatedFieldsValue($(this),frm);}else{if($(this).attr("type")=="radio"&&$(this).attr("checked")){getRelatedFieldsValue($(this),frm);}else{if($(this).attr("id")=="seltdDeptSpan"){var _14f3=$("[id=seltdDept]",$(this).parent());getRelatedFieldsValue(_14f3,frm);}}}});}$(frm).find(":input[type!=hidden][type!=reset][type!=submit][type!=button][type!=radio][type!=checkbox]").change(function(){if($(this).attr("type")=="file"){$(this).attr("changed","changed");}});$(frm).submit(function(_14f4){if(ZCForm.doSubmit(frm)){ZCForm.freezeButton(frm);return ZCForm.triggerSubmit(frm);}else{return false;}});$(frm).find(":input[elName=zc-cancelformbutton]").click(function(_14f5){var _14f6=$(frm).find(":input[name=defaultViewID]").val();var _14f7=$(frm).find(":input[name=formid]").val();var _14f8=$(frm).find(":input[id=formDispName]").val();var _14f9=$(frm).find(":input[name=pkValue]").val();var _14fa=window.location.href;if(_14fa.indexOf("admin/")!=-1){var hash=window.location.hash;hash=hash.substring(1,hash.length);var _14fc=hash.split("-")[0];var _14fd=false;var _14fe=false;var _14ff="";var _1500="";var _1501=_14fa.indexOf("recordId:");var _1502=_14fa.substring((_1501+9));if(_14fc=="selfservice/profile/edit"){_14fd=true;}else{if(_14fc=="admin/leave/holidays"){_14fe=true;_14ff="holidays";}else{if(_14fc=="admin/leave/manageleavetype"){_14fe=true;_14ff="leaveType";}else{if(_14fc=="admin/setuporganization/departments"){_14fe=true;_14ff="departments";}else{if(_14fc=="admin/setuporganization/designations"){_14fe=true;_14ff="designations";}else{if(_14fc=="admin/leave/leavetype"){_14fe=true;_14ff="leaveTypeCnts";}else{if(_14fc=="admin/nonusers/list"){_14fe=true;_14ff="dummyEmployees";}else{if(_14fc=="employees/orgstructure/edit"){_14fe=true;_14ff="orgStructure";}else{if(_14fc=="admin/userspermissions/users"){_14fe=true;_14ff="usersListing";}else{if(_14fc=="employees/orgstructure/edit"){_14fe=true;_14ff="orgStructure";}}}}}}}}}}if(!ZCUtil.isNull(_14f6)&&_14fe){if(_14ff=="orgStructure"){window.location.href="/people/#employees/orgstructure-depId:"+_1502;}else{getbyAjaxAdminPages(_14ff);}}else{if(!ZCUtil.isNull(_14f6)&&_14fd){getProfile("empProfile");}else{if(!ZCUtil.isNull(_14f6)&&!_14fd){loadFormAndViewPages("liveView",_14f6,_14f7);}}}}else{var hash=window.location.hash;hash=hash.substring(1,hash.length);var _14fc=hash.split("-")[0];var _14fd=false;var _14fe=false;var _14ff="";var _1500="";var _1501=_14fa.indexOf("recordId:");var _1502=_14fa.substring((_1501+9));if(_14fc=="employees/profile"||_14fc=="selfservice/profile"){_14fd=true;}else{if(_14fc=="admin/settings/leave/holidays"){_14fe=true;_14ff="holidays";}else{if(_14fc=="admin/leavetype/manageleavetype"){_14fe=true;_14ff="leaveType";}else{if(_14fc=="admin/setuporganization/departments"){_14fe=true;_14ff="departments";}else{if(_14fc=="admin/setuporganization/designations"){_14fe=true;_14ff="designations";}else{if(_14fc=="admin/settings/leave/leavetype"){_14fe=true;_14ff="leaveTypeCnts";}else{if(_14fc=="admin/nonusers/list"){_14fe=true;_14ff="dummyEmployees";}else{if(_14fc=="employees/orgstructure/edit"){_14fe=true;_14ff="orgStructure";}else{if(_14fc=="orgchart/employees"){_14fe=true;_14ff="orgChart";}else{if(_14fc=="admin/setuporganization/users"||_14fc=="admin/setuporganization/userslisting"){_14fe=true;_14ff="usersListing";}else{if(_14fc=="leavetracker/addleave"){_14fe=true;_14ff="homeAddLeave";}else{if(_14fc=="leavetracker/addholiday"||_14fc=="leavetracker/editholiday"){_14fe=true;_14ff="home_add_holiday";}}}}}}}}}}}}if(!ZCUtil.isNull(_14f6)&&_14fe&&_14ff=="homeAddLeave"){window.location.href="/people/#leavetracker/leaveview";}else{if(!ZCUtil.isNull(_14f6)&&_14fe&&_14ff=="home_add_holiday"){window.location.href="/people/#leavetracker/holidays";}else{if(!ZCUtil.isNull(_14f6)&&_14fe){if(_14ff=="orgStructure"){window.location.href="/people/#employees/orgstructure-depId:"+_1502;}else{if(_14ff=="orgChart"){profileActions.hideActionShowView();}else{getbyAjaxAdminPages(_14ff);}}}else{if(!ZCUtil.isNull(_14f6)&&_14fd){if(_14fc=="selfservice/profile"||_14fc=="employees/profile"){profileActions.hideActionShowView();}else{getProfile("empProfile");}}else{if(!ZCUtil.isNull(_14f6)&&!_14fd){loadFormAndViewPages("liveView",_14f6,_14f7);}}}}}}});};this.doSubmit=function(frm){var _1504=$(frm).find(":input[type=submit],[type=button]");if(_1504.is(":disabled")){return false;}return true;};this.freezeButton=function(frm){$(frm).find(":input[type=submit],[type=button]").attr("disabled","disabled");};this.defreezeButton=function(frm){$(frm).find(":input[type=submit],[type=button]").removeAttr("disabled");};this.triggerSubmit=function(_1507){var elem=$("#zc-loading");var _1509=elem.find("[loading=true]");if(_1509.length==0){_1509=elem.find("[loading=false]");}_1509.attr("loading","true");var _150a=$(_1507).find(":input[type=file]");if(_150a.length>0){return ZCForm.uploadFilesAndSubmit(_1507,_150a);}else{return ZCForm.submitForm(_1507);}};this.clearEmptyFiles=function(_150b,_150c){_150c=_150c.substring(1,_150c.length-1);_150c=ZCUtil.getParamsAsMap(_150c,",","=");$(_150b).find(":input[type=file][changed='changed']").each(function(){var _150d=$(this).attr("labelName");var _150e=ZCUtil.getFromMap(_150c,_150d);var _150f=$(this).attr("isAdded");if(ZCUtil.isNull(_150e)&&!_150f){$(_150b).find("input[subType=file][name="+_150d+"]").each(function(){$(this).attr("value","");});}else{$(this).attr("isAdded",true);}});};this.submitForm=function(_1510){var _1511=$(_1510).find(":input[name=formLinkName]").val();var _1512=$(_1510).find(":input[name=recType]").val();var _1513=document.activeElement;var _1514=$(_1513).parents("div[class=zc-formcontainer]:first");var _1515=$(_1510).find("[lookupemprec]")[0];if(_1515!=null){var _1516=$(_1515).parent("select").find(":selected").attr("lookupemprec");$(_1510).find(":input[name=sysEmployeeLookUp]").attr("value",_1516);}var _1517=ZCForm.formArr[_1511];if(ZCUtil.isNull(ZCUtil.getFromMap(_1517,"onuserinput"))){var _1518="formLinkName="+_1511+"&formAccessType="+_1512+"&fid="+$(_1510).find(":input[name=formid]").val();var _1518=ZCUtil.getFieldsAsParams(_1510,":input[type!=reset][type!=submit][type!=button][type!=file][id!=pickListOptionText]");ZCUtil.sendRequest($(_1510).attr("action"),_1518,"json","ZCForm.handleResponse",ZCUtil.getParamsAsMap("formLinkName="+_1511+"&formAccessType="+_1512),"");return false;}else{ZCUtil.removeFromMap(_1517,"fieldchange");ZCUtil.setInMap(_1517,"autosubmit","true");ZCForm.clearErrors(_1510);return false;}};this.uploadFilesAndSubmit=function(_1519,_151a){var _151b="";var _151c=ZCUtil.getParent(_1519,"div").find("div[elName=zc-fileuploadtemplate]");var _151d=_151c.find("form")[0];_151d.formAccessType.value=$(_1519).find(":input[name=recType]").val();_151d.formLinkName.value=$(_1519).find(":input[name=formLinkName]").val();var _151e="true";$(_151d).children("input.zc-fuploadtext").remove();$(_151a).siblings("span.enter").remove();$.each(_151a,function(index,el){var _1521=$(el).attr("changed");var _1522=$(el).attr("isAdded");if(_1521&&_1521=="changed"&&!_1522){var _1523=$(el).attr("fieldtype");if(_1523==20){var _1524=isImageType($(el).val());if(_1524=="false"){_151e="false";$(el).after("<span class=\"enter\">"+i18n.uploadimagefielderror+"</span>");}}_151b="submit";$(el).after($(el).clone()[0]);$(el).attr("name",$(el).attr("labelName"));$(_151d).append(el);}});if(_151e=="true"){if(_151b=="submit"){$(_151d).submit();}else{return ZCForm.submitForm(_1519);}}return false;};this.clearUploadForm=function(_1525){var _1526=ZCUtil.getParent(_1525,"div").find("div[elName=zc-fileuploadtemplate]");var _1527=_1526.find("form");$(_1527).find(":input").remove("[type=file]");};this.revertUpload=function(_1528){var _1529=ZCUtil.getParent(_1528,"div").find("div[elName=zc-fileuploadtemplate]");var _152a=_1529.find("form");$.each($(_152a).find(":input[type=file]"),function(index,elem){var name=$(elem).attr("name");var _152e=$(_1528).find(":input[name="+name+"]");ZCUtil.getParent(_152e).find(":input").remove("[type=file]");$(elem).attr("name","uploadFile");$(_152e).after($(elem)[0]);});ZCForm.clearUploadForm(_1528);};this.setUpCalendar=function(_152f,_1530,_1531,_1532){Calendar.setup({inputField:_152f,ifFormat:_1531,showsTime:_1532,button:_1530});};this.getMsgFromResponse=function(_1533,_1534){var _1535=[];if(typeof (_1533)=="object"){for(var _1536 in _1533){var _1537=_1533[_1536];if(typeof (_1537)=="object"){for(var _1538 in _1537){var _1539=_1537[_1538];if(_1538==("success"+_1534)){_1535["succMsg"]=_1539;}else{if(_1538==("isCustomDefinedModule"+_1534)){_1535["isCustomDefinedModule"]=_1539;}else{if(_1538==("isCustomDefinedModuleParam"+_1534)){_1535["isCustomDefinedModuleParam"]=_1539;}else{if(_1538==("pkID")){_1535["pkID"]=_1539;}else{if(_1538==("isEmpInvite")){_1535["isEmpInvite"]=_1539;}else{if(_1538==("quickCreate")){_1535["quickCreate"]=_1539;}else{if(_1538==("quickCreateDetails")){_1535["quickCreateDetails"]=_1539;}else{if(_1538==("embedsuccess"+_1534)){_1535["embedSuccMsg"]=_1539;}else{if(_1538==("paymenterrors"+_1534)){_1535["paymentErrMsg"]=_1539;}else{if(_1538==("errors"+_1534)&&typeof (_1539)=="object"){_1535["fieldErrObj"]=_1539;}else{if(_1538==("errors"+_1534)){_1535["errors"]=_1539;}else{if(_1538==("errorList"+_1534)&&typeof (_1539)=="object"){_1535["errorList"]=_1539;}else{if(_1538==("successList"+_1534)&&typeof (_1539)=="object"){_1535["successList"]=_1539;}else{if(_1538==("successes"+_1534)){_1535["fieldSuccObj"]=_1539;}else{if(_1538==("recordDetails"+_1534)){_1535["recordDetails"]=_1539;}else{if(_1538==("msg"+_1534)){_1535["errMsg"]=_1539;}else{if(_1538==("referrerInfo"+_1534)){_1535["referrerInfoMsg"]=_1539;}else{if(_1538==("captcha"+_1534)){_1535["captchaTxt"]=_1539;}else{if(_1538==("errorMsg"+_1534)){_1535["errorMsg"]=_1539;}else{if(_1538==("status"+_1534)){_1535["statusMsg"]=_1539;}else{if(_1538==("dummyForm")){_1535["dummyForm"]=_1539;}else{if(_1538==("execType")){_1535["execType"]=_1539;}else{if(_1538==("successmsg")){_1535["successmsg"]=_1539;}else{if(_1538==("error")){_1535["error"]=_1539;}else{if(_1538==("otherErrors"+_1534)){_1535["otherErrors"]=_1539;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}else{var _153a=JSON.parse(_1533);for(var _1536 in _153a){var _1537=_153a[_1536];if(typeof (_1537)=="object"){for(var _1538 in _1537){var _1539=_1537[_1538];if(_1538==("error")){_1535["error"]=_1539;}}}}}return _1535;};this.handleResponse=function(_153b,_153c,_153d){var _153e=ZCUtil.getFromMap(_153c,"formLinkName");var _153f=ZCForm.formArr[_153e];var _1540=ZCUtil.getFromMap(_153f,"zc_NextUrl");var _1541=ZCUtil.getFromMap(_153f,"zc_newPage");var _1542=ZCUtil.getFromMap(_153f,"zc_EditType");var _1543=ZCUtil.getFromMap(_153c,"recType");var _1544=ZCUtil.getFromMap(_153c,"defaultViewID");var _1545=ZCUtil.getFromMap(_153c,"methodVal");var _1546=ZCUtil.getFromMap(_153c,"formid");var _1547=ZCForm.getMsgFromResponse(_153b,_1546);var _1548=_1547["succMsg"];var _1549=_1547["quickCreate"];var _154a=ZCForm.getForm(_153e,_1543,_1549);var _154b=$(_154a).find(":input[id=formDispname]").val();var _154c=_1547["errMsg"];var pkID=_1547["pkID"]+"";var _154e=_1547["embedSuccMsg"];var _154f=_1547["paymentErrMsg"];var _1550=_1547["fieldErrObj"];var _1551=_1547["isEmpInvite"];var _1552=_1547["otherErrors"];var _1553=(ZCApp.sharedBy==ZCApp.loginUser||ZCApp.loginUser==ZCApp.appOwner)?_1547["infoMsg"]:"";var _1554=_1547["errorMsg"];ZCForm.defreezeButton(_154a);ZCForm.clearErrors(_154a);$("#view-live-list-viewId-"+_1544+"-formId-"+_1546).remove();$("#view-live-detail-formId-"+_1546+"-recordId-"+pkID).remove();if(_153e=="P_Department"){$("#employees-orgstructure-home").remove();}if(!ZCUtil.isNull(_1554)&&ZCUtil.isNull(_154c)){if(!ZCUtil.isNull(_1553)){_1553+=_1554;}else{_1553=_1554;}}var _1555=_1547["alertMsg"];var _1556=_1547["captchaTxt"];var _1557=_1547["referrerInfoMsg"];var _1558=_1547["isCustomDefinedModule"];var _1559=_1547["isCustomDefinedModuleParam"];var _155a=ZCForm.getFormCont(_153e,_1543,_1549);if(!ZCUtil.isNull(_1548)){var hash=window.location.hash;hash=hash.substring(1,hash.length);hash=hash.split("-")[0];var _155c=false;if(!_1549){if(hash=="admin/setuporganization/departments"){_1558=true;_1559="departments";}else{if(hash=="admin/setuporganization/designations"){_1558=true;_1559="designations";}else{if(hash=="admin/leave/holidays"){_1558=true;_1559="holidays";}else{if(hash=="admin/leave/manageleavetype"){_1558=true;_1559="leaveType";}else{if(hash=="admin/leave/leavetype"){_1558=true;_1559="leaveTypeCnts";}else{if(hash=="admin/nonusers/list"){_1558=true;_1559="dummyEmployees";}else{if(hash=="admin/userspermissions/users"){_1558=true;_1559="usersListing";}else{if(hash=="orgchart/employees"){_1558=true;_1559="orgChart";}else{if(hash=="selfservice/profile"||hash=="employees/profile"){_1558=true;_1559="profile";}else{if(hash=="leavetracker/addleave"){_1558=true;_1559="homeAddLeave";_155c=true;}else{if(hash=="leavetracker/addholiday"||hash=="leavetracker/editholiday"){_1558=true;_1559="homeAddHoliday";_155c=true;}}}}}}}}}}}}if(_155c&&_1558&&_1545=="SaveNew"){showAddFormPage(_1546,"new_form");}else{if(_155c&&_1558&&_1545=="Save"&&_1559=="homeAddLeave"){window.location.href="/people/#leavetracker/leavedetails-formId:"+_1546+"/recordId:"+pkID;}else{if(_155c&&_1558&&_1545=="Save"&&_1559=="homeAddHoliday"){window.location.href="/people/#leavetracker/holidaydetails-formId:"+_1546+"/recordId:"+pkID;}else{if(relodCurrentForm=="true"&&_1545=="SaveNew"&&_1558&&!_155c){showQuickPopUpAddData("zp_"+_1559,_1546);}else{if(relodCurrentForm=="true"&&_1545=="SaveNew"&&!_155c){generateFormPages("form_LiveMode",_1546,_154b,_1544,"","",_154b);}else{if(relodCurrentForm=="true"&&_1545=="Save"&&_1557&&!_155c){getProfile("empProfile");}else{if(relodCurrentForm=="true"&&_1545=="Save"&&_1558&&!_155c){if(_1559=="orgStructure"){window.location.href="/people/#employees/orgstructure-depId:"+pkID;}else{if(_1559=="profile"||_1559=="orgChart"){profileActions.loadContentAsperProfileaction(pkID,_1546);}else{getbyAjaxAdminPages(_1559,2);}}}else{if(_1549){var _155d=_1547["quickCreateDetails"];closeDialog();if(_155d){var _155e=_155d["lookupID"];var _155f=_155d["lkpFormLinkName"];var _1560=_155d["lookupValue"];var _1561=_155d["relField"];_155a=$("div [id^="+_155f+"_]");$(_155a).find("*[formcompid="+_155e+"]").each(function(){if($(this).attr("type")=="select-one"||$(this).attr("type")=="picklist"){$(this).find("option:selected").each(function(){$(this).removeAttr("selected");});$(this).append("<option selected='selected' value='"+pkID+"'>"+_1560+"</option>");}else{if($(this).attr("displayType")==RADIO){$(this).find("input[id="+_155e+"]:checked").removeAttr("checked");var _1562="<input id='radioEl_"+$(this).attr("labelName")+"_"+_1560+"_"+_1543+"'type='radio'"+"formcompid='"+_155e+"'onchange='getRelatedFieldsValue(this,this.form)''"+"'fieldtype='"+LOOKUP+"'value='"+pkID+"'name='"+$(this).attr("labelName")+"'class='zc-radio' checked='checked ' />";var _1563="<label class='zc-radiolabel' style='width:180px;overflow:hidden;white-space:nowrap;' title='' for='radioEl_"+$(this).attr("labelName")+"_"+_1560+"_"+_1543+"' >"+_1560+"</label>";var _1564=$(this).html();if(_1564.trim()==""){$(this).html(_1562+_1563);}else{$(this).html(_1564+"<br/>"+_1562+_1563);}}else{if($(this).attr("id")=="seltdDept"){$(this).val(pkID);var _1565=$(this).parent().parent();$("span[id=seltdDeptSpan]",_1565).text(_1560);}}}});if(_1561){var _1566=JSON.stringify(_1561);setRelatedFieldsValue(_155e,_1566,pkID,false,_155a);var _1567=$(_155a).find("span[id=relatedfieldjson"+_155e+"]");var _1568=JSON.parse($(_1567).html());$.extend(_1568,_1561);$(_1567).text(JSON.stringify(_1568));}}}else{if(relodCurrentForm=="true"&&_1545=="Save"&&!_1557){if(hash=="selfservice/profile/edit"){$("#selfservice-profile").remove();window.location.href="/people/#selfservice/profile";$("#selfservice-profile-edit").remove();}else{if(hash=="employees/profile/edit"){$("#employees-profile-"+pkID).remove();window.location.href="/people/#employees/profile-"+pkID;$("#employees-profile-edit").remove();}else{if(_153e=="P_ApplyLeave"){$("#selfservice-leave-leavereport").remove();}else{$("#"+Layout.containerid).remove();}window.location.href="/people/#view/live/detail-formId:"+_1546+"/recordId:"+pkID;}}}}}}}}}}}relodCurrentForm="true";}else{if(!ZCUtil.isNull(_154e)){embedDataSuccessMsg();}else{if(!ZCUtil.isNull(_154f)){freezeBackground();document.getElementById("_PaymentErrorDiv").style.display="";}else{if(!ZCUtil.isNull(_1552)){var _1569=$("div[id='errorDiv1']",_155a);var _156a=_1552[0];_1569.each(function(){$(this).find("b").html(_156a["otherErrors"]);});_1569.each(function(){$(this).show();});}else{if(!ZCUtil.isNull(_1554)){if(_1554=="Security_Error"){var _156b="<div class=\"profileLft zc-componentBg mt7\"><div class=\"pad20\" id=\"errorDiv\"><p class=\"errorDiv\" style=\"\"><b>"+i18n.securityerror+"</b></p> </div></div>";$("#C_content").html(_156b);}else{var _1569=$("div[id='errorDiv']",_155a);_1569.each(function(){$(this).find("b").html(_1554);});_1569.each(function(){$(this).show();});}}else{$("div[id='errorDiv1']",_155a).each(function(){$(this).hide();});$("div[id='errorDiv']",_155a).each(function(){$(this).show();});ZCForm.showErrors(_153e,_1543,_154c,_1555,_1550,_1549);if(!ZCUtil.isNull(_1553)){ZCForm.showInfo(_1553,_1548,_153e,_1543);}}}}}}};this.showInfo=function(_156c,_156d,_156e,_156f){var _1570=(!ZCUtil.isNull(_156d))?i18n.viewlogdetails:i18n.viewerrordetails;var _1571=ZCForm.getForm(_156e,_156f);if(_156d&&_156d!=""&&_156f!=ZCConstants.FORM_ALONE){ZCUtil.showInDialog(ZCApp.dialogAbove+_156c+ZCApp.dialogBelow,"closeButton=no");ZCUtil.removeInfoHdr();}else{var _1572=$(_1571).find("tr[elName='zc-errorLogAlert']");$(_1572).find("a[elName=errorLogAnc]").html(_1570);$(_1572).show();$(_1572).children().children().click(function(){if(_156f!=ZCConstants.FORM_ALONE||_156f==ZCConstants.VIEW_ADD_FORM||_156f==ZCConstants.VIEW_EDIT_FORM){var _1573=$(_1571).find("table[elname='zc-formTable']");if(_1573.length==0){_1573=$(_1571).find("table[elname='zc-form2Table']");}if($(_1571).find("tr[elName=zc-infoMsgTag]")[0]){var hCorr=12;$(_1571).find("tr").remove("[elName=zc-infoMsgTag]");var hei=_1573.height();hei=hei+$("#_DIALOG_CONTENT").find("div[elname='zc-dialogheader']").height();$("#_DIALOG_CONTENT").height(hei+12);var _1576=_1573.width();$("#_DIALOG_CONTENT").find("div[elname='zc-dialogheader']").width(_1576-8);}else{var _1577=_1571.attr("colValue");var cspan=2;if(_1577=="2"){cspan=3;}var _1579="<tr tag='eleErr'elName='zc-infoMsgTag'><td class='zc-form-errormsg' width='100%' height='100%' valign='top' text-align='left' colspan='"+cspan+"'>  "+_156c+"</td></tr>";$(_1579).insertBefore(ZCUtil.getParent($(_1571).find(":input[elName='zc-submitformbutton']"),"tr"));var hh=_1573.height();if(hh>500){$("#_DIALOG_CONTENT").height(500);}else{$("#_DIALOG_CONTENT").height("auto");}var _1576=_1573.width();if(_1576>750){$("#_DIALOG_CONTENT").width(750);}else{$("#_DIALOG_CONTENT").width("auto");}$("#_DIALOG_CONTENT").find("div[elname='zc-dialogheader']").width(_1576-8);}}else{ZCUtil.showInDialog(ZCApp.dialogAbove+_156c+ZCApp.dialogBelow,"closeButton=yes, width=500px");ZCUtil.removeInfoHdr();var _1576=$("#_DIALOG_CONTENT").find("table[elname='errortable']").width();if(_1576<500){_1576=490;}$("#_DIALOG_CONTENT").find("div[elname='zc-dialogheader']").width(_1576);}});}};this.clearErrors=function(_157b){$(_157b).find("tr[elName=zc-errorLogAlert]").hide();$(_157b).find("span.enter").remove();$(_157b).find("td.error").removeClass("error");};this.showErrors=function(_157c,_157d,_157e,_157f,_1580,_1581){var _1582=ZCForm.getForm(_157c,_157d,_1581);var _1583=$(_1582).find("tr[elName=zc-errorLogAlert]");var _1584=_1582.attr("colValue");var cspan=2;if(_1584=="2"){cspan=3;}if(!ZCUtil.isNull(_157f)){$("<tr tag='eleErr'><td width='100%' height='100%' valign='top' colspan='"+cspan+"' class='zc-form-errormsg' >  "+_157f+"</td></tr>").insertBefore(_1583);}if(!ZCUtil.isNull(_157e)){$("<tr tag='eleErr'><td width='100%' height='100%' valign='top' colspan='"+cspan+"'  class='zc-form-errormsg'>  "+_157e+"</td></tr>").insertBefore(_1583);}if(typeof (_1580)=="object"){for(var _1586 in _1580){var _1587=_1580[_1586];if(typeof (_1587)=="object"){for(var _1588 in _1587){var _1589=_1587[_1588];if(_1588=="HolidayAlertForLeave"){$(_1582).find("#_HolidayContainsMsgDivContainer").html(_1589);$(_1582).find("#HolidayConf").attr("onClick","continueToSubmitLeaveForm('"+_157c+"')");freezeBackground();$(_1582).find("#_HolidayContainsMsgDiv").css("display","");}else{var _158a=ZCForm.getField(_157c,_1588,_157d,_1581);ZCForm.showFieldErr(_158a,_1589);}}}}}};this.showFieldErr=function(_158b,_158c){if(_158b){var _158d=$(_158b).parent();if(_158d.attr("id")=="errOuterDiv"){_158d=_158d.parent();}if($(_158d).attr("isGrid")=="true"){for(var i=0;i<_158b.length;i++){var _158f=_158b[i];var _1590=_158c[i];var _1591="<span class=\"enter\">"+_1590+"</span>";if((_1590!="")&&(_1590!="NoError")){var _1592=$(_158f).parent();if(_1592.attr("id")=="errOuterDiv"){$(_1592).append(_1591);$(_1592).parent().addClass("error");}else{$(_1592).addClass("error");var _1593=document.createElement("div");$(_1593).attr("id","errOuterDiv");$(_1593).width("auto");$(_1593).append(_1592.children());$(_1593).append(_1591);$(_1592).html(_1593);}}}}else{for(var i=0;i<_158b.length;i++){var ele=_158b[i];var _1595=$(ele).parent();var _1596=$(_158b).attr("type");if(_1596=="radio"){showValidationError(_1595,_158c);break;}else{if(typeof (_158c)=="string"){showValidationError(_1595,_158c);}else{if(_158c[i]!="NoError"){showValidationError(_1595,_158c[i]);}}}}}}};};function showValidationError(_1597,_1598){var _1599="<span class=\"enter\">"+_1598+"</span>";if(_1597.attr("id")=="errOuterDiv"){$(_1597).append(_1599);$(_1597).parent().addClass("error");$(_1597).parent().prev("td").addClass("error");}else{$(_1597).addClass("error");$(_1597).prev("td").addClass("error");var _159a=document.createElement("div");$(_159a).attr("id","errOuterDiv");$(_159a).append(_1597.children());$(_159a).append(_1599);$(_1597).html(_159a);}}function addTabularRow(obj,_159c,_159d){var _159e=obj.parentNode;var _159f;var html;if(_159c&&_159d){_159f=$(_159e).parent().find("table").find("tr:last");html=$(_159f);}var _15a1="";if(_159c&&!_159d){_159f=obj.parentNode.parentNode;html=$(_159f).prev("tr");_15a1=$(html).clone();html=$(html).prev("tr");}var _15a2=$(html).clone();if(!_159d){$(_15a2).find("td.zc-labelheader").each(function(){if($(this).hasClass("error")){$(this).removeClass("error");}});}$(_15a2).find("td.zc-inputheader").each(function(){if($(this).hasClass("error")){$(this).removeClass("error");$(this).find("span").html("");}});var _15a3="";$(_15a2).find("input").each(function(){var _15a4=$(this).attr("fieldtype");_15a3=$(this).attr("defaultvalue");$(this).attr("value",_15a3);if(_15a4==ZCConstants.DATE||_15a4==ZCConstants.DATE_TIME){var _15a5=(_15a4==ZCConstants.DATE_TIME)?true:false;var _15a6=_15a5?ZCApp.dateFormat+" "+ZCConstants.TIME_FORMAT:ZCApp.dateFormat;ZCForm.setUpCalendar(this,this,_15a6,_15a5);}});$(_15a2).find("textarea").attr("value","");$(_15a2).find("select").each(function(){if($(this).attr("fieldtype")==PICKLIST){_15a3=$(this).attr("defaultvalue");if(_15a3==""){_15a3="--"+i18n.selectfields+"--";}$(this).attr("value",_15a3);}});if(_159c&&!_159d){$(_159f).before(_15a2);$(_159f).before(_15a1);}if(_159c&&_159d){$(_159f).after(_15a2);var _15a7=$(_159f).parent();$(_15a7).find("tr.botCurve").removeClass("botCurve");$(_15a7).find("tr[class!='addnew']:last").addClass("botCurve");}}function removeTabularRow(obj,_15a9,_15aa,_15ab){var trObj=$(obj).parent().parent().parent();var _15ad=trObj.parent();var _15ae=_15ad.children("tr").length;if(_15a9&&!_15aa){if(_15ae>4){trObj.next("tr").remove();trObj.remove();}else{setDefaultVal(trObj,_15ab);}}else{if(_15ae>2){trObj.remove();}else{setDefaultVal(trObj,_15ab);}}if(_15a9&&_15aa){var _15af=$(_15ad);$(_15af).find("tr.botCurve").removeClass("botCurve");$(_15af).find("tr:last").addClass("botCurve");}}function getRelatedFieldsValue(obj,_15b1){var _15b2=$(obj).attr("formCompID");var json=$(_15b1).find("span[id=relatedfieldjson"+_15b2+"]").html();var _15b4=$(obj).val();setRelatedFieldsValue(_15b2,json,_15b4,false,_15b1);}function setRelatedFieldsValueView(_15b5,_15b6,_15b7){var json=$("span[id=relatedfieldjson"+_15b5+"]").html();setRelatedFieldsValue(_15b5,json,_15b6,_15b7);}function setRelatedFieldsValue(_15b9,json,_15bb,_15bc,_15bd){var _15be;if(_15bb!="-Select-"){var _15bf=JSON.parse(json);if(_15bf!=null){_15be=_15bf[_15bb];}}var _15c0="";if(_15bd){_15c0=$("div[id=relatedfield"+_15b9+"]",_15bd);}else{_15c0=$("div[id=relatedfield"+_15b9+"]");}if(_15bc){$(_15c0).find("span").each(function(){var _15c1=$(this).attr("id");if(_15bb!=""){for(var i=0;i<_15be.length;i++){var _15c3=_15be[i][_15c1];if(_15c3){$(this).text(_15c3.substring(0,35));$(this).attr("title",_15c3);}}}else{}});}else{$(_15c0).find("span").each(function(){var _15c4=$(this).attr("id");$(this).html("&nbsp;");if(_15bb!="-Select-"){for(var i=0;i<_15be.length;i++){var _15c6=_15be[i][_15c4];if(_15c6!=null){$(this).text(_15c6);$(this).attr("title",_15c6);}}}else{$(this).html("&nbsp;");$(this).attr("title","");}});}}function setMethodVal(_15c7,val){$(_15c7).find(":input[name=methodVal]").val(val);}function embedDataSuccessMsg(){$.get("/people/getEmbedSuccessPage.hr",function(data){$("body").html(data);});}function handleformCustomConfig(_15ca,_15cb,_15cc,_15cd){if(_15ca){for(var _15ce in _15ca){var fn=_15ca[_15ce];if(fn.eventType=="100"){var pars=fn.params;if(pars==null||pars.length==0){var fnc=eval(fn.fnName);fnc(null,_15cd);}else{var fnc=eval(fn.fnName);var _15d2=pars.indexOf(",");var _15d3=pars.substr(0,_15d2);fnc(_15cc[_15d3],_15cd);}}}}if(_15cb){for(var _15ce in _15cb){var fn=_15cb[_15ce];if(fn.eventType=="1"){$("[formcompid="+_15ce+"]").change(eval(fn.fnName));}else{if(fn.eventType=="2"){$("[formcompid="+_15ce+"]").blur(eval(fn.fnName));}}}}}function leavefn_considerDOJ(){var _15d4=$(this).is(":checked");if(!_15d4){$("input[name=Isaccrual],input[name=RollOver],input[name=WaitingPeriod],input[name=EffectiveFromDate],input[name=MaximumAccumulation]").parent("td").parent("tr").css("display","none");$("input[name=WaitingPeriod]").val("0");$("input[name=EffectiveFromDate]").val("");$("input[name=MaximumAccumulation]").val("0.00");$("input[name=Maximumleave]").siblings("em.grey").html("per year.");$("input[name=Isaccrual],input[name=RollOver]").attr("checked",false);}else{$("input[name=Isaccrual],input[name=RollOver],input[name=WaitingPeriod],input[name=EffectiveFromDate],input[name=MaximumAccumulation]").parent("td").parent("tr").css("display","");}}function leavefn_AccrualTypeChange(type,obj){var _15d7=$("#"+Layout.containerid);var _15d8=$("#isAccuralbox").find("input#isAccruals").is(":checked");if(_15d8){if(type=="is_accrual"){_15d7.find("#Max_leave").siblings("em.grey").html("per month.");}else{if(type=="accrual_period"){var value=$(obj).val();var _15da=_15d7.find("option[value="+value+"]").html();var _15db=_15d7.find("#Max_leave").siblings("em.grey");if(_15da.trim()=="Monthly"){_15db.html("per month");}else{if(_15da.trim()=="Bi Monthly"){_15db.html("per two months");}else{if(_15da.trim()=="Quarterly"){_15db.html("per three months");}else{if(_15da.trim()=="Half yearly"){_15db.html("per six months");}}}}}}}else{_15d7.find("#Max_leave").siblings("em.grey").html("per year.");}}function leavefn_RollOverChange(){var _15dc=$(this).is(":checked");if(!_15dc){$("input[name=MaximumAccumulation]").parent("td").parent("tr").css("display","none");}else{$("input[name=MaximumAccumulation]").parent("td").parent("tr").css("display","");}if($("input[name=MaximumAccumulation]").parent("div[id=errOuterDiv]")){if(_15dc){$("input[name=MaximumAccumulation]").parent("div[id=errOuterDiv]").parent("td").parent("tr").css("display","");}else{$("input[name=MaximumAccumulation]").parent("div[id=errOuterDiv]").parent("td").parent("tr").css("display","none");}}}function leavefn_loadLeaveType(_15dd,_15de){var _15df=$("#"+Layout.containerid);var _15e0=_15df.find("input[name=Isaccrual]").is(":checked");if(_15e0){var obj=_15df.find("#accrual_Period");var value=$(obj).val();var _15e3=_15df.find("option[value="+value+"]").html();var _15e4=_15df.find("#Max_leave").siblings("em.grey");if(_15e3.trim()=="Monthly"){_15e4.html("per month");}else{if(_15e3.trim()=="Bi Monthly"){_15e4.html("per two months");}else{if(_15e3.trim()=="Quarterly"){_15e4.html("per three months");}else{if(_15e3.trim()=="Half yearly"){_15e4.html("per six months");}}}}}else{_15df.find("input[name=Maximumleave]").parent("td").append($("<em class='grey db'> per year.</em>"));}}function leavefn_HdayTypeChange(){var _15e5=$("#"+Layout.containerid);var _15e6=$(this).is(":checked");if(_15e6){_15e5.find("input[name=To]").parent("td").parent("tr").css("display","none");var _15e7=_15e5.find("input[name=From]").parent("td").prev("td");var _15e8=$(_15e7).children("label");var _15e9=$(_15e7).hasClass("zc-labelheader red")?"*"+i18n.specifydatetemplate:i18n.specifydatetemplate;$(_15e8).html(_15e9);}else{_15e5.find("input[name=To]").parent("td").parent("tr").css("display","");var _15e7=_15e5.find("input[name=From]").parent("td").prev("td");var _15e8=$(_15e7).children("label");var _15e9=$(_15e7).hasClass("zc-labelheader red")?"*"+$(_15e8).attr("displayName"):$(_15e8).attr("displayName");$(_15e8).text(_15e9);}if(_15e5.find("input[name=To]").parent("div[id=errOuterDiv]")){if(_15e6){_15e5.find("input[name=To]").parent("div[id=errOuterDiv]").parent("td").parent("tr").css("display","none");var _15e7=_15e5.find("input[name=From]").parent("div[id=errOuterDiv]").parent("td").prev("td");var _15e8=$(_15e7).children("label");var _15e9=$(_15e7).hasClass("zc-labelheader red")?"*"+i18n.specifydatetemplate:i18n.specifydatetemplate;$(_15e8).html(_15e9);}else{_15e5.find("input[name=To]").parent("div[id=errOuterDiv]").parent("td").parent("tr").css("display","");var _15e7=_15e5.find("input[name=From]").parent("div[id=errOuterDiv]").parent("td").prev("td");var _15e8=$(_15e7).children("label");var _15e9=$(_15e7).hasClass("zc-labelheader red")?"*"+$(_15e8).attr("displayName"):$(_15e8).attr("displayName");$(_15e8).text(_15e9);}}}function leavefn_loadApplyLeave(_15ea,_15eb){var _15ec=$("#"+Layout.containerid);if(_15eb==4){if(_15ea!=null&&(_15ea||_15ea=="true")){_15ec.find("span[name=Daystaken]").parent("td").parent("tr").css("display","none");}return;}if(_15ea!=null&&(_15ea||_15ea=="true")){_15ec.find("input[name=Daystaken]").parent("td").parent("tr").css("display","none");}}function leavefn_FromSelected(){var _15ed=$("#"+Layout.containerid);var _15ee=$(this).val();var toVal=_15ed.find("input[name=To]").val();if(toVal==null||toVal==""&&_15ee!=null){_15ed.find("input[name=To]").val(_15ee);}}function printRecord(_15f0,_15f1){if(_15f0!=null&&_15f1!=null){var _15f2="formAccessType="+ZCConstants.VIEW_SINGLE_RECORDVIEW+"&formid="+_15f0+"&isPrintPreview=true&recPkID="+_15f1;window.open("/people/PrintRecord.do?"+_15f2,"Print","dependent=yes,resizable=yes,scrollbars=yes,fullscreen=yes");}}function embdedForm(_15f3,tabId){if(_15f3!=null&&tabId!=null){window.location.href="/people/forms/embed#formId:"+_15f3+"/tabId:"+tabId;}}function hideQuickpopUps(e){var _15f6=false;var _15f7=["box"];var _15f8=(e.target||e.srcElement);var _15f9=$(_15f8).attr("class");var _15fa=$(_15f8).parents();if(_15f9=="box"){_15f6=true;}else{$.each(_15fa,function(){var _15fb=$.inArray($(this).attr("class"),_15f7);if(_15fb!=-1){_15f6=true;}});}if($("div.box[popup=true]").length>0&&!_15f6){$("div.box[popup=true]").each(function(){var _15fc=$(this).css("display");if(_15fc!="none"){$(this).css("display","none");}});}$("#orgstructure").hide();}function setDefaultVal(trObj,_15fe){$(trObj).find("td").each(function(){if($(this).hasClass("zc-inputheader")){var ele=$(this).children();if(ele.attr("id")=="errOuterDiv"){ele=ele.children();}if(_15fe==RECEDIT){var _1600=$(ele).attr("fieldtype");if(_1600==TEXT||_1600==TEXT_AREA||_1600==EMAIL_ADDRESS||_1600==URL||_1600==PHONE_NUMBER||_1600==DATE||_1600==DATE_TIME){$(ele).attr("defaultvalue","");}else{if(_1600==NUMBER){$(ele).attr("defaultvalue","0");}else{if(_1600==CURRENCY||_1600==DECIMAL){$(ele).attr("defaultvalue","0.0");}else{if(_1600==PICKLIST||_1600==BLOODGROUP||_1600==GENDER||_1600==COUNTRY){$(ele).find("option:selected").removeAttr("selected");$(ele).attr("defaultvalue","");}}}}}$(ele).val($(ele).attr("defaultvalue"));}});}function showQuickCreatePopUp(_1601,_1602,_1603,_1604){var _1605="formid="+_1601+"&lookupID="+_1602+"&lkpFormLinkName="+_1603+"&lkpRefFcId="+_1604+"&"+csrfParamName+"="+csrfToken;$.post("/people/LiveFormHeader.do",_1605,function(data){showDialog(data,"position=absolute, left=200, top=100, closeButton=no, modal=yes",null,"");centerDialog("_DIALOG_LAYER",100);$("#_DIALOG_LAYER").find("input:first").focus();});}function showAddPickListPopUp(_1607){var _1608=$("#addPickListOption_"+_1607).html();showDialog(_1608,"width=700,position=absolute,left=200,top=100, closeButton=no, modal=yes",null,"");centerDialog("_DIALOG_LAYER",100);$("#_DIALOG_LAYER").find("input:first").focus();}function addPickOption(obj){var _160a=$(obj).val().trim();var _160b=$(obj).parent().parent().parent();var _160c=$("#newOption",_160b);if(_160a!=""){$(_160c).css("display","table-row");$("#pkOptionError",_160b).css("display","none");}else{$(_160c).css("display","none");}$(_160c).attr("optionValue",_160a);var _160d=$(_160c).children().get(1);$(_160d).text(_160a);}function submitPickListOption(_160e,_160f){var _1610=$(_160f).parents("div #_DIALOG_CONTENT");var _1611="";var _1612=$(_160f).attr("pickListType");var _1613=$("#pickListOptionText",_1610).val().trim();if(_1613==""){addErrorOfPkOption("pkOptionError",_1610,i18n.quickcreateoptionempty);}else{if(_1613.length>99){addErrorOfPkOption("pkOptionError",_1610,i18n.quickcreateoptionlengthexceed);}else{var _1614=$("tbody[id=reorderPickOption_"+_160e+"]",_1610);$(_1614).children().each(function(){var _1615=$(this).attr("id");if(_1615=="newOption"){var _1616=$(this).attr("optionValue");_1611+=_1615+"_"+_1616.trim()+";";}else{_1611+=_1615+";";}});$(_160f).attr("disabled","disabled");var _1617="pickListOptions="+encodeURIComponent(_1611)+"&formCmpId="+_160e+"&"+csrfParamName+"="+csrfToken;$.post("/people/addNewPickListOption.do",_1617,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error:")!=-1){addErrorOfPkOption("pkOptionError",_1610,data.substring(6));$(_160f).removeAttr("disabled");}else{closeDialog();var _1619=JSON.parse(data);var _161a=_1619["optionList"];var _161b="";var _161c="";var _161d=_1619["newOption"];if(_1612==PICK_LIST){_161b+="<option value='-"+i18n.picklistselect+"-'>-"+i18n.picklistselect+"-</option>";for(var count in _161a){var _161f=_161a[count];_161c+="<tr class=\"row\" id=\""+_161f+"\"><td width=\"28\"><img src=\"/people/images/spacer.gif\" class=\"move\"></td><td width=\"500\">"+_161f+"</td></tr>";if(_161f==_161d){_161b+="<option selected='selected' value='"+_161f+"'>"+_161f+"</option>";}else{_161b+="<option  value='"+_161f+"'>"+_161f+"</option>";}}$("select[formcompid="+_160e+"]","#zc-component").html(_161b);}else{if(_1612==RADIO){var _1620=$("span[formcompid="+_160e+"]","#zc-component");for(var count in _161a){var _161f=_161a[count];_161c+="<tr class=\"row\" id=\""+_161f+"\"><td width=\"28\"><img src=\"/people/images/spacer.gif\" class=\"move\"></td><td width=\"500\">"+_161f+"</td></tr>";var _1621="<input id='radioEl_"+$(_1620).attr("labelName")+"_"+_161f+"_"+$(_1620).attr("accessType")+"'type='radio'formcompid='"+_160e+"'fieldtype='"+RADIO+"'value='"+_161f+"'name='"+$(_1620).attr("labelName")+"'class='zc-radio' "+needSelectedAttr(_161f,_161d)+" />";var _1622="<label class='zc-radiolabel' style='width:180px;overflow:hidden;white-space:nowrap;' title='' for='radioEl_"+$(_1620).attr("labelName")+"_"+_161f+"_"+$(_1620).attr("accessType")+"' >"+_161f+"</label>";_161b+=needBrTag(count)+_1621+_1622;}$(_1620).html(_161b);}}_161c+="<tr class=\"row\" id=\"newOption\" style=\"display:none;\"><td width=\"28\"><img src=\"/people/images/spacer.gif\" class=\"move\"></td><td width=\"500\"></td></tr>";$("tbody[id=reorderPickOption_"+_160e+"]","#addPickListOption_"+_160e).html(_161c);}}});}}}function needBrTag(count){if(count>0){return "<br/>";}return "";}function needSelectedAttr(_1624,_1625){if(_1624==_1625){return "checked='checked'";}return "";}function addErrorOfPkOption(_1626,_1627,_1628){var _1629=$("#"+_1626,_1627);$(_1629).css("display","block");$(_1629).html(_1628);}var profileActions={profileMap:{},registerProfileActions:function(){this.profileMap["profileLayout"]=$("#"+Layout.containerid);var _162a=$(this.profileMap["profileLayout"]).find("div#profileViewDiv");this.profileMap["typeOfView"]=$(_162a).attr("isMyProfile")=="true"?"self":"all";this.profileMap["profileErecNo"]=$(_162a).attr("erecNo");this.profileMap["profileViewDiv"]=_162a;var _162b,_162c,_162d;$(_162a).children("div.contR").delegate("*[zp_action]","click",function(){var _162e=$(this).attr("zp_action");switch(_162e){case "pfl_form":var _162f=$(this);_162d=$(this).attr("viewID");_162b=$(this).attr("formID");var _1630=$(this).siblings("div#profile-"+_162d);if(_1630.length>0){$(_1630[0]).toggle();}else{ZCView.loadViewForOtherFeatures("FROMPROFILE",_162d,profileActions.profileMap["typeOfView"],"all");}$(this).children("div").toggleClass("zpopn").toggleClass("zpcls");break;case "pfl_edit":_162b=$(this).attr("formID");var _1631=$(this).attr("recordID");_162c="formid="+_162b+"&recPkID="+_1631+"&"+csrfParamName+"="+csrfToken;$.post("/people/LiveFormHeader.do",_162c,function(_1632){profileActions.loadContentIntoProfileActionDiv(_1632,"PROFILEEDIT");});break;case "pfl_print":profileActions.printProfile($(_162a).attr("erecNo"));break;default:break;}});},loadViewinProfile:function(_1633,_1634){var _1635=this.profileMap["profileViewDiv"];var _1636=$(_1635).find("div#profile-"+_1634);if(_1636.length>0){$(_1636).html("").html(_1633);$(_1635).show();}else{_1633="<div id='profile-"+_1634+"' style='padding-left:10px;padding-bottom:40px;height:100%'>"+_1633+"</div>";var _1637=$(this.profileMap["profileViewDiv"]).find("ul[viewid="+_1634+"]").after(_1633);_1636=$(_1637).next("div#profile-"+_1634);}$(_1635).siblings("div#profileActions").hide().html("");$(_1636).find("div#listViewDataDiv").width(this.profileMap["profileLayout"].find("div.contR").width()-50).css("min-height",100);},getProfilePage:function(_1638,mode){var _163a={"erecNum":_1638,mode:mode};$.get("/people/getprofile.do",_163a,function(_163b){if(mode=="EMPRELATEDDATA"){$("div#selfservice-profile").remove();_163b="<div id=\""+Layout.containerid+"\" class=\"content\" style=\"display:table;\">"+_163b+"</div>";$("#contentdiv").append(_163b);}else{if(mode=="PROFILEONLY"){var _163c=profileActions.profileMap["profileViewDiv"].show().find("div#profileContent").html("");$(_163c).html(_163b);profileActions.profileMap["profileViewDiv"].siblings("div#profileActions").hide();}}});},printProfile:function(_163d){var _163e="erecNum="+_163d+"&mode=PRINT";window.open("/people/getprofile.do?"+_163e,"Profile","dependent=yes,resizable=yes,scrollbars=yes,fullscreen=yes,location=no,menubar=yes,toolbar");},loadContentIntoProfileActionDiv:function(_163f,_1640){$(this.profileMap["profileLayout"]).find("div#profileViewDiv").hide();var _1641=$(this.profileMap["profileLayout"]).find("div#profileActions").html(_163f).show().attr("actionType",_1640);if(_1640=="VIEW"){$(_1641).css("display","table-row");}},loadContentAsperProfileaction:function(pkID,_1643){var _1644=$("#"+Layout.containerid).find("div#profileActions");var _1645=$(_1644).hide().attr("actionType");if(_1645=="VIEW"){ZCView.loadRecordActionsByAjax("FROMPROFILE",_1643,ZCConstants.VIEW_SINGLE_RECORDVIEW,pkID);}else{if(_1645=="PROFILEEDIT"){this.getProfilePage(this.profileMap["profileErecNo"],"PROFILEONLY");}}},hideActionShowView:function(){$("#"+Layout.containerid).find("div#profileViewDiv").show();$("#"+Layout.containerid).find("div#profileActions").hide().html("");}};function addMailAlert(_1646,_1647,_1648){$(".red","#mailAlertDiv").html("");var _1649=$("#templateName").val();var _164a=0;var _164b=1;var _164c=$("#toAddress").val();var _164d=$("#ccAddress").val();var _164e=$("#bccAddress").val();var _164f=$("#replyToAddress").val();var _1650=editor.getContent();var _1651=_1650.replace(/(?:&nbsp;|<br>)/g,"");var _1652=$("#mailSubject").val();var _1653=$("#mailContentType").val();var _1654=$("#mailLanguage").val();var _1655=$("#fromMailAddr").attr("value");var _1656=$("#notifyall").attr("checked");var _1657=false;if(_1646==null||_1646==0){_1657=true;$("#chooseFormErr").html(i18n.mailalert_choseform);}if(_1648=="true"){_164b=$("input:radio[name=approverType]:checked").val();if(_164b==null){_1657=true;$("#apprTypeErr").html(i18n.mailalert_choseapptype);}}else{_164a=$("#actionType").val();}if($.trim(_164c)==""){_1657=true;$("#toAddrErr").html(i18n.mailalert_toaddrnotempty);}else{if($.trim(_164c).length>=500){_1657=true;$("#toAddrErr").html(i18n.mailalert_toaddrlength);}else{if(_1656==true){_164c="";}else{_164c=validateEmailAddresses(_164c,"To Address");if(_164c.indexOf("Error:")!=-1){_1657=true;$("#toAddrErr").html(i18n.mailalert_invalidtoaddr);}}}}_164d=validateEmailAddresses(_164d,"CC Address");if(_164d.indexOf("Error:")!=-1){_1657=true;$("#ccAddrErr").html(i18n.mailalert_invalidccaddr);}_164e=validateEmailAddresses(_164e,"BCC Address");if(_164e.indexOf("Error:")!=-1){_1657=true;$("#bccAddrErr").html(i18n.mailalert_invalidbccaddr);}_164f=validateEmailAddresses(_164f,"Reply To Address");if(_164f.indexOf("Error:")!=-1){_1657=true;$("#replyToAddrErr").html(i18n.mailalert_invalidreplytoaddr);}if($.trim(_1651)==""){_1657=true;$("#mailAlertContentErr").html(i18n.mailalert_msgnotempty);}else{if(_1650.length>10000){_1657=true;$("#mailAlertContentErr").html(i18n.mailalert_msglengthexceed);}}if($.trim(_1652)==""){_1657=true;$("#mailSubErr").html(i18n.mailalert_msgsubjectnotempty);}else{if($.trim(_1652).length>100){_1657=true;$("#mailSubErr").html(i18n.mailalert_msgsublength);}}if(_1648!="true"){if($.trim(_1649)==""){_1657=true;$("#mailTemplateErr").html(i18n.mailalert_msgtemplatenotempty);}else{if($.trim(_1649).length>100){_1657=true;$("#mailTemplateErr").html(i18n.mailalert_msgtemplatelength);}}}if(_1657==false){var _1658="templateName="+_1649+"&formId="+_1646+"&actionType="+_164a+"&approverType="+_164b+"&isApproval="+_1648+"&toAddr="+encodeURIComponent(_164c)+"&bccAddr="+encodeURIComponent(_164e)+"&ccAddr="+encodeURIComponent(_164d)+"&replyToAddr="+encodeURIComponent(_164f)+"&message="+encodeURIComponent(_1650)+"&mailSubject="+_1652+"&mailContentType="+_1653+"&mailLanguage="+_1654+"&fromMailAddr="+encodeURIComponent(_1655)+"&formTemplateId="+_1647+"&notifyTo="+_1656+"&oprType=fetch_all_mail_alert"+"&"+csrfParamName+"="+csrfToken;$.post("/people/saveMailAlert.do",_1658,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var index=data.indexOf("Error:");if(index==-1){if(_1648=="true"){window.location.href="/people/#admin/forms/approvals/list";}else{loadFormAndViewPages("mail_alert",_1646);}}else{var _165b=data.indexOf("mailError:");if(_165b!=-1){var _165c=data.substring(data.indexOf(":")+1,data.length);var jsObj=JSON.parse(_165c);if(jsObj.toaddr){$("#toAddrErr").html(jsObj.toaddr);}if(jsObj.ccaddr){$("#ccAddrErr").html(jsObj.ccaddr);}if(jsObj.bccaddr){$("#bccAddrErr").html(jsObj.bccaddr);}if(jsObj.rtoaddr!=null){$("#replyToAddrErr").html(jsObj.rtoaddr);}}else{alert(data.substring(data.indexOf(":")+1,data.length));}}}});}}function showHideErrorDiv(obj){var ht=obj.height();var wd=obj.width();if(ht==0){ht=280;}if(wd==0){wd=350;}var top=150;var left=($(window).width()-wd)/2+$(window).scrollLeft();obj.css("top",top+"px");obj.css("left",left+"px");obj.css("position","absolute");}function validateEmailAddresses(_1663,_1664){var _1665=false;var _1666=_1663.split(",");var _1667="";var find=false;for(var i=0;i<_1666.length;i++){find=false;$("#addressList ul li").each(function(){var _166a=$.trim($(this).find("em.pad5").html());var _166b=$(this).find("em.pad5").attr("value");if(_166a==$.trim(_1666[i])){_1667+=_166b+",";find=true;}else{if((_166a==i18n.mailalert_approver&&_1666[i]=="PEOPLE.APPROVER")||(_166a==i18n.mailalert_reportingmanagerofloginuser&&_1666[i]=="PEOPLE.REPORTINGTO")||(_166a==i18n.mailalert_personaction&&_1666[i]=="PEOPLE.LOGINUSER")||(_166a==i18n.mailalert_teammail&&_1666[i]=="PEOPLE.TEAMMAILINFO")||_1666[i]=="PEOPLE.LOOKUP_REPORTINGTO"&&_166b=="PEOPLE.LOOKUP_REPORTINGTO"){_1667+=_166b+",";find=true;}}if(!find){_1665=testEmailStringSyntax(_1666[i]);if(_1665){_1667+=_1666[i]+",";find=true;}}});if(!find&&_1666[i].length!=0){_1667="";_1667="Error:"+_1664;}}return _1667;}function trimRight(str){var _166d=str.replace(/[ ]*$/,"");return (_166d);}function trimBoth(str){var _166f=trimRight(trimLeft(str));return (_166f);}function trimLeft(str){var _1671=str.replace(/[ ]*/,"");return (_1671);}function testEmailSyntax(email){var re=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(!re.test(trimBoth(email))){return false;}else{return true;}}function testEmailStringSyntax(email){var re=/^([A-Za-z0-9._%-\+]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,6}(,?))+$/;if(!re.test(trimBoth(email))){return false;}else{return true;}}function fetchMailAlertList(_1676,_1677){var _1678="formId="+_1676+"&formName="+_1677;$.post("/people/fetchMailAlertList.do",_1678,function(data){changecontentdiv("C_content");$("#C_content").html(data);});}function configureMailAlert(_167a,_167b){var _167c="formId="+_167a+"&isApproval="+_167b+"&oprType=new_mail_alert"+"&"+csrfParamName+"="+csrfToken;$.post("/people/mailAlert.do",_167c,function(data){changecontentdiv("R_content");$("#Rcont_contR").html(data);createEditor();});}function editMailAlert(_167e,_167f){var _1680="formTemplateId="+_167f+"&formId="+_167e+"&oprType=edit_mail_alert"+"&"+csrfParamName+"="+csrfToken;$.post("/people/mailAlert.do",_1680,function(data){changecontentdiv("R_content");createEditor();$("#Rcont_contR").html(data);});}function enableDisableMailAlert(_1682,_1683,obj){var _1685="formTemplateId="+_1682+"&operationType=enableDisable&isApproval="+false+"&"+csrfParamName+"="+csrfToken;$.post("/people/customizeMailAlert.do",_1685,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _1687=$(obj).parent().parent().parent().parent();if(data=="enabled"){$(_1687).attr("class","row");$(obj).attr("class","dis").attr("alt",i18n.general_disable).attr("title",i18n.general_disable);}else{$(_1687).attr("class","row disab");$(obj).attr("class","enable").attr("alt",i18n.general_enable).attr("title",i18n.general_enable);}}});}function enableDisableApproval(_1688,obj){var _168a=$(obj).parent().parent().parent().parent();var _168b="formTemplateId="+_1688+"&operationType=enableDisable&isApproval="+true+"&"+csrfParamName+"="+csrfToken;var _168c=_168a.attr("isEnabled");_168b+="&disApp="+_168c;$.post("/people/customizeMailAlert.do",_168b,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _168e=data.indexOf("Error:");if(_168e==-1){if(_168c=="true"){$(_168a).attr("class","row disab").attr("isenabled","false");$(obj).attr("class","enable").attr("alt",i18n.general_enable).attr("title",i18n.general_enable);}else{$(_168a).attr("class","row").attr("isenabled","true");$(obj).attr("class","dis").attr("alt",i18n.general_disable).attr("title",i18n.general_disable);}}else{alert(data.substring(_168e+6));}}});}function deleteMailAlert(_168f,obj,_1691){var _1692=_1691?confirm(i18n.approval_deletconfmsg):confirm(i18n.mailalert_deletconfmsg);if(_1692){var _1693="formTemplateId="+_168f+"&operationType=delete"+"&"+csrfParamName+"="+csrfToken;$.post("/people/customizeMailAlert.do",_1693,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data=="deleted"){$(obj).parent().parent().remove();}}});}}function toggleMailIdBoxes(_1695,obj,_1697,_1698){$(obj).text($(obj).text()==_1697?_1698:_1697);$("#"+_1695).toggle();}function addreplacefields(_1699){var _169a=$("#"+_1699).attr("value");var _169b="${"+_169a+"}";editor.insertHTML(_169b);}function showHideMailList(_169c,divId){var _169e=$("#addressList");var _169f=_169e.attr("currentFocus");if(_169c=="toAddress"){$(".notify").show();}else{$(".notify").hide();}if(_169f==_169c){$("#"+divId).html(_169e).toggle();}else{$("#"+divId).html(_169e).show();_169e.attr("currentFocus",_169c);}var _16a0=$("#notifyall");var _16a1=$("#toAddress").attr("disabled");if(_16a1&&_169c=="toAddress"){_16a0.attr("checked",true);selectAllMailAlertCheck();return;}else{var _16a2=$("#"+_169c).val();checkImagesInCurrentAddrPopup(_16a2);}}function selectAllMailAlertCheck(){$("#addressList ul li input").each(function(){$(this).attr("checked",true);});$("#toAddrListDiv").show();}function checkImagesInCurrentAddrPopup(_16a3){var _16a4=_16a3.split(",");$("#addressList ul li").each(function(){var _16a5=$(this).find("em.pad5").html();var _16a6=$(this).find("em.pad5").attr("value");var _16a7=$(this).attr("isemailaddr");if(($.inArray(_16a5,_16a4)!=-1)||(_16a7||_16a6=="PEOPLE.REPORTINGTO"||_16a6=="PEOPLE.APPROVER"||_16a6=="PEOPLE.LOOKUP_REPORTINGTO")&&($.inArray(_16a6,_16a4)!=-1)){$(this).find("input").attr("checked",true);}else{$(this).find("input").attr("checked",false);}});}function selectCurrentAddress(obj){var _16a9=$("#notifyall");var _16aa=_16a9.is(":checked");var _16ab=$("#addressList").attr("currentFocus");if(_16aa&&_16ab=="toAddress"){$("#"+_16ab).attr("value","").attr("disabled","");_16a9.attr("checked",false);pickSelectedOptions(obj);return;}var _16ac=$("#"+_16ab).val().toString();var _16ad=$(obj).is(":checked");var _16ae=$(obj).siblings("em.pad5").html().toString();var _16af=$(obj).siblings("em.pad5").attr("value");if(_16af=="PEOPLE.APPROVER"||_16af=="PEOPLE.REPORTINGTO"||_16af=="PEOPLE.LOOKUP_REPORTINGTO"){_16ae=_16af;}if(_16ad){_16ac+=","+_16ae+",";}_16ac=_16ac.split(",");var _16b0=removeDuplicateElement(_16ac);if(!_16ad){_16b0=$.grep(_16b0,function(n){return n!=_16ae;});}_16b0=_16b0.join(",");_16b0=_16b0.replace(/^[,\s]+|[,\s]+$/g,"").replace(/,[,\s]*,/g,",");$("#"+_16ab).attr("value","");$("#"+_16ab).attr("value",_16b0);}function removeDuplicateElement(_16b2){var _16b3=new Array();label:for(var i=0;i<_16b2.length;i++){for(var j=0;j<_16b3.length;j++){if(_16b3[j]==_16b2[i]){continue label;}}_16b3[_16b3.length]=_16b2[i];}return _16b3;}function checkNotify(obj){var _16b7=$(obj).is(":checked");$(obj).attr("checked",_16b7);var _16b8=$("#toAddress");if(_16b7){_16b8.attr("value","Notify All").attr("disabled","disabled");$("#addressList ul li input").each(function(){$(this).attr("checked",true);});}else{_16b8.attr("value","").attr("disabled","");$("#addressList ul li input").each(function(){$(this).attr("checked",false);});}}function pickSelectedOptions(obj){var _16ba=$("#actionType").val();var _16bb="";var _16bc=$(obj).siblings("em").attr("value");$("#addressList ul li input").each(function(){var _16bd=$(this).siblings("em.pad5").html().toString();var _16be=$(this).siblings("em.pad5").attr("value");if(_16be=="PEOPLE.APPROVER"||_16be=="PEOPLE.REPORTINGTO"){_16bd=_16be;}if(_16bc!=_16be){_16bb+=","+_16bd+",";}else{$(this).attr("checked",false);}});_16bb=_16bb.split(",");_16bb=_16bb.join(",");_16bb=_16bb.replace(/^[,\s]+|[,\s]+$/g,"").replace(/,[,\s]*,/g,",");$("#toAddress").attr("value",_16bb);if(_16ba==1||_16ba==2||_16ba==3){$(["replyToAddress","bccAddress","ccAddress","toAddress"]).each(function(){var _16bf=$("#"+this).attr("value");var _16c0=_16bf.split(",");backupValue=_16bf;_16c0=$.grep(_16c0,function(n){return n!="PEOPLE.APPROVER";});_16bf=_16c0.join(",");$("#"+this).attr("value",_16bf);});}}function hideMailAlertPopup(e){var _16c3=false;var _16c4=["toAddrListDiv","ccAddrListDiv","bccAddrListDiv","replyToAddrListDiv"];var _16c5=(e.target||e.srcElement);var _16c6=$(_16c5).attr("class");var _16c7=$(_16c5).parents();$.each(_16c7,function(){var _16c8=$.inArray($(this).attr("id"),_16c4);if(_16c8!=-1){_16c3=true;}});if(_16c6!="toAdd"&&!_16c3){$("#addressList").parent().hide();}}function showhideapprover(){var _16c9=$("#actionType").val();var _16ca=$("#displayapprover");var _16cb=$("#displaycomment");if((_16c9=="4")||(_16c9=="5")){if(($(_16ca).css("display")!="none")||($(_16cb).css("display")!="none")){return;}$(_16cb).css("display","block");$(_16ca).css("display","block");$(_16ca).find();}else{if($(_16ca).css("display")=="none"||$(_16cb).css("display")=="none"){return;}$(_16cb).css("display","none");$(_16ca).css("display","none");$(["replyToAddress","bccAddress","ccAddress","toAddress"]).each(function(){var _16cc=$("#"+this).attr("value");var _16cd=_16cc.split(",");_16cd=$.grep(_16cd,function(n){return n!="PEOPLE.APPROVER";});_16cc=_16cd.join(",");$("#"+this).attr("value",_16cc);});}}function showmoremailalertserror(elm){$(elm).parent().siblings("[options=mailalertsmore]").toggle();if($(elm).parent().siblings("[options=mailalertsmore]").css("display")!="none"){$(elm).html(i18n.checklist_less);}else{$(elm).html(i18n.checklist_more);}}function createChecklist(){var _16d0="oprType=create_checklist";$.get("/people/getChecklistPage.do",_16d0,function(data){changecontentdiv("R_content");$("#admin-right").html(data);});}function saveChecklist(_16d2){var _16d3="";var _16d4=false;var _16d5="";var _16d6=$("#checklistLabel").attr("value");if(_16d6.trim()==""){_16d4=true;$("#checklistLabelErr").html(i18n.checklist_notemtpy);}else{if(_16d6.trim().length>255){_16d4=true;$("#checklistLabelErr").html(i18n.checklist_notmorechar);}}if(_16d2.length==0){_16d2=0;_16d3="create_checkitem";_16d5=_16d3;}else{_16d3="create_checkitem";}var _16d7=$("#checklistFormName").attr("value");var type=$("#checklistTriggerType").attr("value");var _16d9={"checklistLabel":_16d6,"formId":_16d7,"type":type,"checklistId":_16d2,"oprType":_16d3};_16d9[csrfParamName]=csrfToken;if(!_16d4){$.post("/people/saveChecklist.do",_16d9,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);}});}}function editChecklist(_16db){var _16dc="checkListId="+_16db+"&operationType=fetchChecklistDetails&oprType=edit_checklist"+"&"+csrfParamName+"="+csrfToken;$.post("/people/checklistActions.do",_16dc,function(data){changecontentdiv("R_content");$("#admin-right").html(data);});}function addChecklistItem(_16de){var _16df="checklistId="+_16de;$.post("/people/jsp/saveChecklistItem.jsp",_16df,function(data){$("#admin-right").html(data);});}function moveValues(_16e1,toId){var _16e3=$("#"+_16e1).get(0);var toObj=$("#"+toId).get(0);var j=toObj.length;var _16e6=new Array();var _16e7=new Array();var _16e8=0;for(i=_16e3.length-1;i>=0;i--){if(_16e3.options[i].selected){_16e6[_16e8]=_16e3.options[i].text;_16e7[_16e8]=_16e3.options[i].value;_16e8++;_16e3.options[i]=null;}}for(i=_16e8-1;i>=0;i--){toObj.options[j]=new Option(_16e6[i],_16e7[i]);j++;}}function saveChecklistItem(_16e9,_16ea){$(".red").html("");var _16eb=false;var _16ec=collectIdListForCheckItem("checkItem_selTeam");var _16ed=collectIdListForCheckItem("checkItem_selemplookup");var _16ee=collectIdListForCheckItem("checkItem_availemp");var _16ef=collectIdListForCheckItem("checkItem_selRole");var _16f0=$("#checklistId","#addChecklistItemDiv").attr("value");var _16f1=$("#checkItemId","#addChecklistItemDiv").attr("value");var _16f2=$("#checklistItemDesc","#addChecklistItemDiv").attr("value");var _16f3=$("#checkItemDueDays","#addChecklistItemDiv").attr("value");var _16f4=$("#checklistItemLabel","#addChecklistItemDiv").attr("value");if(_16f4.trim()==""||_16f4.trim().length>250||_16f2.length>250){_16eb=true;if(_16f4.trim().length==0){$("#checkItemLabelErr").html(i18n.checktask_notempty);}else{if(_16f4.length>250){$("#checkItemLabelErr").html(i18n.checktask_notmorechar);}}if(_16f2.length>250){$("#checklistItemDescErr").html(i18n.checktask_descnotmorechar);}}if(!_16eb){var _16f5="checklistId="+_16f0+"&checkItemId="+_16f1+"&checkItemLabel="+encodeURIComponent(_16f4)+"&checkItemDesc="+encodeURIComponent(_16f2)+"&checkItemDayLimit="+_16f3+"&selectedDeptId="+_16ec+"&selectedEmpLookuptId="+_16ed+"&selectedEmpId="+_16ee+"&selectedRoleId="+_16ef+"&formId="+_16e9+"&oprType=save_checkitem"+"&newTask="+_16ea+"&"+csrfParamName+"="+csrfToken;$.post("/people/saveChecklistItem.do",_16f5,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(_16ea){showSuccessMessage(i18n.checktask_added);newChecklistTask(_16f0,_16f1,_16e9);}else{$("#admin-right").html(data);}}});}}function collectIdListForCheckItem(id){var _16f8=$("#"+id).get(0);var _16f9="";if($(_16f8).val()!=null){_16f9=$(_16f8).val();}return _16f9;}function fetchChecklistItem(_16fa,_16fb,_16fc){var _16fd="checklistId="+_16fa+"&oprType=fetch_checklist"+"&"+csrfParamName+"="+csrfToken;$.post("/people/getChecklistTasks.do",_16fd,function(data){$("#admin-right").html(data);});}function deleteCheckList(_16ff,obj){var cf=confirm(i18n.checklist_deleteconfmsg);if(cf){var _1702="checkListId="+_16ff+"&operationType=deleteChecklist"+"&"+csrfParamName+"="+csrfToken;$.post("/people/checklistActions.do",_1702,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{var _1704=$("#checklist_"+_16ff).parent("tbody");$("#checklist_"+_16ff).remove();if($(_1704).find("tr.row").length==0){window.location.reload();}}});}}function enableDisableChecklist(_1705,obj){var _1707="checkListId="+_1705+"&operationType=enableDisable"+"&"+csrfParamName+"="+csrfToken;$.post("/people/checklistActions.do",_1707,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$(obj).toggleClass("enable").toggleClass("dis");var _1709=$("#checklist_status_"+_1705).attr("class");if(_1709=="on"){$("#checklist_status_"+_1705).attr("class","onGrey");$(obj).attr({"alt":i18n.general_enable,"title":i18n.general_enable});$("#checklist_status_"+_1705).attr({"alt":i18n.general_disabled,"title":i18n.general_disabled});$("#checklist_status_"+_1705).parent("td").parent("tr.row").addClass("disab");showSuccessMessage(i18n.checklist_disabled);}else{$("#checklist_status_"+_1705).attr("class","on");$(obj).attr({"alt":i18n.general_disable,"title":i18n.general_disable});$("#checklist_status_"+_1705).attr({"alt":i18n.general_enabled,"title":i18n.general_enabled});$("#checklist_status_"+_1705).parent("td").parent("tr.row").removeClass("disab");showSuccessMessage(i18n.checklist_enabled);}}});}function newChecklistTask(wfid,_170b,_170c){if(_170b.length==0){_170b=0;}var _170d="checklistId="+wfid+"&checkItemId="+_170b+"&formId="+_170c+"&oprType=create_checkitem"+"&"+csrfParamName+"="+csrfToken;$.post("/people/fetchChecklistItemDetails.do",_170d,function(data){$("#admin-right").html(data);});}function openworkflowitem(wfid,_1710,_1711){var _1712="checklistId="+wfid+"&checkItemId="+_1710+"&formId="+_1711+"&oprType=create_checkitem"+"&"+csrfParamName+"="+csrfToken;$.post("/people/fetchChecklistItemDetails.do",_1712,function(data){changecontentdiv("R_content");$("#admin-right").html(data);});}function saveReportingTo(src,dest){if(src==dest){alert(i18n.elementmismatch);return;}var _1716="child="+src+"&parent="+dest+"&"+csrfParamName+"="+csrfToken;$.post("/people/changeCheckItemOrder.do",_1716,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);window.location.reload();}});}function checklistTaskTree(){var _1718="";$("#list-container").nestedSortable({disableNesting:"no-nest",forcePlaceholderSize:true,handle:"span",items:"li",opacity:1,placeholder:"placeholder",tabSize:25,tolerance:"pointer",toleranceElement:"> span"});$("#list-container").sortable({start:function(event,ui){var curId=ui.item.attr("id");_1718=$("#"+curId).parent().parent();},stop:function(event,ui){var _171e=ui.item.attr("id");var _171f=ui.item;var _1720=isParentAvailable(_171f);var _1721=checkNumberOfSubTask(_171f);var _1722=$("#"+_171e).parent().parent();var _1723=_1722.attr("id");if(!checkForNumberId(_1723)){_1723=0;}if(_1720){$(_171f).find("img.expandImage:first").attr("src","/people/images/bullet_toggle_normal.png");}else{if(_1721==0){$(_171f).find("img.expandImage:first").attr("src","/people/images/bullet_toggle.png");}else{$(_171f).find("img.expandImage:first").attr("src","/people/images/bullet_toggle_minus.png");}}var _1724=isParentAvailable(_1722);if(_1724){$(_171f).parent("ul").siblings("span.textHolder").children("img.expandImage").attr("src","/people/images/bullet_toggle_normal.png");}else{$(_171f).parent("ul").siblings("span.textHolder").children("img.expandImage").attr("src","/people/images/bullet_toggle_minus.png");}var _1725=checkNumberOfSubTask(_1718);if(_1725==0){var _1726=isParentAvailable(_1718);if(_1726){$(_1718).children().children("img.expandImage:first").attr("src","/people/images/bullet_toggle_normal.png");}else{$(_1718).children().children("img.expandImage:first").attr("src","/people/images/bullet_toggle.png");}}saveReportingTo(_171e,_1723);}});$("#list-container li span img.expandImage").bind("click",function(){$(this).parent("span").siblings("ul").toggle();if((this.src).indexOf("/people/images/bullet_toggle_plus.png")!=-1){this.src="/people/images/bullet_toggle_minus.png";}else{if((this.src).indexOf("/people/images/bullet_toggle_minus.png")!=-1){this.src="/people/images/bullet_toggle_plus.png";}}return false;});}function checkNumberOfSubTask(obj){var _1728=$(obj).find("ul li").length;return _1728;}function isParentAvailable(obj){var _172a=$(obj).parent().parent().get(0).id;return checkForNumberId(_172a);}function checkForNumberId(input){var _172c=/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;return _172c.test(input);}function deleteCheckItem(wfid,_172e,_172f){var _1730="checklistId="+wfid+"&checkItemId="+_172e+"&formId="+_172f+"&"+csrfParamName+"="+csrfToken;$.post("/people/deleteListCheckItem.do",_1730,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{$("#admin-right").html(data);}});}function fetchPending(_1732,_1733,_1734,_1735){var start=1;if(_1733!=null){start=_1733;}var _1737=0;if(_1734!=null){_1737=_1734;}$.get("/people/Pending.do?wffilter="+_1732+"&startInd="+start+"&formid="+_1737,function(data){changecontentdiv("L_content");$("#home-checklists").html(data);$("#formSelectId").show();if(_1735!=null){$("#task_"+_1735).css("background","#fcfccb");$("#statusSpan").css("background","#fcfccb");setTimeout(function(){$("#task_"+_1735).animate({backgroundColor:"#fffff"},1500);$("#statusSpan").animate({backgroundColor:"#fffff"},1500);},1000);}checklistdropinit();});}function fetchPendingChecklist(_1739,_173a,_173b,_173c,_173d,_173e){var _173f=false;if(_173a!=null){_173f=_173a;}var start=1;if(_173b!=null){start=_173b;}var _1741=0;if(_173c!=null){_1741=_173c;}var assgn=0;if(_173d!=null){assgn=_173d;}var _1743=-1;if(_173e!=null){_1743=_173e;}$("div[norec=true]").hide();$.get("/people/PendingChecklist.do?isadminall="+_173f+"&wffilter="+_1739+"&startInd="+start+"&formid="+_1741+"&assignedTo="+assgn+"&assignedToType="+_1743,function(data){$("#home-checklists").html(data);$("#formSelectId").show();checklistdropinit();});}function changeInpValueFcs(elm){if(!$(elm).hasClass("gry")){return;}$(elm).val("");$(elm).removeClass("gry");}function changeInpValueinpFcs(elm){if(!$(elm).hasClass("grey")){return;}$(elm).val("");$(elm).removeClass("grey");}function changeInpValueBlur(elm){var _1748=$(elm).val();if(_1748==null||_1748.trim().length==0){$(elm).val($(elm).attr("dfVal"));$(elm).addClass("gry");}}function changeInpValueInpBlur(elm){var _174a=$(elm).val();if(_174a==null||_174a.trim().length==0){$(elm).val($(elm).attr("dfVal"));$(elm).addClass("grey");var _174b=$(elm).parent("div").attr("formid");var _174c=$(elm).parent("div").attr("isadminall");var _174d=$(elm).parent("div").attr("filter");if($(elm).attr("empid")=="true"){fetchPendingChecklist(_174d,_174c,1,_174b);}}}function closeloading(id){var _174f=docid(id);if(_174f){_174f.innerHTML="";}}function getCheckinstance(_1750,_1751){var _1752=$("#Mytasks_div").find("div[historyCol=history_"+_1751+"]");if(_1752){$.get("/people/CheckInstance.do?id="+_1750,function(data){$("#Mytasks_div").find("div[historyCol]").hide();$("#Mytasks_div").find("div[historyCol]").html("");$(_1752).html(data);$(_1752).css("display","");});}}function getCheckinstanceSingleRec(_1754,_1755){var _1756=$("#Mytasks_div").find("td[historyCol=history_"+_1755+"]");if(_1756){$.get("/people/CheckInstance.do?id="+_1754+"&singleView=true",function(data){$(_1756).html(data);$(_1756).css("display","");});}}function closechecklistPopUp(){$("#Mytasks_div").find("div[historyCol]").hide();}function opendialog_checklist(id,tsks){var _175a=$("#Mytasks_div").find("div[historyCol=historycmt_"+id+"]");if(tsks&&_175a){var _175b="id="+id+"&"+csrfParamName+"="+csrfToken+"&quickView=false";$.post("/people/FetchChecklistComments.do",_175b,function(data){$("#Mytasks_div").find("div[historyCol]").hide();$("#Mytasks_div").find("div[historyCol]").html("");$(_175a).html(data);$(_175a).css("display","");});}else{if(!tsks){var _175b="id="+id+"&"+csrfParamName+"="+csrfToken+"&quickView=true";$.post("/people/FetchChecklistComments.do",_175b,function(data){var _175e=$("#comments_link"+id).parent("p.comment").siblings("div");$(_175e).html(data);$(_175e).show();$("#comments_link"+id).parent("p.comment").hide();});}}}function clschecklistcomments(_175f){$(_175f).parent("div.taskComment").hide();$(_175f).parent("div.taskComment").siblings("p.comment").show();}function addchecklistcomments(_1760){var _1761=docid("comm_text");if($(_1761).hasClass("gry")){$(_1761).siblings("div.red").html(i18n.entercomments);$(_1761).siblings("div.red").css("display","");return;}$(_1761).siblings("div.red").css("display","none");var _1762=$(_1761).val();if(_1762.trim().length!=0){var _1763="notes="+encodeURIComponent(_1762)+"&checkid="+_1760+"&"+csrfParamName+"="+csrfToken;$.post("/people/AddChecklistComments.do",_1763,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{opendialog_checklist(_1760,true);}});}else{$(_1761).siblings("div.red").html(i18n.entercomments);$(_1761).siblings("div.red").css("display","");}}function addchecklistcommentmyreq(_1765,elm){var _1767=$(elm).parent("p").siblings("textarea");if($(_1767).hasClass("gry")){$(_1767).siblings("div.red").html(i18n.entercomments);$(_1767).siblings("div.red").css("display","");return;}$(_1767).siblings("div.red").hide();var _1768=$(_1767).val();if(_1768.trim().length!=0){var _1769="notes="+encodeURIComponent(_1768)+"&checkid="+_1765+"&"+csrfParamName+"="+csrfToken;$.post("/people/AddChecklistComments.do",_1769,function(data){opendialog_checklist(_1765,false);});}else{$(_1767).siblings("div.red").html(i18n.entercomments);$(_1767).siblings("div.red").show();}}function showMoreTasks(elm){var more=$(elm).attr("more");if(more=="true"){$(elm).attr("more","false");$(elm).html(i18n.checklist_less);$(elm).parent("div").siblings("ul.sortable").find("li[taskmain=1]").show();}else{$(elm).attr("more","true");$(elm).html(i18n.checklist_more);$(elm).parent("div").siblings("ul.sortable").find("li[taskmain=1]").hide();}}function applyfilter(elm,start,fid){if(elm){var _1770=$(elm).attr("filter");fetchPending(_1770,start,fid);}}function applyfilterMystartedChecklists(elm,_1772,start,fid,empid,_1776){if(elm){var _1777=$(elm).attr("filter");fetchPendingChecklist(_1777,_1772,start,fid,empid,_1776);}}function showhidecommentsforchecklist(flag){if(flag){$("#checklist_commentsaddbox").show();$("#checklist_commentsaddbox").find("#comm_text").html("");}else{$("#checklist_commentsaddbox").hide();}}function openitemowner(_1779,owner,_177b,_177c){var _177d=false;var _177e=$("#checklists_tasksandrequestsdiv").attr("type");if(_177e=="requests"){_177d=true;}var _177f="itemid="+_1779+"&owner="+owner+"&comments="+_177d+"&cdataid="+_177c;var _1780=$(_177b).siblings("em[ownersem='true']");if(_1780){var shide=$(_1780).css("display");if(shide=="none"){$.get("/people/ChecklistOwners.do",_177f,function(data){var _1783=$(_177b).parent("span.textHolder").find("span[status='true']");var _1784=$(_1783).attr("class");var jsObj=JSON.parse(data);if(_1784=="grn"){var _1786=$(_1783).attr("cBy");$(_1780).html("<span>"+_1786+"</span>");$(_1780).show();}else{$(_1780).html(jsObj.ownersStr);$(_1780).show();}if(_177d){var _1787=$(_177b).parent("span.textHolder").siblings("div[comments='true']");$(_1787).html(jsObj.commentsStr);$(_1787).show();}});}else{$(_1780).hide();var _1788=$(_177b).parent("span.textHolder").siblings("div[comments='true']");$(_1788).hide();}}}function getChecklistDetailforRecord(recId,_178a){if(recId!=null){var url="/people/CheckListDetailsforRecord.do?recPkID="+recId+"&qtype=false";if(_178a!=null){url+="&rootId="+_178a;}$.get(url,function(data){changecontentdiv("R_content");$("#admin-right").html(data);});}}function getNormalisedXandYpositions(w1,h1,w2,h2,x,y){var _1793=0;var _1794=0;if(w1>0&&x>0){_1794=Math.round((x/w1)*100);}if(h1>0&&y>0){_1793=Math.round(((y/h1)*100));}_1794=_1794>100?100:_1794;_1793=_1793>100?100:_1793;var _1795=Math.round((_1794*w2)/100);var _1796=Math.round((_1793*h2)/100);return new Array(_1795,_1796);}function adjusttracker(){var _1797=$("#chartOuterDiv").scrollLeft();var ScTop=$("#chartOuterDiv").scrollTop();var _1799=$("#mainChart").height();var _179a=$("#mainChart").width();var _179b=$("#microChart").height();var _179c=$("#microChart").width();var _179d=getNormalisedXandYpositions(_179a,_1799,_179c,_179b,_1797,ScTop);$("#positionTracker").css("left",_179d[0]);$("#positionTracker").css("top",_179d[1]);}function getDeptDetails(){var depid=Layout.containerid;var _179f=$("#"+depid).find("#seltdDept");var _17a0="chartType="+"deptHierachyChart";var Url="/people/GetDeptHierarchy.do";$.post(Url,_17a0,function(data){if(data){$("#"+depid).find("#orgstructure").html(data);$("#"+depid).find("#orgstructure").show();var _17a3=$("#"+depid).find("#orgstructure").find("span[id="+_179f+"]");_17a3.addClass("sel");$("#"+depid).find("#zc-component").css("z-index",1000);}});}function changeZoom(_17a4){var inc=1;var dec=0;var _17a7=numZoomLevels;var _17a8=0;if(_17a4==inc&&currDisplayOption!=(_17a7-1)){currDisplayOption++;formChart(deptJson,currDisplayOption);}else{if(_17a4==dec&&currDisplayOption!=0){currDisplayOption--;formChart(deptJson,currDisplayOption);}}}function showhidezoomlevel(){var _17a9=numZoomLevels-1;$("#zoomMinus").attr("class","zout");$("#zoomPlus").attr("class","zin");$("#zoomFit").attr("class","zfit");if(currDisplayOption==_17a9){$("#zoomMinus").attr("class","zoutg");}else{if(currDisplayOption==0){$("#zoomPlus").attr("class","zing");}}if(currDisplayOption==bestZoomLevelforChart){$("#zoomFit").attr("class","zfitg");}}function initChartParams(){nodeId=1;xMax=0;yMax=0;}function formChart(_17aa,_17ab){if(_17ab==-1){var _17ac=3;var _17ad=0;var _17ae=0;var _17af=0;for(_17ad=3;_17ad>=0;_17ad--){formDeptNode(_17aa,"#chartHere",displayOpts[_17ad]);var _17b0=$("#chartOuterDiv").height();var _17b1=$("#chartOuterDiv").width();var _17b2=$("#mainChart").height();var _17b3=$("#mainChart").width();if(_17b3<=_17b1&&_17b2<=_17b0){_17ac=_17ad;}else{if(_17ad==3){var _17b4=displayOpts[_17ad].spacing;_17af=Math.round((_17b0/_17b2)*displayOpts[_17ad].height);_17ae=Math.round((_17b1/(_17b3))*displayOpts[_17ad].width);_17b4=Math.round((_17b1/_17b3)*displayOpts[_17ad].spacing);var _17b5={spacing:_17b4,className:"chartLevelDyn",height:_17af,width:_17ae,maxlengthStr:5};displayOpts.push(_17b5);numZoomLevels=displayOpts.length;formDynZLevel(_17af,_17ae,_17b4);_17ab=numZoomLevels-1;_17ac=_17ab;currDisplayOption=_17ab;}else{formDeptNode(_17aa,"#chartHere",displayOpts[_17ac]);_17ab=_17ac;currDisplayOption=_17ab;}break;}}if(_17ab==-1){_17ac=0;formDeptNode(_17aa,"#chartHere",displayOpts[_17ac]);currDisplayOption=0;}bestZoomLevelforChart=_17ac;}else{formDeptNode(_17aa,"#chartHere",displayOpts[_17ab]);}formMicroChart(_17aa);initPositionTracker();showhidezoomlevel();}function formDynZLevel(hgt,wdth,_17b8){formDeptNode(deptJson,"#chartHere",{spacing:_17b8,className:"chartLevelDyn",height:hgt,width:wdth});}function initPositionTracker(){var _17b9=$("#chartOuterDiv").height();var _17ba=$("#chartOuterDiv").width();var _17bb=$("#mainChart").height();var _17bc=$("#mainChart").width();var _17bd=1;var _17be=0;try{if(_17b9<=_17bb){_17bd=(_17bb/_17b9);}var _17bf=$("#microChart").height();_17be=Math.round(_17bf/_17bd);$("#positionTracker").height(_17be);_17bd=1;_17be=0;if(_17ba<=_17bc){_17bd=(_17bc/_17ba);}var _17c0=$("#microChart").width();_17be=Math.round(_17c0/_17bd);$("#positionTracker").width(_17be);adjusttracker();}catch(Err){$("#positionTracker").height(30);$("#positionTracker").width(30);}}function formMicroChart(_17c1){nodeId=1;xMax=0;yMax=0;formDeptNode(_17c1,"#microChartHere",{spacing:12,className:"chartLevelMicro",height:10,width:6});}function formDeptNode(_17c2,divId,_17c4){initChartParams();var _17c5=_17c4.spacing;var cName=_17c4.className;var h=_17c4.height;var w=_17c4.width;var _17c9=0;var _17ca=0;var _17cb=_17c4.maxlengthStr;var _17cc=$("<div></div>");for(var _17cd=0;_17cd<_17c2.length;_17cd++){var _17ce=_17c2[_17cd];var _17cf=_17ce.deptId;var _17d0=$("<div id='SubNode'></div>");var _17d1="chartLevel";if(cName=="chartLevel4"||cName=="chartLevel3"||cName=="chartLevel2"||cName=="chartLevelDyn"){_17d1+=" chartLevelsml";}var str="<div id='MgrNode' class='"+_17d1+"'></div>";var _17d3=$(str);var _17d4=(_17ce.deptSubArray);if(cName!="chartLevelMicro"||cName=="chartLevelDyn"){xVal=_17ca==0?_17ca:_17ca+_17c5;yVal=10;}else{xVal=_17ca==0?_17ca:_17ca+_17c5;yVal=10;}nodeId=1;var _17d5="";if(xVal<xMax){xVal=xMax+_17c5;}_17c9=xVal;_17ca=xVal+_17c5;var _17d6="";if(cName!="chartLevelMicro"&&_17d4!=null&&_17d4.length>0){if(jQuery.inArray(_17cf,isToggleClosed)==-1){_17d6="<em class='addIcon' id='hidediv' onclick='toggleSubChart(\""+_17cf+"\")'><a href='#' ><img src='/people/images/icon_minus.png' /></a></em>";}else{_17d6="<em class='addIcon' id='hidediv' onclick='toggleSubChart(\""+_17cf+"\")'><a href='#' ><img src='/people/images/icon_add.png' /></a></em>";}}var i=-1;var _17d8=-1;if(_17d4&&jQuery.inArray(_17cf,isToggleClosed)==-1){_17d8=_17d4.length;for(i=0;i<_17d4.length;i++){var _17d9=_17d4[i];if(i!=0&&xVal<xMax){xVal=xMax+_17c5;}xMax=xVal;var _17da;if(i==0){_17da=formNormalDeptNode(_17d9,xVal+5,yVal,i,1,_17c4);_17c9=_17da[1];}else{if(i==_17d4.length-1){_17da=formNormalDeptNode(_17d9,xVal+5,yVal,i,1,_17c4);_17ca=_17da[1];}else{_17da=formNormalDeptNode(_17d9,xVal+5,yVal,i,0,_17c4);}}$(_17d0).append(_17da[0]);if(cName!="chartLevelMicro"){var x1=_17da[1];var vline=formVLine(Math.round(x1+w/2),Math.round(yVal+h+(_17c5-h)/2),yVal+_17c5);$(_17d0).append(vline);}xVal+=_17c5;}}var _17dd=(_17c9+(_17ca-_17c9)/2);if(i==1){_17dd=_17c9;}str="";var _17de=JSON.stringify(_17ce,replacerfn);var _17df="<div id='deptBasicObj_"+_17ce.deptId+"' style='display:none;'>"+_17de+"</div>";str+="<div class='"+cName+"'"+" id='detaildept_"+_17ce.deptId+"' onclick=javascript:showDeptDetails('"+_17ce.deptId+"')"+" onmouseover=javascript:showtooltipinfo('"+_17ce.deptId+"')"+" onmouseout=javascript:hidetooltipinfo('"+_17ce.deptId+"')"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17dd+"px;'><div class='"+cName+"Inner' >";switch(cName){case "chartLevel1":str+="<p class='bld'>"+trimStr(_17ce.deptName,_17cb)+"</p><p>"+trimStr(_17ce.deptId,_17cb)+"</p><p>"+trimStr(_17ce.empName,_17cb)+"</p>"+_17d6+"</div></div>";break;case "chartLevel2":str+="<p class='bld'>"+trimStr(_17ce.deptName,_17cb)+"</p><p>"+trimStr(_17ce.empName,_17cb)+"</p>"+_17d6+"</div></div>";break;case "chartLevel3":str+="<p>"+trimStr(_17ce.deptName,_17cb)+"</p>"+_17d6+"</div></div>";break;case "chartLevel4":str+="<p>"+trimStr(_17ce.deptName,_17cb)+"</p>"+_17d6+"</div></div>";break;case "chartLevelMicro":str="<div class='chartLevelMicro'"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17dd+"px;'></div>";break;case "chartLevelDyn":str="<div class='chartLevel4'"+" id='detaildept_"+_17ce.deptId+"' onclick=javascript:showDeptDetails('"+_17ce.deptId+"')"+" onmouseover=javascript:showtooltipinfo('"+_17ce.deptId+"')"+" onmouseout=javascript:hidetooltipinfo('"+_17ce.deptId+"')"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17dd+"px;Height:"+h+"px;Width:"+w+"px;"+"'></div>";break;}str+=_17df;var _17e0=$(str);$(_17d3).append(_17e0);if(_17d8>0&&i!=-1&&cName!="chartLevelMicro"){var x1=_17ca;if(i==1){x1=_17dd;}var hLine=formHLine(Math.round(_17c9+w/2),Math.round(yVal+h+((_17c5-h)/2)),Math.round(x1+w/2));$(_17d3).append(hLine);var cLine=formVLine(Math.round(_17dd+w/2),Math.round(yVal+h+2),Math.round(yVal+h+(_17c5-h)/2));$(_17d3).append(cLine);}$(_17d3).append(_17d0);$(_17cc).append(_17d3);}$(divId).html($(_17cc).html());var _17e3=xMax>_17ca?xMax:_17ca;if(cName=="chartLevelMicro"){$("#microChart").width(_17e3+_17c5*2);$("#microChart").height(yMax+_17c5);}else{if(cName=="chartLevelDyn"){$("#mainChart").width(_17e3);$("#mainChart").height(yMax);}else{$("#mainChart").width(_17e3+_17c5*1.5);$("#mainChart").height(yMax+_17c5);}}}function formNormalDeptNode(_17e4,xVal,yVal,_17e7,_17e8,_17e9){var _17ea=_17e9.spacing;var cName=_17e9.className;var h=_17e9.height;var w=_17e9.width;var _17ee=_17e9.maxlengthStr;++nodeId;var _17ef=0;var _17f0=0;var _17f1=""+_17e4.deptId;var str="";var _17f3=(_17e4.deptSubArray);var _17f4="";str="<div id=PNode"+_17f1+" >";if(cName!="chartLevelMicro"&&_17f3!=null&&_17f3.length>0){if(jQuery.inArray(_17f1,isToggleClosed)==-1){_17f4="<em class='addIcon' id='hidediv' onclick='toggleSubChart(\""+_17f1+"\")'><a href='#' ><img src='/people/images/icon_minus.png' /></a></em>";}else{_17f4="<em class='addIcon' id='hidediv' onclick='toggleSubChart(\""+_17f1+"\")'><a href='#' ><img src='/people/images/icon_add.png' /></a></em>";}}var _17f5=$("<div id=SNode"+_17f1+"></div>");var _17f6="";var _17f7=null;yVal+=_17ea;if(yMax<yVal){yMax=yVal;}if(xVal<xMax){xVal=xMax+_17ea;}_17ef=xVal;_17f0=xVal+_17ea;var i=-1;var _17f9=-1;if(_17f3&&jQuery.inArray(_17f1,isToggleClosed)==-1){_17f9=_17f3.length;for(i=0;i<_17f3.length;i++){var _17fa=_17f3[i];if(i!=0&&xVal<=xMax){xVal=xMax+_17ea;}xMax=xVal;var _17fb;if(i==0){_17fb=formNormalDeptNode(_17fa,xVal,yVal,i,1,_17e9);_17ef=_17fb[1];}else{if(i==_17f3.length-1){_17fb=formNormalDeptNode(_17fa,xVal,yVal,i,1,_17e9);_17f0=_17fb[1];}else{_17fb=formNormalDeptNode(_17fa,xVal,yVal,i,0,_17e9);}}$(_17f5).append(_17fb[0]);if(cName!="chartLevelMicro"){var x1=_17fb[1];var vline=formVLine(Math.round(x1+w/2),Math.round(yVal+h+(_17ea-h)/2),yVal+_17ea);$(_17f5).append(vline);}xVal+=_17ea;}}var _17fe=(_17ef+(_17f0-_17ef)/2);if(i==1){_17fe=_17ef;}var _17ff=JSON.stringify(_17e4,replacerfn);var _1800="<div  id='deptBasicObj_"+_17e4.deptId+"' style='display:none;'>"+_17ff+"</div>";if(cName=="chartLevelMicro"){str+="<div class='"+cName+"'"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17fe+"px;'>";}else{if(cName=="chartLevelDyn"){str+="<div class='chartLevel4'"+"id='detaildept_"+_17e4.deptId+"' onclick=javascript:showDeptDetails('"+_17e4.deptId+"')"+" onmouseover=javascript:showtooltipinfo('"+_17e4.deptId+"')"+" onmouseout=javascript:hidetooltipinfo('"+_17e4.deptId+"')"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17fe+"px;Height:"+h+"px;Width:"+w+"px;'>";}else{str+="<div class='"+cName+"'"+" id='detaildept_"+_17e4.deptId+"' onclick=javascript:showDeptDetails('"+_17e4.deptId+"')"+" onmouseover=javascript:showtooltipinfo('"+_17e4.deptId+"')"+" onmouseout=javascript:hidetooltipinfo('"+_17e4.deptId+"')"+" style='position:absolute;Top:"+yVal+"px;Left:"+_17fe+"px;'>";}}switch(cName){case "chartLevel1":str+="<div class='"+cName+"Inner' ><p class='bld'>"+trimStr(_17e4.deptName,_17ee)+"</p><p>"+trimStr(_17e4.deptId,_17ee)+"</p><p>"+trimStr(_17e4.empName,_17ee)+"</p>"+_17f4+"</div>";break;case "chartLevel2":str+="<div class='"+cName+"Inner' ><p class='bld'>"+trimStr(_17e4.deptName,_17ee)+"</p><p>"+trimStr(_17e4.empName,_17ee)+"</p>"+_17f4+"</div>";break;case "chartLevel3":str+="<div class='"+cName+"Inner' ><p>"+trimStr(_17e4.deptName,_17ee)+"</p>"+_17f4+"</div>";break;case "chartLevel4":str+="<div class='"+cName+"Inner' ><p>"+trimStr(_17e4.deptName,_17ee)+"</p>"+_17f4+"</div>";break;case "chartLevelMicro":case "chartLevelDyn":break;}str+=_1800+"";str+="</div>";var _1801=new Array();var Node=$(str);if(_17f9>0&&i!=-1&&cName!="chartLevelMicro"){var x1=_17f0;if(i==1){x1=_17fe;}var hLine=formHLine(Math.round(_17ef+w/2),Math.round(yVal+h+((_17ea-h)/2)),Math.round(x1+w/2));$(_17f5).append(hLine);var cLine=formVLine(Math.round(_17fe+w/2),Math.round(yVal+h+2),Math.round(yVal+h+((_17ea-h)/2)));$(_17f5).append(cLine);}$(_17f5).append(_17f7);$(Node).append(_17f5);_1801[0]=Node;_1801[1]=_17fe;return _1801;}function toggleSubChart(_1805){if(_1805){if(jQuery.inArray(_1805,isToggleClosed)==-1){isToggleClosed.push(_1805);}else{var pos=isToggleClosed.indexOf(_1805,0);isToggleClosed.splice(pos,1);}var _1807=$("#detaildept_"+_1805).position();formChart(deptJson,currDisplayOption);focusNode(_1805,_1807);}}function focusNode(_1808,_1809){var _180a=$("#detaildept_"+_1808).position();var _180b=_1809.top-_180a.top;var _180c=_1809.left-_180a.left;var newL=$("#chartOuterDiv").scrollLeft()-_180c;var newT=$("#chartOuterDiv").scrollTop()-_180b;$("#chartOuterDiv").scrollLeft(newL);$("#chartOuterDiv").scrollTop(newT);}function showDeptDetails(_180f){if(_180f){$(".chartSel").removeClass("chartSel");$("#detaildept_"+_180f).addClass("chartSel");var _1810=$("#deptBasicObj_"+_180f).html();var jsObj=JSON.parse(_1810);$("#deptdetail_Name,#deptdetail_PDept,#deptdetail_Lead,#deptdetail_Mail,#deptdetail_SubCnt").html("");$("#deptdetail_Name").text(jsObj.deptName);$("#deptdetail_PDept").text(jsObj.parentDeptName);$("#deptdetail_Lead").text(jsObj.empName);$("#deptdetail_Mail").text(jsObj.deptMail);$("#deptdetail_SubCnt").text(jsObj.subEmpCnt);}}function showtooltipinfo(_1812){if(_1812){var _1813=20;var _1814=$("#deptBasicObj_"+_1812).html();var jsObj=JSON.parse(_1814);if(jsObj==null){return;}var _1816=$("#dchartstooltipdiv");var _1817=$("#chartOuterDiv");$(_1816).show();$(_1816).find("#deptNameInfo").text(trimStr(jsObj.deptName,_1813));$(_1816).find("#deptLeadInfo").text(trimStr(jsObj.empName,_1813));$(_1816).find("#deptIdInfo").text(trimStr(jsObj.deptId,_1813));var _1818=$("#detaildept_"+_1812);var _1819=$(_1818).position();var _181a=$(_1818).width();var _181b=$(_1818).height();var lpos=_1819.left+$(_1817).scrollLeft();var tpos=_1819.top+$(_1817).scrollTop()+_181b;var _181e=$(_1817).height()+$(_1817).scrollTop();var _181f=tpos+$(_1816).find("span").height();if(_181f>_181e){tpos=tpos-(_181b+$(_1816).find("span").height());}$(_1816).css("top",tpos);_181e=$(_1817).width()+$(_1817).scrollLeft();_181f=lpos+$(_1816).find("span").width();if(_181f>_181e){lpos=lpos-($(_1816).find("span").width());}$(_1816).css("left",lpos);}}function hidetooltipinfo(_1820){if(_1820){$("#dchartstooltipdiv").find($("#deptNameInfo")).html("");$("#dchartstooltipdiv").hide();}}function formHLine(x,y,x1){var _1824=x<=x1?x:x1;var _1825=$("<div id=\"Hline\" style='overflow:hidden;position:absolute;Top:"+y+"px;Left:"+_1824+"px;'></div>");$(_1825).width(Math.abs(x1-x));return _1825;}function formVLine(x,y,y1){var _1829=$("<div id=\"Vline\" style='position:absolute;Top:"+y+"px;Left:"+x+"px;'></div>");$(_1829).height(y1-y);return _1829;}function trimStr(_182a,_182b){if(_182a!=null&&_182a.length>=_182b){_182a=_182a.substr(0,_182b);_182a+="..";}return _182a;}function replacerfn(key,value){if(key!="deptSubArray"){return value;}}function getBestFitChart(){if(bestZoomLevelforChart!=currDisplayOption){currDisplayOption=bestZoomLevelforChart;formChart(deptJson,currDisplayOption);}}function getDeptMemberList(_182e){$("#list-container").find("a").removeClass("sel");$("#"+_182e).find("a:first").toggleClass("sel");$.post("/people/GetDeptMembers.do",{"deptId":_182e,"startIndex":"1"},function(_182f){$("#deptMemberList").html(_182f);});}function PeopleBrowserbackPage(){}PeopleBrowserbackPage.pageload=function(hash){if(hash){var _1831=hash.split("/");hash=_1831[0];var type=_1831[1];var pkid=type;var value=_1831[2];var _1835=_1831[3];var _1836=window.location.href;var spos=_1836.indexOf("/people/");var epos=_1836.indexOf("#");var _1839=_1836.substring((spos+8),epos);var _183a=hash.split(":");switch(_1839){case "self-service/profile":getProfile("empProfile",hash,1);break;case "forms/edit":case "admin/forms/edit":if(pkid!=null){selectFormMenus(hash.split(":")[1]);}generateFormPages("form_EditMode",_183a[1]);break;case "view/live/list":if(value!=null){var _183b=value.split(":");var _183c=_183b[1];var _183d="";if(_1835!=null){var _183e=_1835.split(":");_183d=_183e[1];}generateFormPages("form_LiveViewMode","","",_183a[1],_183c+","+_183d);if(hash!=null&&pkid!=null){selectFormMenus(pkid.split(":")[1],hash.split(":")[1]);}break;}generateFormPages("form_LiveViewMode","","",_183a[1],"all");if(hash!=null&&pkid!=null){selectFormMenus(pkid.split(":")[1],hash.split(":")[1]);}break;case "admin/view/live/list":if(type!=null){var _183f=pkid.split(":");var _183c=_183f[1];var _183d="";if(value!=null){var _183e=value.split(":");_183d=_183e[1];}generateFormPages("form_LiveViewMode","","",_183a[1],_183c+","+_183d);break;}generateFormPages("form_LiveViewMode","","",_183a[1]);break;case "view/live/new":generateCreateNewPages("newViewPage",_183a[1],"",true);break;case "admin/view/live/new":generateCreateNewPages("newViewPage",_183a[1],"",true);break;case "forms/live/add":selectFormMenus(hash.split(":")[1]);case "admin/forms/live/add":case "admin/leavetype/add":case "admin/holidays/add":case "admin/department/add":case "admin/designation/add":generateFormPages("form_LiveMode",_183a[1]);break;case "forms/live/edit":case "admin/forms/live/edit":case "self-service/profile/edit":case "admin/holidays/edit":case "admin/leavetype/edit":case "admin/department/edit":case "admin/designation/edit":case "employees/orgstructure/edit":var _183f=pkid.split(":");selectFormMenus(hash.split(":")[1]);generateFormPages("form_RecordEdit",_183a[1],"","","",_183f[1]);break;case "view/live/detail":case "admin/view/live/detail":case "admin/setuporg/department/view":case "admin/setuporg/designation/view":var _183f=pkid.split(":");selectFormMenus(hash.split(":")[1]);generateFormPages("form_RecordView",_183a[1],"","","",_183f[1]);break;case "view/live/history":selectFormMenus(hash.split(":")[1]);case "admin/view/live/history":var _183f=pkid.split(":");generateFormPages("form_RecordHistory",_183a[1],"","","",_183f[1]);break;case "forms/import/uploadfile":selectFormMenus(hash.split(":")[1]);case "admin/forms/import/uploadfile":generateFormPages("import_data",_183a[1]);break;case "view/edit":selectFormMenus(pkid.split(":")[1],hash.split(":")[1]);case "admin/view/edit":generateFormPages("form_EditViewMode","","",_183a[1]);break;case "forms/mailalerts":case "admin/forms/mailalerts":setClassforAdminContent();if(hash=="list"){var _1840=pkid!=null?pkid.split(":")[1]:"all";generateFormPages("mail_alert",_1840);}else{if(hash=="edit"){var _183f=pkid.split(":");var tmpId=value.split(":");editMailAlert(_183f[1],tmpId[1]);}else{if(hash=="new"){var _183f=pkid.split(":");configureMailAlert(_183f[1],false);}}}break;case "forms/approvals":case "admin/forms/approvals":setClassforAdminContent();if(hash=="list"){generateFormPages("approvals_list");}else{if(hash=="view"){var _183f=pkid.split(":");generateFormPages("approval_view",_183f[1]);}else{if(hash=="edit"){var _183f=pkid.split(":");var tmpId=value.split(":");generateFormPages("approval_edit",_183f[1],"","","",tmpId[1]);}}}break;case "admin/forms":if(hash=="new"){setClassforAdminContent();if(type!=null&&type.indexOf("tab")!=-1){var _183f=pkid.split(":");if(_183f[1]!=null){generateCreateNewPages("newFormPage",_183f[1],"",true);}else{generateCreateNewPages("newFormPage","0","",true);}}else{generateCreateNewPages("newFormPage","0","",true);}}else{if(hash=="list"){setClassforAdminContent();var _1842="isAjax="+true;var url="/people/tabCustomization.do";ajaxForGetRightBand("forms",url,_1842);}}break;case "forms/embed":if(hash!=null){selectFormMenus(hash.split(":")[1]);}embedForm(_183a[1]);break;case "admin/forms/embed":if(hash!=null&&hash=="list"){embedForm(0);}else{embedForm(_183a[1]);}break;case "admin/dummyemployees/import":generateFormPages("import_data_dummy",_183a[1]);break;case "admin/dummyemployees/migrate":getMigrateEmployeePage(_183a[1]);break;case "admin/inviteemployees/import":generateFormPages("import_data_users",_183a[1]);break;case "admin/checklists":setClassforAdminContent();if(hash=="new"){createChecklist();}else{if(_183a[0]=="edit"){editChecklist(_183a[1]);}else{if(_183a[0]=="view"){fetchChecklistItem(_183a[1]);}else{generateFormPages("checklist","","","","","","");}}}break;case "admin/announcements":setClassforAdminContent();if(hash=="new"){callAnnouncement();}else{if(hash=="list"){getSettings("announcement");}else{if(_183a[0]=="edit"){editAnnouncement(_183a[1]);}}}break;case "home/checklist/record/view":if(pkid!=null){var _183f=pkid.split(":");var _183c=_183f[1];getChecklistDetailforRecord(_183a[1],_183c);}else{getChecklistDetailforRecord(_183a[1],null);}break;case "subscription/paymentprocess":var _183a=_1836.split("#")[1];var _1844=_183a.split("&");var _1845=_1844[0].split("=")[1];var _1846=_1844[1].split("=")[1];var _1847=_1844[2].split("=")[1];var url="/people/paymentprocess.do?subscribeStorage="+_1845+"&purchase_status="+_1846+"&plan_number="+_1847;$.get(url,function(data){$("#C_content").html(data);});break;case "employees/orgstructure":if(hash=="home"){fetchDeptMembers("");}else{fetchDeptMembers(_183a[1]);}break;}if($.browser.mozilla){setFavicon();}}else{}function setFavicon(){var link=$("link[type=image/x-icon]").remove().attr("href");$("<link href=\""+link+"\" rel=\"shortcut icon\" type=\"image/x-icon\" />").appendTo("head");}};function ZE_Init(){}ZE_Init.init=function(){ZE_Init.staticVersion="v27";ZE_Init.theme="gray";ZE_Init.language="en";ZE_Init.needplaintext=false;ZE_Init.editorCSS=true;ZE_Init.inlineQuotes=true;ZE_Init.modeChange=undefined;ZE_Init.spellcheckURL="lt.zoho.com";ZE_Init.domain="zoho.com";ZE_Init.tabKeyHandling=true;ZE_Init.needEditorFocus=true;ZE_Init.needEditorBorder=true;ZE_Init.needResizeImage=false;ZE_Init.removeInsertOptions=false;ZE_Init.removeFontFamily=false;ZE_Init.removeFontSize=false;ZE_Init.defaultFontSize="10pt";ZE_Init.defaultFontFamily="Verdana,arial,Helvetica,sans-serif";ZE_Init.defaultFontColor="blue";ZE_Init.outGoingFontFamily="";ZE_Init.outGoingFontSize="";ZE_Init.outGoingColor="";ZE_Init.context="people";var _184a=window.location.protocol;ZE_Init.cssPath=ZE_Init.imgPath=_184a+"//css.zohostatic.com/ze/"+ZE_Init.staticVersion;ZE_Init.jsPath=_184a+"//js.zohostatic.com/ze/"+ZE_Init.staticVersion;ZE_Init.toolbarOrder=[[["bold","Bold (Ctrl+B)","ze_tb"],["italic","Italic (Ctrl+I)","ze_ti"],["underline","Underline (Ctrl+U)","ze_tu"]],[["fontcolor","Font Color","ze_f"],["bgcolor","Background Color","ze_tbg"],["fontfamily","Font","ze_tf"],["fontsize","Font Size","ze_tfo"]],[["justifyleft","Align Text Left (Ctrl+L)","ze_tjl"],["justifyright","Align Text Right (Ctrl+R)","ze_tjr"],["justifyfull","Justify (Ctrl+J)","ze_tjf"],["justifycenter","Center (Ctrl+E)","ze_tjc"]],[["insertunorderedlist","Bullets","ze_tul"],["insertorderedlist","Numbering","ze_tol"],["outdent","Decrease Indent","ze_tou"],["indent","Increase Indent","ze_tin"]],[["removeformat","Remove Formatting","ze_trf"]],[["image","Insert Image","ze_tim"],["link","Insert Link","ze_til"],["unlink","Remove Link","ze_tuli"],["insertoptions","Insert Options","ze_spo"]],[["edithtml","Edit HTML","ze_teh"]],[["spellcheck","Check Spelling","ze_sp"],["spellcheckoptions","Spell Check Languages","ze_spo"]]];ZE_Init.insertOptions=[["table","Insert Table","ze_tbl"],["inserthorizontalrule","Insert Horizontal Rule","ze_hr"],["object","Insert HTML","ze_obj"],["code","Insert Code","ze_icode"],["quote","Insert Quote","ze_quote"]];ZE_Init.imgAction="/ze/uploadImage";ZE_Init.imgParameters=undefined;ZE_Init.setContentProcessed=false;var _184b=document,agt=navigator.userAgent.toLowerCase(),_184d=_184b.createElement("img");ZE_Init.is_ie=(agt.indexOf("ie")!==-1);ZE_Init.is_safari=(agt.indexOf("safari")!==-1);ZE_Init.is_opera=(agt.indexOf("opera")!==-1);ZE_Init.is_mac=(agt.indexOf("mac")!==-1);ZE_Init.theme=ZE_Init.ElementInArray(["blue","green","gray","brown","lavender","pink","stars","heart","wood","leaf"],ZE_Init.theme)||"gray";ZE_Init.language=ZE_Init.ElementInArray(["en","zh","da","nl","fr","de","hu","it","ja","pl","pt","ru","es","sv","tr","uk"],ZE_Init.language)||"en";ZE_Init.loadURL(ZE_Init.cssPath+"/css/"+ZE_Init.theme+"/ze.min.css","css");if(ZE_Init.is_ie){ZE_Init.loadURL(ZE_Init.jsPath+"/js/i18n/"+ZE_Init.language+"/ze_ie.min.js","js");}else{if(ZE_Init.is_safari){ZE_Init.loadURL(ZE_Init.jsPath+"/js/i18n/"+ZE_Init.language+"/ze_sa.min.js","js");}else{if(ZE_Init.is_opera){ZE_Init.loadURL(ZE_Init.jsPath+"/js/i18n/"+ZE_Init.language+"/ze_op.min.js","js");ZE_Init.toolbarOrder.pop();}else{ZE_Init.loadURL(ZE_Init.jsPath+"/js/i18n/"+ZE_Init.language+"/ze.min.js","js");}}}_184d.src=ZE_Init.imgPath+"/images/ze_toolbar_"+ZE_Init.theme+".png";ZE_Init.loading=true;};ZE_Init.loadURL=function(URL,type){var css,_1851,_1852=document;if(type==="css"){css=_1852.createElement("link");css.type="text/css";css.rel="stylesheet";css.href=URL;_1852.getElementsByTagName("head")[0].appendChild(css);}else{if(type==="js"){_1851=_1852.createElement("script");_1851.type="text/javascript";_1851.src=URL;_1852.getElementsByTagName("head")[0].appendChild(_1851);}}};ZE_Init.ElementInArray=function(array,value){var _1855;while(_1855=array.shift()){if(_1855===value){return _1855;}}};ZE_Init.applyTheme=function(theme){if(ZE_Init.theme===theme){return;}if(!ZE_Init.ElementInArray(["blue","green","gray","brown","lavender","pink","stars","heart","wood","leaf"],theme)){return;}var _1857=document,link=_1857.getElementsByTagName("link"),_1859=link.length,_185a,_185b,_185c;while(_1859--){_185a=link[_1859];_185b=_185a.href;if(_185b.match("ze.min.css")){ZE_Init.theme=theme;_185a.href=ZE_Init.cssPath+"/css/"+theme+"/ze.min.css";_185c=_1857.createElement("img");_185c.src=ZE_Init.imgPath+"/images/ze_toolbar_"+theme+".png";}else{if(_185b.match("ze1.min.css")){ZE_Init.theme=theme;_185a.href=ZE_Init.cssPath+"/css/"+theme+"/ze1.min.css";}}}};ZE_Init.toolbarOrderMapping={"bold":["bold","Bold (Ctrl+B)","ze_tb"],"italic":["italic","Italic (Ctrl+I)","ze_ti"],"underline":["underline","Underline (Ctrl+U)","ze_tu"],"strikethrough":["strikethrough","Strikethrough","ze_ts"],"subscript":["subscript","Subscript","ze_tsu"],"superscript":["superscript","Superscript","ze_sup"],"fontcolor":["fontcolor","Font Color","ze_f"],"bgcolor":["bgcolor","Background Color","ze_tbg"],"fontfamily":["fontfamily","Font","ze_tf"],"fontsize":["fontsize","Font Size","ze_tfo"],"justifyleft":["justifyleft","Align Text Left (Ctrl+L)","ze_tjl"],"justifyright":["justifyright","Align Text Right (Ctrl+R)","ze_tjr"],"justifyfull":["justifyfull","Justify (Ctrl+J)","ze_tjf"],"justifycenter":["justifycenter","Center (Ctrl+E)","ze_tjc"],"insertunorderedlist":["insertunorderedlist","Bullets","ze_tul"],"insertorderedlist":["insertorderedlist","Numbering","ze_tol"],"outdent":["outdent","Decrease Indent","ze_tou"],"indent":["indent","Increase Indent","ze_tin"],"removeformat":["removeformat","Remove Formatting","ze_trf"],"image":["image","Insert Image","ze_tim"],"smiley":["smiley","Insert smiley","ze_tis"],"link":["link","Insert Link","ze_til"],"unlink":["unlink","Remove Link","ze_tuli"],"insertoptions":["insertoptions","Insert Options","ze_spo"],"edithtml":["edithtml","Edit HTML","ze_teh"],"spellcheck":["spellcheck","Check Spelling","ze_sp"],"spellcheckoptions":["spellcheckoptions","Spell Check Languages","ze_spo"],"table":["table","Insert Table","ze_tbl"],"inserthorizontalrule":["inserthorizontalrule","Insert Horizontal Rule","ze_hr"],"object":["object","Insert HTML","ze_obj"],"code":["code","Insert Code","ze_icode"],"quote":["quote","Insert Quote","ze_quote"]};ZE_Init.toolbarOrderGenerate=function(obj){var _185e=[],_185f,_1860,key,_1862;for(key in obj){if(obj.hasOwnProperty(key)){_1860=obj[key];_185f=[];for(_1862 in _1860){if(_1860.hasOwnProperty(_1862)){_185f.push(ZE_Init.toolbarOrderMapping[_1860[_1862]]);}}_185e.push(_185f);}}return _185e;};ZE_Init.insertOptionsGenerate=function(array){var _1864=[],_1865=array.length,i=0;for(;i<_1865;i++){_1864[i]=ZE_Init.toolbarOrderMapping[array[i]];}return _1864;};var dragging=false;GridCustomize=function(_1867,_1868){this.layoutAreaId=_1867;this.layoutArea=getObj(_1867);this.saveFunc=_1868;this.oMoveLayer=document.createElement("DIV");this.oMoveLayer.style.cursor="move";this.oMoveLayer.style.zIndex="100";this.oHiliteLayer=document.createElement("DIV");this.oHiliteLayer.style.border="1px dashed #F00";this.oHiliteLayer.style.zIndex="99";this.oMoveLayer.style.position=this.oHiliteLayer.style.position="absolute";this.oMoveLayer.style.left=this.oHiliteLayer.style.left="-1000px";this.oMoveLayer.style.top=this.oHiliteLayer.style.top="-1000px";document.body.appendChild(this.oMoveLayer);document.body.appendChild(this.oHiliteLayer);this.oColumns=new Array();this.oColumns=$(this.layoutArea).find("tr[elName=\"section\"]").children();for(var i=0;i<this.oColumns.length;i++){this.oColumnDiv=$(this.oColumns[i]).children();for(var j=0;j<this.oColumnDiv.length;j++){this.oColumnDiv[j].width=(100/this.oColumnDiv.length)+"%";this.oColumnDiv[j].className+=" gridColumn";var oDIV=this.findChild(this.oColumnDiv[j],"DIV");for(var jj=0;jj<oDIV.length;jj++){oDIV[jj].className+=" gridItem";}}}};GridCustomize.prototype.regEventByAttrib=function(_186d,_186e){for(var i=0;i<this.layoutArea.rows.length;i++){var oTD=this.layoutArea.rows[i].getElementsByTagName(_186d);for(var k=0;k<oTD.length;k++){if(oTD[k].getAttribute(_186e)!=null||oTD[k].getAttribute(_186e)!=""){this.registerEventForEl(oTD[k]);}}}};GridCustomize.prototype.regEventByClass=function(_1872,_1873){for(var i=0;i<this.layoutArea.rows.length;i++){var oTD=this.layoutArea.rows[i].getElementsByTagName(_1872);for(var k=0;k<oTD.length;k++){if(oTD[k].className!=null&&(oTD[k].className.indexOf(_1873)>-1)){this.registerEventForEl(oTD[k]);}}}};GridCustomize.prototype.registerEventForEl=function(_1877){_1877["dragLis"]=this;_1877.onmousedown=function(ev){this["dragLis"].captureLayer(ev);};_1877.style.cursor="move";};GridCustomize.prototype.captureLayer=function(ev){if(browser_ie){srcElement=window.event.srcElement;}else{if(browser_nn4||browser_nn6){srcElement=ev.target;}}if(typeof srcElement!="undefined"&&srcElement!=null){var _187a=srcElement;var _187b=new Array();cnt=0;while(_187a){if(_187a.className&&_187a.className.indexOf("field-outer-container")!=-1){this.oCurrLayer=_187a;break;}_187a=_187a.parentNode;}this.oMoveLayer.className="field-outer-container-drag";this.oMoveLayer.style.width=this.oCurrLayer.offsetWidth+-2+"px";this.oMoveLayer.style.marginLeft="0px";if(this.oCurrLayer.parentNode.id.indexOf("formcontainer1")!=-1){this.oMoveLayer.style.marginLeft="1px";}this.oMoveLayer.style.left=findPosX(this.oCurrLayer)+"px";this.oMoveLayer.style.top=findPosY(this.oCurrLayer)+"px";this.oMoveLayer.innerHTML=this.oCurrLayer.innerHTML;this.oMoveLayer.className="field-outer-container-drag";this.showHiliteLayer(this.oCurrLayer);this.oCurrLayer.style.visibility="hidden";if(browser_ie){this.diffLeft=window.event.clientX+document.body.scrollLeft-parseInt(this.oMoveLayer.style.left);this.diffTop=window.event.clientY+document.body.scrollTop-parseInt(this.oMoveLayer.style.top);}else{if(browser_nn4||browser_nn6){this.diffLeft=ev.pageX-parseInt(this.oMoveLayer.style.left);this.diffTop=ev.pageY-parseInt(this.oMoveLayer.style.top);}}document["dragLis"]=this;document.onmousemove=function(ev){document["dragLis"].moveLayer(ev);};document.onmouseup=function(ev){document["dragLis"].releaseLayer(ev);};}};GridCustomize.prototype.moveLayer=function(ev){dragging=true;clearTextSelection();$("#insertfields").css({"position":"static"});$("#insertfieldsDummyDiv").css({"display":"none"});if(browser_ie){if(window.event.clientY+window.screenTop+50>=window.screen.height-50){document.body.scrollTop+=20;}else{if(window.event.clientY<=50){document.body.scrollTop-=20;}}var _187f=(window.event.clientX-this.diffLeft)+document.body.scrollLeft;var _1880=(window.event.clientY-this.diffTop)+document.body.scrollTop;}else{if(browser_nn4||browser_nn6){var _187f=(ev.pageX-this.diffLeft);var _1880=(ev.pageY-this.diffTop);}}var rows=formcontainerarr;var _1882=new Array();var _1883=new Array();var _1884=new Array();for(var i=0;i<rows.length;i++){var tdid=docid(rows[i]+"formcontainer");var trid=tdid.parentNode;var _1888=findPosY(trid);var iend=_1888+tdid.offsetHeight;_1882[i]=_1888;_1883[i]=iend;_1884[i]=trid;}this.oMoveLayer.style.left=_187f+"px";this.oMoveLayer.style.top=_1880+"px";var _188a=_187f+(parseInt(this.oMoveLayer.style.width)/2);var _188b=_1880+(parseInt(this.oMoveLayer.style.height)/2);var _188c="";for(var i=0;i<_1882.length;i++){if(_1880>_1882[i]&&_1880<_1883[i]){_188c=_1884[i];break;}}if(_188c==""){this.oColumns=this.oCurrLayer.parentNode.parentNode.getElementsByTagName("DIV");}else{this.oColumns=this.findChild(_188c,"DIV");}for(var i=0;i<this.oColumns.length;i++){if(_188a>=findPosX(this.oColumns[i])&&_188a<=(findPosX(this.oColumns[i])+this.oColumns[i].offsetWidth)){var _188d=this.oColumns[i];break;}}if(_188d!=null&&typeof _188d!="undefined"){var _188e=new Array();_188e=this.findChild(_188d,"DIV");for(var j=0;j<_188e.length;j++){if(_1880<=findPosY(_188e[j])){var _1890=_188e[j];break;}}oNewLayer=this.oCurrLayer;if(_1890){_1890.parentNode.insertBefore(this.oCurrLayer,_1890);}else{_188d.appendChild(this.oCurrLayer);}this.oCurrLayer=oNewLayer;this.showHiliteLayer(oNewLayer);}};GridCustomize.prototype.releaseLayer=function(){document.onmousemove=null;document.onmouseup=null;this.transXPoints=new Array();this.transYPoints=new Array();this.drawPath(parseInt(this.oMoveLayer.style.left),parseInt(this.oMoveLayer.style.top),findPosX(this.oCurrLayer),findPosY(this.oCurrLayer));this.transPitStops=(this.transXPoints.length>10)?(this.transXPoints.length-1)/10:1;this.transPosCnt=0;var _1891="document['dragLis'].positionLayer();";this.transIntervalId=window.setInterval(_1891,15);var ypos=findPosY(this.oCurrLayer);var wst=$(window).scrollTop();var _1894=ypos-wst;if(_1894<=232){var diff=232-_1894;$(window).scrollTop(wst-diff);}var st=$(window).scrollTop();if(st>=262){$("#insertfields").css({"position":"fixed"});$("#insertfieldsDummyDiv").css({"display":"block"});}dragging=false;};GridCustomize.prototype.positionLayer=function(){if(this.transPosCnt<this.transXPoints.length-1){this.oMoveLayer.style.left=this.transXPoints[this.transPosCnt]+"px";this.oMoveLayer.style.top=this.transYPoints[this.transPosCnt]+"px";this.transPosCnt=this.transPosCnt+Math.round(this.transPitStops);}else{this.transPosCnt=0;this.transXPoints=this.transYPoints=null;window.clearInterval(this.transIntervalId);this.oMoveLayer.style.left=this.oMoveLayer.style.top="-1000px";this.oHiliteLayer.style.left=this.oHiliteLayer.style.top="-1000px";this.oCurrLayer.style.visibility="";this.oMoveLayer.innerHTML="";parent[this["saveFunc"]](this);}};GridCustomize.prototype.showHiliteLayer=function(_1897){this.oHiliteLayer.style.width="418px";this.oHiliteLayer.style.height="40px";this.oHiliteLayer.style.left=findPosX(_1897)+"px";this.oHiliteLayer.style.marginLeft="1px";this.oHiliteLayer.style.top=findPosY(_1897)+"px";this.oHiliteLayer.style.borderColor="#ffb628";};GridCustomize.prototype.drawPath=function(x1,y1,x2,y2){var dist=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));var dx=(x2-x1)/dist;var dy=(y2-y1)/dist;for(var i=0;i<dist;i++){this.transXPoints[i]=x1+=dx;this.transYPoints[i]=y1+=dy;}};GridCustomize.prototype.findChild=function(_18a0,_18a1){if(_18a0!=null&&typeof _18a0.childNodes!="undefined"){var _18a2=new Array();for(var i=0,k=0;i<_18a0.childNodes.length;i++){if(browser_ie){if(_18a0.childNodes[i].tagName==_18a1){_18a2[k]=_18a0.childNodes[i];k++;}}else{if(browser_nn4||browser_nn6){if(_18a0.childNodes.item(i).tagName==_18a1){_18a2[k]=_18a0.childNodes[i];k++;}}}}return _18a2;}};GridCustomize.prototype.getCurrentOrderAsString=function(){var _18a5="";for(var i=0;i<this.oColumns.length;i++){var oDIV=this.findChild(this.oColumns[i],"DIV");_18a5+="|";for(var j=0;j<oDIV.length;j++){_18a5+=oDIV[j].id;if(j!=oDIV.length-1){_18a5+="_";}}}return _18a5;};GridCustomize.prototype.getCurrentOrderAsMatrix=function(_18a9){var _18aa=new Array();for(var i=0;i<this.oColumns.length;i++){_18aa[i]=new Array();var oDIV=this.findChild(this.oColumns[i],"DIV");for(var j=0;j<oDIV.length;j++){_18aa[i][j]=oDIV[j].getAttribute(_18a9);}}return _18aa;};function WmsContactImpl(){}WmsContactImpl.handlePresence=function(zuid,uname,dname,scode,_18b2){setTimeout(function(){try{var divid="div_wms_empsrch_"+zuid;var obj=document.getElementById(divid);if(obj!=null){var html=setChatStatus(scode,uname,zuid,obj);if(html.length>0){obj.innerHTML=html;$(obj).show();}else{$(obj).hide();}}var imgId="chatStatusImg_"+zuid;var _18b7=$("[id=\""+imgId+"\"]");for(var i=0;i<_18b7.length;i++){if(_18b7[i]!=null){var html=setChatImgStatus(scode,uname,zuid,_18b7[i]);_18b7[i].innerHTML=html;}}}catch(e){}},100);};WmsContactImpl.handleAddressBook=function(){};WmsContactImpl.handleInvite=function(zuid,uname,dname){};WmsContactImpl.notifyInvite=function(zuid,uname,dname){};WmsContactImpl.handleAccept=function(zuid,uname,dname,scode,_18c3){};WmsContactImpl.notifyAccept=function(zuid,uname,dname,scode,_18c8){};WmsContactImpl.handleReject=function(zuid,uname,dname){};WmsContactImpl.notifyRemove=function(zuid,uname,dname){};WmsContactImpl.handleDelete=function(zuid,uname,dname){};WmsContactImpl.handleContactUpdated=function(){};WmsContactImpl.handleStatusMessage=function(_18d2,scode){};WmsContactImpl.handeAllStatusMessages=function(){};WmsContactImpl.handleHideContactsUI=function(){};WmsContactImpl.handleShowContactsUI=function(){};WmsContactImpl.handleGetContacts=function(){setTimeout("employee_status()",100);};WmsContactImpl.handleMPReject=function(_18d4,_18d5,_18d6){};WmsContactImpl.handleMPAccept=function(_18d7,_18d8,_18d9){};WmsContactImpl.handleMPDelete=function(_18da,_18db,_18dc){};WmsContactImpl.handleMPAdd=function(_18dd,_18de,_18df){};WmsContactImpl.handleMPInvite=function(_18e0,_18e1,_18e2){};WmsContactImpl.handleLogin=function(_18e3,_18e4,_18e5,_18e6){};WmsContactImpl.handleLogout=function(_18e7,_18e8,_18e9,_18ea){};WmsContactImpl.handleGetAccounts=function(_18eb){};WmsContactImpl.handleInvitations=function(_18ec){};function employee_status(){if(chatEnable){var _18ed=$(".wmspeoplecontacts");var _18ee=WmsContacts.getZohoContacts();var html="";for(var i=0;i<_18ed.length;i++){var obj=_18ed[i];var _18f2=obj.id.replace("div_wms_empsrch_","").split("_");var zuid=_18f2[0];if(_LOGGEDIN_ZUID==zuid||zuid==""){html="<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td>&nbsp;</td><td>&nbsp;</td></tr></table>";obj.innerHTML=html;continue;}var _18f4="";var smsg="";var event="javascript:;";var _18f7="addcontact";var _18f8="";try{_18f4=_18ee[zuid]["STATUS"];smsg=_18ee[zuid]["STATUSMSG"];_18f8=smsg;html=setChatStatus(_18f4,zuid,zuid,obj);}catch(e){_18f7="addcontact";smsg=i18n.invitetochat;event="WmsContacts.add('zoho','"+zuid+"',_LOGGEDIN_ZUID)";html="<div onclick=\""+event+"\" class=\"imgchat"+_18f7+" fl\">&nbsp;</div><div title=\""+_18f8+"\" onclick=\""+event+"\" class=\"zpinvit\">"+smsg+"</div>";}if(html.length>0){obj.innerHTML=html;}else{$(obj).remove();}}var _18f9=$("[ischat=true]");for(var i=0;i<_18f9.length;i++){zuid=_18f9[i].id.replace("chatStatusImg_","").split("_")[0];if(_LOGGEDIN_ZUID==zuid){continue;}_18f4="";try{_18f4=_18ee[zuid]["STATUS"];html=setChatImgStatus(_18f4,zuid,zuid,_18f9[i]);}catch(e){html="";}_18f9[i].innerHTML=html;}}}function setChatImgStatus(scode,uname,zuid,obj){var event="WebMessanger.chat('"+zuid+"')";var _18ff="";var title="";if(scode==0){_18ff="onGrey";title=i18n.offline;}else{if(scode==1){_18ff="on";title=i18n.online;}else{if(scode==2){}else{if(scode==3){_18ff="off";title=i18n.busy;}else{if(scode==4){_18ff="onNew";title=i18n.idle;}else{_18ff="";}}}}}var html="";if(_18ff!=""){html="<img src=\"/people/images/spacer.gif\" onclick=\""+event+"\" title=\""+title+"\" class=\""+_18ff+"\"/>";}return html;}function setChatStatus(scode,uname,zuid,obj){var html="";var _1907="";var smsg="";var event="";var _190a="";if(scode==-2||scode==-4||scode==-5){_1907="addcontact";smsg=i18n.invitetochat;event="WmsContacts.add('zoho','"+uname+"',_LOGGEDIN_ZUID)";_190a=i18n.invitetochat;html="<div onclick=\""+event+"\" class=\"imgchat"+_1907+" fl\">&nbsp;</div><div onclick=\""+event+"\" class=\"zpinvit\" title=\""+_190a+"\">"+smsg+"</div>";}else{if(scode==-1){smsg=i18n.pendinginvite;_190a=i18n.pendinginvitetooltip;html="<div class=\"zpinvit\" style=\"cursor:default;color:#666;\" title=\""+_190a+"\">"+smsg+"</div>";}}return html;}var oDialog,doc,srcEl,closeOnEscKey=true,closeOnBodyClick=false,needIframe=true,iframeIEHack;var dialogProperties=new Array("position","top","left","height","width","srcElement","modal","draggable","title","closeButton","closeOnEscKey","transitionType","transitionInterval","closeOnBodyClick","needIframe");var oCloseClBk=null;function showDialog(_190b,_190c,_190d,_190e){oCloseClBk=_190e;if(typeof (_190c)=="undefined"){var _190c="position=absmiddle";}_190c=_190c.split(",");var _190f;for(var i=0;i<dialogProperties.length;i++){_190f=false;for(var j=0;j<_190c.length;j++){if(_190c[j].indexOf(dialogProperties[i])>=0){_190f=true;break;}}self["dialog_"+dialogProperties[i]]=(_190f)?_190c[j].substr(_190c[j].indexOf("=")+1,_190c[j].length).trim():"undefined";}if(document.getElementById("_DIALOG_LAYER")!=null&&oDialog){oDialog.parentNode.removeChild(oDialog);}oDialog=document.createElement("DIV");oDialog.id="_DIALOG_LAYER";document.body.appendChild(oDialog);var _190b="<div id=\"_DIALOG_CONTENT\">"+_190b+"</div>";var box="<table class=\"DialogBox\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td class=\"boxTL\">&nbsp;</td>";if(dialog_draggable!="undefined"&&dialog_draggable=="no"){box+="<td class=\"boxHeader\">";}else{box+="<td class=\"boxHeader drag\" onMouseDown=\"captureDialog(event)\">";}if(dialog_title!="undefined"){if(dialog_title.charAt(0)=="'"&&dialog_title.charAt(dialog_title.length-1)=="'"){dialog_title=dialog_title.substr(1,dialog_title.length-2);}if(dialog_title.trim().length==0){dialog_title="&nbsp;";}}else{dialog_title="&nbsp;";}box+=dialog_title+"</td><td class=\"boxCtrlButtonPane\">";if(dialog_closeButton!="undefined"&&dialog_closeButton=="no"){box+="&nbsp;</td>";}else{box+="<input type=\"button\" class=\"closeButton\" onClick=\"closeDialog()\"></td>";}box+="<td class=\"boxTR\">&nbsp;</td></tr><tr><td colspan=\"4\" class=\"boxContent\">"+_190b+"</td></tr>";box+="<tr><td class=\"boxBL\"></td><td class=\"boxBC\" colspan=\"2\"></td><td class=\"boxBR\"></td></tr></table>";oDialog.style.display="block";var _1913=true;if(dialog_closeButton!="undefined"){if(dialog_title=="&nbsp;"&&dialog_closeButton=="no"){_1913=false;}}if(_1913){oDialog.innerHTML="<table cellpadding='0' cellspacing='0'><tr><td height='100%' style='display:block'>"+box+"</td></tr></table>";}else{oDialog.innerHTML="<table cellpadding='0' cellspacing='0'><tr><td height='100%' style='display:block'>"+_190b+"</td></tr></table>";}oDialog.style.position="absolute";oDialog.style.left="-1000px";oDialog.style.top="-1000px";oDialog.style.zIndex="9999";var _1914=oDialog.getElementsByTagName("SCRIPT");for(var i=0;i<_1914.length;i++){var _1915=document.createElement("SCRIPT");_1915.type="text/javascript";_1915.language="javascript";if(_1914[i].src!=""){_1915.src=_1914[i].src;}_1915.text=_1914[i].text;if(typeof document.getElementsByTagName("HEAD")[0]=="undefined"){document.createElement("HEAD").appendChild(_1915);}else{document.getElementsByTagName("HEAD")[0].appendChild(_1915);}}if(browser_opera){var temp=_190b;var _1917=oDialog.getElementsByTagName("STYLE");for(var i=0;i<_1917.length;i++){_1917[i].innerHTML=temp.substring(temp.indexOf("<style>")+7,temp.indexOf("</style>")-1);temp=temp.substring(temp.indexOf("</style>")+8,temp.length);}}if(dialog_width!="undefined"){if(browser_ie){oDialog.childNodes[0].style.width=parseInt(dialog_width)+"px";}else{if(browser_nn4||browser_nn6){oDialog.childNodes.item(0).style.width=parseInt(dialog_width)+"px";}}}if(dialog_height!="undefined"){if(browser_ie){oDialog.childNodes[0].style.height=parseInt(dialog_height)+"px";}else{if(browser_nn4||browser_nn6){oDialog.childNodes.item(0).style.height=parseInt(dialog_height)+"px";}}}oDialogContent=getObj("_DIALOG_CONTENT");var left=0,top=0;if(browser_opera){if(dialog_width!="undefined"){oDialogContent.style.width=parseInt(dialog_width)+"px";}else{oDialogContent.style.width=oDialogContent.offsetWidth+"px";oDialog.style.width=oDialogContent.offsetWidth+"px";}}if(browser_nn4||browser_nn6){if(dialog_width!="undefined"){oDialogContent.style.width=parseInt(dialog_width)+"px";}else{oDialogContent.style.width=(oDialogContent.offsetWidth+20)+"px";}}if(dialog_height!="undefined"){if(browser_ie&&(parseInt(dialog_height)<oDialogContent.offsetHeight)){left=-15;}oDialogContent.style.height=parseInt(dialog_height)+"px";}var width=oDialog.offsetWidth;var _191b=oDialog.offsetHeight;doc=findDocDim();if(dialog_closeOnEscKey!="undefined"&&dialog_closeOnEscKey=="no"){closeOnEscKey=false;}else{closeOnEscKey=true;}if(dialog_closeOnBodyClick!="undefined"&&dialog_closeOnBodyClick=="yes"){closeOnBodyClick=true;}else{closeOnBodyClick=false;}if(dialog_needIframe!="undefined"&&dialog_needIframe=="no"){needIframe=false;}else{needIframe=true;}if(!browser_opera){if(dialog_modal!="undefined"&&dialog_modal=="yes"){freezeBackground();}else{if(document.getElementById("FreezeLayer")!=null){document.body.removeChild(document.getElementById("FreezeLayer"));}}}if(dialog_left!="undefined"){left+=parseInt(dialog_left);}if(dialog_top!="undefined"){top+=parseInt(dialog_top);}var _191c=(document.body.scrollLeft>0)?15:0;var _191d=(document.body.scrollTop>0)?15:0;if(dialog_position!="undefined"&&dialog_position=="relative"){if(dialog_srcElement!="undefined"){srcEl=getObj(dialog_srcElement);}else{if(srcEl==null){srcEl=document.body;}}var _191e=(srcEl.offsetWidth)?srcEl.offsetWidth:0;var _191f=(srcEl.offsetHeight)?srcEl.offsetHeight:0;if(findPosX(srcEl)+width>doc.width-_191c){left+=findPosX(srcEl)+_191e-width;}else{left+=findPosX(srcEl);}if(findPosY(srcEl)+_191f+_191b>doc.height-_191d){top+=findPosY(srcEl)-_191b+2;}else{top+=findPosY(srcEl)+_191f+2;}}else{if(dialog_position!="undefined"&&dialog_position=="current"){if(dialog_cursor_left!=null&&dialog_cursor_top!=null){left=dialog_cursor_left;top=dialog_cursor_top;}else{left=top=0;}left=(dialog_cursor_left!=null)?dialog_cursor_left:0;top=(dialog_cursor_top!=null)?dialog_cursor_top:0;if(left+width>doc.width-_191c){left-=width;}if(top+_191b>doc.height-_191d){top-=_191b;}}else{if(dialog_position!="undefined"&&dialog_position=="absolute"){left+=document.body.scrollLeft;top+=document.body.scrollTop;}else{left=(doc.width/2)-(width/2)+document.body.scrollLeft;top=(doc.height/2)-(_191b/2)+document.body.scrollTop;}}}left=(left>0)?left:0;top=(top>0)?top:0;if(dialog_transitionType!="undefined"){if(dialog_transitionInterval=="undefined"){dialog_transitionInterval=10;}Effect.init({type:dialog_transitionType,speed:dialog_transitionInterval,layerId:"_DIALOG_LAYER",layerTop:top,layerLeft:left});Effect.display();}else{oDialog.style.left=parseInt(left)+"px";oDialog.style.top=parseInt(top)+"px";}if(browser_ie&&!browser_opera&&needIframe==true){iframeIEHack=document.createElement("IFRAME");iframeIEHack.scrolling="no";iframeIEHack.frameBorder=0;if(window["CONTEXT_PATH"]!=null){iframeIEHack.src=CONTEXT_PATH+"/framework/html/blank.html";}iframeIEHack.style.position="absolute";iframeIEHack.style.zIndex="999";iframeIEHack.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";if(dialog_modal!="undefined"&&dialog_modal=="yes"){iframeIEHack.style.width=document.getElementById("FreezeLayer").style.width;iframeIEHack.style.top="0px";iframeIEHack.style.left="0px";}else{iframeIEHack.style.width=oDialog.offsetWidth+"px";iframeIEHack.style.height=oDialog.offsetHeight+"px";iframeIEHack.style.top=parseInt(top)+"px";iframeIEHack.style.left=parseInt(left)+"px";}document.body.appendChild(iframeIEHack);}if(_190d!=null&&typeof _190d!="undefined"){_190d();}return oDialog;}var diffLeft=0,diffTop=0;function captureDialog(ev){oDialog.style.cursor="move";if(browser_ie){diffLeft=window.event.clientX+document.body.scrollLeft-parseInt(findPosX(oDialog));diffTop=window.event.clientY+document.body.scrollTop-parseInt(findPosY(oDialog));}else{if(browser_nn4||browser_nn6){diffLeft=ev.pageX-parseInt(findPosX(oDialog));diffTop=ev.pageY-parseInt(findPosY(oDialog));}}document.onmousemove=moveDialog;document.onmouseup=releaseDialog;}function moveDialog(ev){clearTextSelection();if(browser_ie){var left=window.event.clientX+document.body.scrollLeft-diffLeft;var top=window.event.clientY+document.body.scrollTop-diffTop;left=(left>=0)?left:0;top=(top>=0)?top:0;if(document.getElementById("FreezeLayer")!=null||browser_opera||iframeIEHack==null){oDialog.style.left=left+"px";oDialog.style.top=top+"px";}else{oDialog.style.left=iframeIEHack.style.left=left+"px";oDialog.style.top=iframeIEHack.style.top=top+"px";}}else{if(browser_nn4||browser_nn6){oDialog.style.left=((ev.pageX-diffLeft>0)?ev.pageX-diffLeft:0)+"px";oDialog.style.top=((ev.pageY-diffTop>0)?ev.pageY-diffTop:0)+"px";}}}function releaseDialog(){oDialog.style.cursor="default";document.onmousemove=null;document.onmouseup=null;}function closeDialog(_1924){hideAllMenu();if(oDialog!=null&&oDialog.style.display!="none"){oDialog.style.display="none";if(document.getElementById("FreezeLayer")!=null){document.getElementById("FreezeLayer").parentNode.removeChild(document.getElementById("FreezeLayer"));}if(browser_ie&&!browser_opera&&iframeIEHack!=null){document.body.removeChild(iframeIEHack);iframeIEHack=null;}closeOnBodyClick=false;if(oCloseClBk&&oCloseClBk!=null&&oCloseClBk!="undefined"){oCloseClBk();}if(typeof _1924!="undefined"&&_1924.srcElement=="undefined"){_1924();}}}document.onkeydown=function(ev){if(browser_ie){var _1926=window.event.keyCode;}else{if(browser_nn4||browser_nn6){var _1926=ev.which;}}if(_1926==27&&closeOnEscKey==true){if(notesOpen){clDescPop();notesOpen=false;}else{if(oDialog!=null&&oDialog.style.display!="none"){var _1927=$("form[id=customizeTabular]",oDialogContent);if(_1927.length>0){closeTabulardialog();}else{closeDialog();}}}}};var dialog_cursor_left,dialog_cursor_top;document.onmousedown=function(ev){if(browser_ie){srcEl=window.event.srcElement;}else{if(browser_nn4||browser_nn6){srcEl=ev.target;}}var _1929=getCursorPos(ev);var x=_1929.x;var y=_1929.y;dialog_cursor_left=x;dialog_cursor_top=y;if(typeof closeOnBodyClick!="undefined"&&closeOnBodyClick==true&&oDialog!=null&&oDialog.style.visibility!="hidden"){if((x<findPosX(oDialog)||x>=findPosX(oDialog)+oDialog.offsetWidth)||(y<findPosY(oDialog)||y>=findPosY(oDialog)+oDialog.offsetHeight)){closeDialog();}}};function getCursorPos(ev){if(browser_ie){var x=window.event.clientX+document.body.scrollLeft;var y=window.event.clientY+document.body.scrollTop;}else{if(browser_nn6){var x=ev.pageX;var y=ev.pageY;}}return {x:x,y:y};}var scrollEnd=0,cnt=0;function scrollPage(){if(cnt<=scrollEnd){document.body.scrollTop+=10;cnt+=10;}else{scrollEnd=cnt=0;clearInterval(scrollInterval);}}function showURLInDialog(url,_1930,_1931,_1932){callBack=function(_1933){var _1934=showDialog(_1933.responseText,_1930,_1931);if(_1932){_1934.setAttribute("opener",_1932);}};AjaxAPI.sendRequest({METHOD:"GET",URL:url,ONSUCCESSFUNC:callBack});}function closeParentDialog(_1935,_1936){closeDialog();if(_1936){var _1937=DOMUtils.getParentWithAttr(_1935,"opener");AjaxAPI.refreshOpener({OPENER:_1937.getAttribute("opener")});}}var browser_opera=false;var browser_ie=false;var browser_nn6=false;var browser_nn4=false;var browser_chrome=false;if(document.all){if(window.navigator.appName.toUpperCase=="OPERA"){browser_opera=true;}else{browser_ie=true;}}else{if(document.layers||(!document.all&&document.getElementById)){browser_nn6=true;}else{if(document.layers){browser_nn4=true;}}}var browser_chrome=/chrome/.test(navigator.userAgent.toLowerCase());function findPosX(obj){var _1939=0;if(document.getElementById||document.all){_1939+=document.body.offsetLeft;while(obj.offsetParent){_1939+=obj.offsetLeft;obj=obj.offsetParent;}}else{if(document.layers){_1939+=obj.x;}}return _1939;}function findPosY(obj){var _193b=0;if(document.getElementById||document.all){_193b+=document.body.offsetTop;while(obj.offsetParent){_193b+=obj.offsetTop;obj=obj.offsetParent;}}else{if(document.layers){_193b+=obj.y;}}return _193b;}function findDocDim(){if(browser_ie){return {width:document.body.offsetWidth+document.body.scrollLeft,height:document.body.offsetHeight+document.body.scrollTop};}else{if(browser_nn4||browser_nn6){return {width:window.innerWidth+document.body.scrollLeft,height:window.innerHeight+document.body.scrollTop};}}}var scrX=0,scrY=0,pgeX=0,pgeY=0,srcElement;if(browser_ie){document.attachEvent("onclick",popUpListener);}else{if(browser_nn4||browser_nn6){document.addEventListener("click",popUpListener,true);}}function popUpListener(e){if(browser_ie){srcElement=window.event.srcElement;}else{if(browser_nn4||browser_nn6){srcElement=e.target;scrX=e.screenX;scrY=e.screenY;pgeX=e.pageX;pgeY=e.pageY;}}}function getObj(n,d){var p,i,x;if(!d){d=document;}if((p=n.indexOf("?"))>0&&parent.frames.length){d=parent.frames[n.substring(p+1)].document;n=n.substring(0,p);}if(!(x=d[n])&&d.all){x=d.all[n];}for(i=0;!x&&i<d.forms.length;i++){x=d.forms[i][n];}for(i=0;!x&&d.layers&&i<d.layers.length;i++){x=getObj(n,d.layers[i].document);}if(!x&&d.getElementById){x=d.getElementById(n);}return x;}String.prototype.trim=function(){var x=this;x=x.replace(/^\s*(.*)/,"$1");x=x.replace(/(.*?)\s*$/,"$1");return x;};function clearTextSelection(){if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.getSelection){var s=document.getSelection();if(s.collapse){s.collapse(true);}if(s.removeAllRanges){s.removeAllRanges();}}else{if(document.selection){document.selection.empty();}}}}function docid(id){return document.getElementById(id);}function getA(elem,key){return elem.getAttribute(key);}function setA(elem,key,value){return elem.setAttribute(key,value);}function getBool(bool){if(bool=="true"){return true;}return false;}var celldisp="block";var rowdisp="block";var tabledisp="block";if(!document.all){celldisp="table-cell";rowdisp="table-row";tabledisp="table";}var samplef=null;function getForm(_194b,keys,vals,_194e){if(samplef==null){samplef=document.createElement("form");samplef.method="post";document.body.appendChild(samplef);}if(_194e&&_194e!=null&&(_194e.toLowerCase()=="get"||_194e.toLowerCase()=="post")){samplef.method=_194e.toLowerCase();}else{samplef.method="post";}var elems=samplef.elements;for(var i=elems.length-1;i>=0;i--){samplef.removeChild(elems.item(i));}samplef.action=_194b;for(var i=0;i<keys.length;i++){samplef.appendChild(getInp(keys[i],vals[i]));}return samplef;}function getInp(key,val){var elem=document.createElement("input");elem.type="hidden";elem.setAttribute("name",key);elem.setAttribute("value",val);return elem;}if(!document.all){HTMLElement.prototype.__defineGetter__("outerHTML",function(){var span=document.createElement("span");span.appendChild(this.cloneNode(true));return span.innerHTML;});HTMLElement.prototype.__defineSetter__("outerHTML",function(html){var range=document.createRange();this.innerHTML=html;range.selectNodeContents(this);var frag=range.extractContents();this.parentNode.insertBefore(frag,this);this.parentNode.removeChild(this);});}function trimString(str){if(str!=null){str=str.replace(/^\s+/g,"");str=str.replace(/\s+$/g,"");}return str;}var diffTaskDefLeft=0;var diffTaskDefTop=0;var TaskDefDialog=null;function setCurrentTaskDef(t){TaskDefDialog=t;}function captureTaskDef(ev){TaskDefDialog.style.cursor="move";if(browser_ie){diffTaskDefLeft=window.event.clientX+document.body.scrollLeft-parseInt(findPosX(TaskDefDialog));diffTaskDefTop=window.event.clientY+document.body.scrollTop-parseInt(findPosY(TaskDefDialog));}else{if(browser_nn4||browser_nn6){diffTaskDefLeft=ev.pageX-parseInt(findPosX(TaskDefDialog));diffTaskDefTop=ev.pageY-parseInt(findPosY(TaskDefDialog));}}document.onmousemove=moveTaskDef;document.onmouseup=releaseTaskDef;}function moveTaskDef(ev){clearTextSelection();if(browser_ie){if(document.getElementById("FreezeLayer")!=null||browser_opera){TaskDefDialog.style.left=(window.event.clientX+document.body.scrollLeft-diffTaskDefLeft)+"px";TaskDefDialog.style.top=(window.event.clientY+document.body.scrollTop-diffTaskDefTop)+"px";}else{TaskDefDialog.style.left=(window.event.clientX+document.body.scrollLeft-diffTaskDefLeft)+"px";TaskDefDialog.style.top=(window.event.clientY+document.body.scrollTop-diffTaskDefTop)+"px";}}else{if(browser_nn4||browser_nn6){TaskDefDialog.style.left=(ev.pageX-diffTaskDefLeft)+"px";TaskDefDialog.style.top=(ev.pageY-diffTaskDefTop)+"px";}}}function closePopUp(ev){var _195d=true;if(browser_ie){var _195e=window.event.keyCode;}else{if(browser_nn4||browser_nn6){var _195e=ev.which;}}if(_195e==27){clDescPop();}}function releaseTaskDef(){TaskDefDialog.style.cursor="default";document.onmousemove=null;document.onmouseup=null;}function removeAllChildNodes(elem){while(elem.hasChildNodes()){elem.removeChild(elem.firstChild);}}function equalsIgnoreCase(str1,str2){if(str2&&str2){if(str1.toLowerCase()==str2.toLowerCase()){return true;}}return false;}function validateNumber(str,_1963){var _1964=/^[0-9]*$/;var err="";if(str==""||str==null||!_1964.test(str)){var msg=i18n.entervalidnumberforfield;err=msg.replace("$fieldName",_1963);}return err;}function replaceParams(msg,args){if(typeof args!="undefined"&&args.length>0){for(i=0;i<args.length;i++){msg=replace(msg,"["+i+"]",args[i]);}}return msg;}function replace(_1969,text,by){var _196c=_1969.length,_196d=text.length;if((_196c==0)||(_196d==0)){return _1969;}var i=_1969.indexOf(text);if((!i)&&(text!=_1969.substring(0,_196d))){return _1969;}if(i==-1){return _1969;}var _196f=_1969.substring(0,i)+by;if(i+_196d<_196c){_196f+=replace(_1969.substring(i+_196d,_196c),text,by);}return _196f;}var PeoplePayment={freePlanId:1,standardPlanId:2,params:{"action":"managePlan",planNo:this.standardPlanId,addOnUser:0,paymentStatus:"",amount:0},amountParam:{"action":"calculateAmount",planNo:this.standardPlanId,addOnUser:0,profileid:"",payPeriod:"MONT"},REGISTERELEMENTS:function(){this.params[csrfParamName]=csrfToken;this.amountParam[csrfParamName]=csrfToken;var _1970=$("#"+Layout.containerid);var _1971=$(_1970).find("tr#zp_currentPayment");var _1972=parseInt(paymentDetailsMap["EXTRAUSERCOUNT"]);$(_1970).find("*[zp_action]").each(function(){var _1973=$(this).attr("zp_action");switch(_1973){case "zp_homepage":case "zp_planpage":case "zp_downgradepage":$(this).click(function(){if(_1973=="zp_planpage"){PeoplePayment.amountParam["planNo"]=$(this).parent().attr("planno");PeoplePayment.params["planNo"]=$(this).parent().attr("planno");PeoplePayment.params["paymentStatus"]="UPGRADE";PeoplePayment.FETCHAMOUNTFROMSTORE(_1970,this,_1971,_1972);}PeoplePayment.SHOWMEHIDESIBILINGS($(_1970).find("#"+_1973));});break;case "zp_userDetailsUPGRADE":case "zp_userDetailsDOWNGRADE":case "zp_payperiod":$(this).change(function(){PeoplePayment.FETCHAMOUNTFROMSTORE(_1970,this,_1971,_1972);});break;case "zp_manageplan":$(this).click(function(){if(paymentDetailsMap.isFreeToPaid){var _1974=$(_1970).find("div#zp_storeIFrame");PeoplePayment.SHOWMEHIDESIBILINGS(_1974);$(_1974).children("iframe").attr("src",PeoplePayment.CONSTRUCTSTOREURL($(_1974).children("input[name=cardPageUrl]").val()));}else{if(PeoplePayment.VALIDATEPAYMENTPARAMS(_1972)){$(this).attr("disabled","disabled");$.post("/people/peoplePaymentProcess.do",PeoplePayment.params,function(data){var _1976=JSON.parse(data);if(_1976.hasOwnProperty("Success")){window.location.href="/people/#subscription/plandetails";}else{if(_1976.hasOwnProperty("Success")){alert(_1976["Error"]);$(this).removeAttribute("disabled");}}});}}});break;case "zp_changecard":var _1977=$(_1970).find("div#zp_storeIFrame");$(this).click(function(){PeoplePayment.SHOWMEHIDESIBILINGS(_1977);$(_1977).children("iframe").attr("src",$(_1977).children("input[name=changeCardUrl]").val());});break;case "zp_downgradetofreeplan":$(this).click(function(){var _1978="planNo="+PeoplePayment.freePlanId+"&action=downgradeToFree&paymentStatus=DOWNGRADE&reasonToDowngrade="+$("#zp_downgradereason").val()+"&"+csrfParamName+"="+csrfToken;$(this).attr("disabled","disabled");$.post("/people/peoplePaymentProcess.do",_1978,function(data){var _197a=JSON.parse(data);if(_197a.hasOwnProperty("Success")){window.location.href="/people/#subscription/plandetails";}else{if(_197a.hasOwnProperty("Success")){alert(_197a["Error"]);$(this).removeAttribute("disabled");}}});});break;case "zp_paymentaction":var _197b=$(_1970).find("div[zp_action=zp_textDiv] em");$(this).click(function(){var _197c=$(this).children(":checked").val();PeoplePayment.params["paymentStatus"]=_197c;PeoplePayment.FETCHAMOUNTFROMSTORE(_1970,this,_1971,_1972);$(_1970).find("select[zp_action=zp_userDetails*]");if(_197c=="DOWNGRADE"){$(_1970).find("#discountSpan").hide();$(_197b).html(" "+i18n.paymentdowngradeusermsg);$(_1970).find("select[zp_action=zp_userDetailsUPGRADE]").hide();$(_1970).find("select[zp_action=zp_userDetailsDOWNGRADE]").show();}else{$(_1970).find("#discountSpan").show();$(_197b).html(" "+i18n.paymentaddusermsg);$(_1970).find("select[zp_action=zp_userDetailsUPGRADE]").show();$(_1970).find("select[zp_action=zp_userDetailsDOWNGRADE]").hide();}});break;case "zp_offlinemessage":$(this).click(function(){freezeBackground();$(_1970).find("div#zp_offlinemessage").show();});break;}});},CONSTRUCTSTOREURL:function(url){url+="&PLANID="+paymentDetailsMap[this.params["planNo"]];if(this.params["addOnUser"]>0){url+="&AddOnID="+paymentDetailsMap["EXTRAUSERADDONID"]+"&AddOnCount="+this.params["addOnUser"];}if(this.amountParam["payPeriod"]=="MONT"){url+="&PAYPERIOD=1";}else{if(this.amountParam["payPeriod"]=="YEAR"){url+="&PAYPERIOD=4";}}return url;},FETCHAMOUNTFROMSTORE:function(_197e,ele,_1980,_1981){var _1982=parseInt($(_197e).find("select[zp_action=zp_userDetails"+this.params["paymentStatus"]+"]").val());if(paymentDetailsMap.isFreeToPaid){_1982=_1982-10;this.amountParam["payPeriod"]=$(_197e).find("select[zp_action=zp_payperiod]").val();this.amountParam["addOnUser"]=_1982;}else{if(this.params["paymentStatus"]=="DOWNGRADE"){this.amountParam["addOnUser"]=_1981-_1982;}else{this.amountParam["addOnUser"]=_1981+_1982;}}this.params["addOnUser"]=_1982;if($(ele).attr("zp_action").indexOf("zp_userDetails")!=-1){$(_1980).siblings("tr#zp_userDetails").children("td.icen").html(_1982);}else{if($(ele).attr("zp_action")=="zp_payperiod"){$(_1980).find("span#discountSpan").toggle();}}$.post("/people/peoplePaymentProcess.do",this.amountParam,function(data){var _1984=JSON.parse(data);if(paymentDetailsMap.isFreeToPaid){$(_1980).find("td.irgt em").html(_1984["TOTALAMOUNT"]);}else{$(_1980).find("td.irgt em").html(_1984["CURRENTAMOUNT"]);var _1985=JSON.parse(data)["TOTALAMOUNT"];PeoplePayment.params["amount"]=_1985;$(_1980).siblings("tr#zp_nextPayment").find("td.irgt em").html(_1985);}});},VALIDATEPAYMENTPARAMS:function(_1986){var _1987=parseInt(this.params["addOnUser"]);if(_1987<1){alert(i18n.paymentzerousermsg);return false;}else{if(_1987>_1986&&this.params["paymentStatus"]=="DOWNGRADE"){var msg=i18n.paymentzerousermsg;msg.replace("$dbuser",_1986);alert(msg);return false;}}return true;},SHOWMEHIDESIBILINGS:function(ele){$(ele).show();$(ele).siblings().hide();},CLOSEPOPUP:function(){$(".newfreezeLayer").remove();$("#"+Layout.containerid).find("div#zp_offlinemessage").hide();}};var NewCalendar={currrentDate:new Date(),curYear:new Date().getFullYear(),curMonth:new Date().getMonth(),curDate:new Date().getDate(),totaldata:false,leaveColors:{"Vacation":"#cccccc","PTO":"#99ccff","Annual":"#9999ff","Unpaid Leave":"#cc99ff","Sick Leave ":"#ff99ff","Personal Leave":"#ff99cc","Compensatory Off":"#ff9999","Other paid Leave":"#ffcc99","On Duty":"#ffff99","FMLA Unpaid Leave":"#99ff99","FMLA Disability,Unpaid Leave":"#99ffff","others":"#c0c0c0"},currentid:null,callbackfn:null,weekfromdate:new Date(),weektodate:new Date(),monthfromdate:new Date(),monthtodate:new Date(),daydate:null,tmpMonth:null,tmpYear:null,leaveErecNo:null,setCurrentDate:function(year,month,date){this.currrentDate.setFullYear(year,month,date);},getCurrentDate:function(){this.setCurrentDate(curyear,curmonth,curdate);return this.currrentDate;},getFirstDayofMonth:function(year,month){if(year==undefined){year=this.currrentDate.getFullYear();}if(month==undefined){month=this.currrentDate.getMonth();}return new Date(year,month,1).getDay();},daysInMonth:function(year,month){if(year==undefined){year=this.currrentDate.getFullYear();}if(month==undefined){month=this.currrentDate.getMonth();}return new Date(year,month+1,0).getDate();},initCalendar:function(year,month,_1993,divid,_1995){if(_1993=="timesheet"){this.totaldata=true;$(".zpcaltotal,.zpcaltxt,.zpcalgtotal,.zpcaltot").show();}else{this.totaldata=false;$(".zpcaltotal,.zpcaltxt,.zpcalgtotal,.zpcaltot").hide();}$("#"+Layout.containerid).find("#"+divid).html($("#calendarcontent").html());this.currentid=$("#"+Layout.containerid);this.callbackfn=_1995;this.constructCalendar(curyear,curmonth);},constructCalendar:function(year,month){this.clearOldvalues();this.curYear=year;this.curMonth=month;var _1998=this.getFirstDayofMonth(year,month);_1998-=weekstarts;if(_1998<0){_1998+=7;}var _1999=this.daysInMonth(year,month);this.currentid.find("#calmonth").html(months[month]+" "+year);var _199a=month;_199a++;var _199b=this.currentid.find(".zpmon");$(_199b[0]).html(year);this.currentid.find(".zpmonsel").toggleClass("zpmon zpmonsel zpmon");$(_199b[_199a]).toggleClass("zpmon zpmon zpmonsel");var _199c=i18n["totalhoursspent"];_199c=_199c.replace("<0>",months[month]+" "+year);this.currentid.find("#caltotmont").html(_199c);var _199d=this.currentid.find("#calbody").find("td.zpcalempty,td.zpcaldays,td.zpcaltoday,td.zpcalweek,td.zpcalholi");var _199e=false;var cal=1;var i=0;for(i=0;i<_199d.length;i++){if(i==_1998&&!_199e){_199e=true;}if(_199e&&cal<=_1999){_199d[i].innerHTML="<div style=\"height: 24px; text-align: right;\"><div class=\"zpcaladd\" title=\""+i18n["hrms.timesheet.addlogtime"]+"\" style=\"float:left;display:none;\" onclick=\"CalendarImpl.logtimeclick(this,event);\" ></div><div style=\"padding-top: 3px; padding-right: 6px;float:right;\">"+cal+"</div></div><div align=\"center\" row=\"1\" style=\"padding-top:35px\"></div>";_199d[i].ldata=cal;cal++;_199d[i].className="zpcaldays";if(this.totaldata){_199d[i].onclick=function(event){};_199d[i].onmouseover=function(event){$(this).find(".zpcaladd").show();};_199d[i].onmouseout=function(event){$(this).find(".zpcaladd").hide();};}if(i==28){$(this.currentid.find("#calbody").children().get(4)).show();}if(i==35){$(this.currentid.find("#calbody").children().get(5)).show();}}else{_199d[i].innerHTML="";_199d[i].className="zpcalempty";if(i==28){$(this.currentid.find("#calbody").children().get(4)).hide();}if(i==35){$(this.currentid.find("#calbody").children().get(5)).hide();}}}var _19a4=this.currentid.find("#calbody").find("tr");var _19a5=Number(weekstarts);var _19a6=Number(workweekfrom);var _19a7=Number(workweekto);var wday=new Array();if(_19a6<_19a7){for(i=_19a6;i<=_19a7;i++){wday.push(i);}}else{for(i=0;i<=_19a7;i++){wday.push(i);}for(i=_19a6;i<=6;i++){wday.push(i);}}if(_19a5>0){for(i=0;i<wday.length;i++){wday[i]-=Number(_19a5);if(wday[i]<0){wday[i]+=7;}}}$.each(_19a4,function(_19a9,data){var _19ab=$(_19a4.get(_19a9)).find("td.zpcaldays,td.zpcaltoday,td.zpcalweek,td.zpcalempty,td.zpcalholi");$.each(_19ab,function(_19ac,data){if(NewCalendar.inArray(_19ac,wday)){if(!$(_19ab.get(_19ac)).hasClass("zpcalempty")){$(_19ab.get(_19ac)).addClass("zpcaldays");}}else{if(!$(_19ab.get(_19ac)).hasClass("zpcalempty")){$(_19ab.get(_19ac)).addClass("zpcalweek");}}});});if(this.callbackfn!=null){eval(this.callbackfn)();}},nextMonth:function(){var month=this.curMonth;var year=this.curYear;if(month==11){month=0;year=year+1;}else{month=month+1;}this.constructCalendar(year,month);},previousMonth:function(){var month=this.curMonth;var year=this.curYear;if(month==0){month=11;year=year-1;}else{month=month-1;}this.constructCalendar(year,month);},populateData:function(_19b2){var _19b3=this.currentid.find("#calbody").find("tr");if(this.totaldata){$.each(_19b3,function(_19b4,data){var _19b6=$(_19b3.get(_19b4)).find("td.zpcaldays,td.zpcaltoday,td.zpcalweek,td.zpcalholi");var _19b7=$(_19b3.get(_19b4)).find("td.zpcaltotal");$.each(_19b6,function(_19b8,data){$(_19b6.get(_19b8)).data("objval","0");var _19ba=$(_19b6.get(_19b8)).children().get(1);$(_19ba).html("");});$(_19b7.get(0)).data("objval","0");});}var _19bb=this.currentid.find("#calbody").find("td.zpcaldays,td.zpcaltoday,td.zpcalweek.td.zpcalholi");$.each(eval(_19b2),function(index,data){if(NewCalendar.totaldata){$(_19bb.get(data.date-1)).data("objval",data.objval);}if(data.type=="1"){$(_19bb.get(data.date-1)).addClass("zpcalholi");$(_19bb.get(data.date-1)).removeClass("zpcaldays");}var _19be=$(_19bb.get(data.date-1)).children().get(1);$(_19be).html(data.txt);});if(this.totaldata){var _19bf=0;$.each(_19b3,function(_19c0,data){var _19c2=$(_19b3.get(_19c0)).find("td.zpcaldays,td.zpcaltoday,td.zpcalweek,td.zpcalholi");var _19c3=$(_19b3.get(_19c0)).find("td.zpcaltotal");var _19c4=0;$.each(_19c2,function(_19c5,data){var ldata=$(_19c2.get(_19c5)).data();if(ldata.objval){_19c4+=Number(ldata.objval);}else{$(_19c2.get(_19c5)).data("objval","");}});_19bf+=_19c4;$(_19c3.get(0)).data("objval",_19c4);$(_19c3.get(0)).html(NewCalendar.minstohrs(_19c4));});var _19c8=this.currentid.find("#calbody").find("td.zpcalgtotal");$(_19c8.get(0)).html(this.minstohrs(_19bf));}},minstohrs:function(_19c9){var mins=_19c9%60;var hrs=(_19c9-mins)/60;hrs=hrs<1?"00":hrs;hrs=hrs>=1&&hrs<10?"0"+hrs:hrs;mins=mins<1?"00":mins;mins=mins>=1&&mins<10?"0"+mins:mins;return hrs+":"+mins;},minstotime:function(_19cc){var mins=_19cc%60;var hrs=(_19cc-mins)/60;var _19cf="am";if(hrs>12){hrs=hrs-12;_19cf="pm";}hrs=hrs<1?"00":hrs;hrs=hrs>=1&&hrs<10?"0"+hrs:hrs;mins=mins<1?"00":mins;mins=mins>=1&&mins<10?"0"+mins:mins;return hrs+":"+mins+" "+_19cf;},minstodecimal:function(_19d0){var mins=_19d0%60;var hrs=(_19d0-mins)/60;return (hrs+(mins/60)).toFixed(2);},clearOldvalues:function(){var _19d3=this.currentid.find("#calbody").find("td.zpcalgtotal,td.zpcaltotal");$.each(_19d3,function(_19d4,data){$(_19d3.get(_19d4)).data("objval","");$(_19d3.get(_19d4)).html("00:00");});var _19d6=this.currentid.find("#calbody").find("td.zpcaldays,td.zpcaltoday,td.zpcalweek,td.zpcalholi");$.each(_19d6,function(_19d7,data){var _19d9=$(_19d6.get(_19d7)).children().get(1);$(_19d9).html("");if($(_19d6.get(_19d7)).hasClass("zpcalholi")){$(_19d6.get(_19d7)).toggleClass("zpcalholi zpcaldays");}});},inArray:function(str,arr){for(var key in arr){var _19dd=arr[key];_19dd=_19dd.toString();if(_19dd==str){return true;}}return false;},getCurrentWeek:function(){var _19de=new Date(curyear,curmonth,curdate);var day=_19de.getDay();var date=_19de.getDate();this.weekfromdate=new Date(curyear,curmonth,curdate);this.weekfromdate.setDate(date-day+weekstarts);this.weektodate=new Date(curyear,curmonth,curdate);this.weektodate.setDate(date-day+6+weekstarts);return {"from":this.weekfromdate,"to":this.weektodate};},getNextWeek:function(){this.weektodate.setDate(this.weektodate.getDate()+7);this.weekfromdate.setDate(this.weekfromdate.getDate()+7);return {"from":this.weekfromdate,"to":this.weektodate};},getPreviousWeek:function(){this.weektodate.setDate(this.weektodate.getDate()-7);this.weekfromdate.setDate(this.weekfromdate.getDate()-7);return {"from":this.weekfromdate,"to":this.weektodate};},getCurrentDay:function(){this.daydate=new Date(curyear,curmonth,curdate);return {"day":this.daydate};},getNextDay:function(){if(this.daydate==null){this.daydate=new Date(curyear,curmonth,curdate);}this.daydate.setDate(this.daydate.getDate()+1);return {"day":this.daydate};},getPreviousDay:function(){if(this.daydate==null){this.daydate=new Date(curyear,curmonth,curdate);}this.daydate.setDate(this.daydate.getDate()-1);return {"day":this.daydate};},getCurrentMonth:function(){this.tmpMonth=curmonth;this.tmpYear=curyear;this.monthfromdate=new Date(curyear,curmonth);this.monthfromdate.setDate(1);this.monthtodate=new Date(curyear,curmonth);this.monthtodate.setDate(new Date(curyear,curmonth+1,0).getDate());return {"from":this.monthfromdate,"to":this.monthtodate};},getNextMonth:function(){if(this.tmpMonth==11){this.tmpMonth=0;this.tmpYear=this.tmpYear+1;}else{this.tmpMonth=this.tmpMonth+1;}this.monthfromdate=new Date(this.tmpYear,this.tmpMonth);this.monthfromdate.setDate(1);this.monthtodate=new Date(this.tmpYear,this.tmpMonth);this.monthtodate.setDate(new Date(this.tmpYear,this.tmpMonth+1,0).getDate());return {"from":this.monthfromdate,"to":this.monthtodate};},getPreviousMonth:function(){if(this.tmpMonth==0){this.tmpMonth=11;this.tmpYear=this.tmpYear-1;}else{this.tmpMonth=this.tmpMonth-1;}this.monthfromdate=new Date(this.tmpYear,this.tmpMonth);this.monthfromdate.setDate(1);this.monthtodate=new Date(this.tmpYear,this.tmpMonth);this.monthtodate.setDate(new Date(this.tmpYear,this.tmpMonth+1,0).getDate());return {"from":this.monthfromdate,"to":this.monthtodate};},getLastMonth:function(){this.getCurrentMonth();return this.getPreviousMonth();},getLastWeek:function(){this.getCurrentWeek();return this.getPreviousWeek();},getLastDay:function(){this.getCurrentDay();return this.getPreviousDay();},getCurrentWeekdays:function(){this.getCurrentWeek();var days=new Array();var _19e2=this.weekfromdate;days.push(new Date(_19e2));for(var i=0;i<6;i++){_19e2.setDate(_19e2.getDate()+1);days.push(new Date(_19e2));}return days;},getPreviousWeekdays:function(){var days=new Array();var _19e5=this.weekfromdate;for(var i=0;i<7;i++){_19e5.setDate(_19e5.getDate()+1);days.push(new Date(_19e5));}return days;},getNextWeekdays:function(){var days=new Array();var _19e8=this.weekfromdate;for(var i=0;i<7;i++){_19e8.setDate(_19e8.getDate()+1);days.push(new Date(_19e8));}return days;},formatDate:function(cdate){var test={};var _19ec=uidateFormat;var udate=uidateFormat.match(/%./g);var date=cdate.getDate();var month=cdate.getMonth();var _19f0=cdate.getFullYear();var year=cdate.getFullYear();if(year>2000){year=year-2000;}else{if(year==2000){year="00";}else{year=year-1900;}}test["%d"]=date;test["%m"]=month+1;test["%Y"]=_19f0;test["%y"]=year;test["%b"]=months[month];for(var i=0;i<udate.length;i++){_19ec=_19ec.replace(udate[i],test[udate[i]]);}return _19ec;},isvalidDate:function(_19f3){var ufmt=uidateFormat.match(/%./g);var udate=_19f3.split(/\W+/);var date=0;var month=0;var year=0;if(udate.length>3){return false;}for(var i=0;i<udate.length;i++){switch(ufmt[i]){case "%d":date=udate[i];break;case "%m":month=udate[i];break;case "%Y":year=udate[i];break;case "%y":year=udate[i];break;case "%b":month=udate[i];for(var j=0;j<months.length;j++){if(month==months[j]){month=(j+1);}}break;}}var valid=true;var _19fc=/^([0-9]{1,2})$/i;var _19fd=/^([0-9]{1,2})$/i;var _19fe=/^([0-9]{2}|[0-9]{4})$/i;if(!date.match(_19fc)){valid=false;}if(!month.toString().match(_19fd)){valid=false;}if(!year.toString().match(_19fe)){valid=false;}date=Math.round(date);month=Math.round(month);year=Math.round(year);if(year<100){year+=2000;}if((month<1)||(month>12)){valid=false;}var _19ff=this.daysInMonth(year,month-1);if(date>_19ff){valid=false;}return valid;},constructCalforMonth:function(month){var year=this.curYear;this.curMonth=month;this.constructCalendar(year,month);}};var Scheduler={schType:0,recurType:{"1":"Daily","2":"Weekly","3":"By Weekly","4":"Monthly","5":"Yearly"},showaddPage:function(){$("#"+Layout.containerid).find(".enter").remove();$("#job_name").val("");$("#job_hrs").val("");$("#job_fromdate").val("");$("#job_todate").val("");$("#job_notes").val("");$("#schedulerlist").hide();$("#scheduleradd").show();var _1a02=new Date();_1a02.setDate(curdate);_1a02.setMonth(curmonth);_1a02.setFullYear(curyear);$("#job_fromdate").val(NewCalendar.formatDate(_1a02));$("#job_title").html(i18n["hrms.scheduler.addjob"]);EditRecord.resetData();},showlistPage:function(){$("#schedulerlist").show();$("#scheduleradd").hide();},addSchedule:function(){var _1a03=$("#job_name").val();var _1a04=$("#job_hrs").val();var _1a05=$("#job_fromdate").val();var _1a06=$("#job_todate").val();var _1a07=$("#job_notes").val();var _1a08=$("#job_user").val();var _1a09=/^([0-9]{0,3}[:|.][0-9]{0,2})$/i;var _1a0a=/^([0-9]{0,3})$/i;var _1a0b=false;if(_1a03==""&&$("#job_name").parent().find(".enter").length<1){_1a0b=true;$("#job_name").parent().append("<br><span class='enter'>"+i18n["hrms.scheduler.entetjobval"]+"</span>");$("#job_name").toggleClass("zc-inputtext zperrorclass");}var _1a0c=true;if(_1a04.match(_1a09)||_1a04.match(_1a0a)){_1a0c=false;}if(_1a0c&&$("#sheet_Hoursentry").find(".enter").length<1){$("#sheet_Hoursentry").append("<br> <span class='enter'>"+i18n["hrms.scheduler.invalidhrs"]+"</span>");this.showsupportfromats($("#sheet_Hoursentry").find("span")[0]);}var _1a0d=false;var _1a0e=false;if(_1a05!=""&&!NewCalendar.isvalidDate(_1a05)&&$("#job_fromdate").parent().find(".enter").length<1){$("#job_fromdate").parent().append("<br><span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");_1a0d=true;}if(_1a06!=""&&!NewCalendar.isvalidDate(_1a06)&&$("#job_todate").parent().find(".enter").length<1){$("#job_todate").parent().append("<br><span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");_1a0e=true;}var _1a0f=false;if(!_1a0d&&!_1a0e){var fdate=Date.parseDate(_1a05,uidateFormat);var tdate=Date.parseDate(_1a06,uidateFormat);if(fdate>tdate){_1a0f=true;if($("#job_todate").parent().find(".enter").length<1){$("#job_todate").parent().append("<br><span class='enter'>"+i18n["hrms.scheduler.edatelesssdate"]+"</span>");}}}if(_1a05==""){var _1a12=new Date();_1a12.setDate(curdate);_1a12.setMonth(curmonth);_1a12.setFullYear(curyear);_1a05=NewCalendar.formatDate(_1a12);}if(_1a0b||_1a0d||_1a0e||_1a0c||_1a0f){return false;}if(_1a04.indexOf(":")!=-1){var jhrs=_1a04.split(":");_1a04=jhrs[0];if(jhrs[1]){_1a04=Number(_1a04)+(jhrs[1]/60);}_1a04=_1a04.toFixed(2);}var _1a14={"mode":"addSchedule","userErecNo":_1a08,"jobName":_1a03,"jobHrs":_1a04,"jobFromdate":_1a05,"jobTodate":_1a06,"jobNotes":_1a07,"conreqcsr":csrfToken};if(EditRecord.editMode){_1a14.mode="modifySchedule";_1a14.jobId=EditRecord.getData().jobId;}$.post("/people/timesheet.do",_1a14,function(_1a15){Scheduler.showlistPage();Scheduler.getSchedule();Scheduler.getJobs();});},showsupportfromats:function(obj){var _1a17=$("#"+Layout.containerid).find("#sup_for");if(!_1a17.is(":visible")){$("#"+Layout.containerid).find("#sup_for").css("left",findPosX(obj)+10);$("#"+Layout.containerid).find("#sup_for").css("top",findPosY(obj)+40);$("#"+Layout.containerid).find("#sup_for").show();}},closesupportfromats:function(){$("#"+Layout.containerid).find("#sup_for").hide();},changeSchType:function(obj,type){$(obj).parent().children().removeClass("tabsel");$(obj).addClass("tabsel");this.schType=type;this.getSchedule();this.getJobs();},getSchedule:function(){var _1a1a=erecno;var _1a1b={"mode":"getSchedule","userErecNo":_1a1a,"schType":this.schType,"conreqcsr":csrfToken};$.post("/people/timesheet.do",_1a1b,function(_1a1c){$("#schedulebody").html("");var _1a1d=eval(_1a1c);if(eval(_1a1c).length==0||_1a1c==""){var row="<tr class=\"zpcallist\">";row+="<td colspan=\"5\" align=\"center\">"+i18n["hrms.scheduler.nojobs"]+"</td>";row+="</tr>";$("#schedulebody").append(row);}else{var _1a1f="";var _1a20="";$.each(_1a1d,function(index,data){if(data.isCompleted!="1"){if(data.erecno==erecno){_1a1f+="<option value='"+data.jobId+"'>"+data.jobName+"</option>";}else{_1a20+="<option value='"+data.jobId+"'>"+data.jobName+"</option>";}}var row="<tr class=\"zpcallist\" onmouseover =\"Scheduler.showDelete(this);\" onmouseout =\"Scheduler.hideDelete(this);\" >";row+="<td> </td>";row+="<td align=\"center\"><input type=\"checkbox\" id=\""+data.jobId+"\" onclick=\"Scheduler.changeCheck(this);\"></td>";var _1a24=data.jobFromdate;var _1a25=data.jobTodate;if(_1a25==undefined&&_1a24!=undefined){_1a25=_1a24;}if(_1a24==undefined&&_1a25!=undefined){_1a24=_1a25;}var txt="";if(data.repeatType&&data.repeatType!="0"){txt=Scheduler.recurType[data.repeatType];}if(_1a24!=undefined&&_1a25!=undefined){row+="<td onclick=\"Scheduler.showEdit(this);\" style=\"cursor:pointer;\">"+data.jobName+" ( "+_1a24+" - "+_1a25+" )";if(txt!=""){row+="-"+txt;}row+="</td>";}else{row+="<td onclick=\"Scheduler.showEdit(this);\" style=\"cursor:pointer;\">"+data.jobName;if(txt!=""){row+="-"+txt;}row+="</td>";}row+="<td>"+data.mailId+"</td>";if(data.jobHrs!=undefined){var mins=data.jobHrs%60;var hrs=(data.jobHrs-mins)/60;row+="<td>"+hrs+" "+i18n["hrms.scheduler.hrs"]+" "+mins+" "+i18n["hrms.scheduler.mins"]+"</td>";}else{row+="<td>-</td>";}var _1a29="zpnon";var _1a2a=i18n["hrms.scheduler.changeinprogress"];if(data.isCompleted=="1"){_1a29="zpcomplete";_1a2a=i18n["hrms.scheduler.changecompleted"];}row+="<td>";row+="<div class=\""+_1a29+"\" title=\""+_1a2a+"\" onclick=\"Scheduler.changeisCompleted('"+data.jobId+"','"+data.isCompleted+"');\"></div>";row+="</td>";row+="<td><div class=\"zprdel\" style=\"display:none;\" title=\""+i18n["hrms.button.delete"]+"\" onclick=\"Scheduler.deleteSchedule('single','"+data.jobId+"');\"></div></td>";row+="</tr>";$("#schedulebody").append(row);$($("#schedulebody").children().get(index)).data("schval",data);});}});},getJobs:function(){var _1a2b={"mode":"getSchedule","userErecNo":erecno,"schType":"1","conreqcsr":csrfToken};$.post("/people/timesheet.do",_1a2b,function(_1a2c){var _1a2d=eval(_1a2c);var _1a2e="";var _1a2f="";if(eval(_1a2c).length==0||_1a2c==""){_1a2e="";_1a2f="";}else{_1a2e="";_1a2f="";$.each(_1a2d,function(index,data){if(data.isCompleted!="1"){var _1a32=Timetracker.tserecno;if(_1a32==undefined){_1a32=erecno;}if(data.erecno==_1a32){_1a2e+="<option value='"+data.jobId+"'>"+data.jobName+"</option>";}else{_1a2f+="<option value='"+data.jobId+"'>"+data.jobName+"</option>";}}});}var _1a33="<option value='0'>"+i18n["hrms.common.select"]+"</option>";$("#adddefalutjob").html(_1a33+_1a2e);$("#addweeklyLog").find("#weekjobselect").html(_1a33+_1a2e);$("#adddailyLog").find("#dayjobselect").html(_1a33+_1a2e);_1a33="<option value='0'>"+i18n["hrms.scheduler.alljobs"]+"</option>";$("#rjobName").html(_1a33+_1a2e+_1a2f);$("#jrjobName").html(_1a33+_1a2e+_1a2f);});},showDelete:function(obj){$(obj).find(".zprdel").show();},hideDelete:function(obj){$(obj).find(".zprdel").hide();},deleteSchedule:function(mode,id){DeleteRecord.jobId=new Array();if(mode=="multiple"){var jobs=$("#schedulebody").find("input:checked");for(var i=0;i<jobs.length;i++){DeleteRecord.jobId.push($(jobs[i]).attr("id"));}}else{if(mode=="single"){DeleteRecord.jobId=id;}}newpopup("schedulealert","rolePopUpAdd");},deleteSchedulerecord:function(){var _1a3a={"mode":"deleteSchedule","jobId":DeleteRecord.jobId.toString(),"conreqcsr":csrfToken};$.post("/people/timesheet.do",_1a3a,function(_1a3b){Layout.showSmsg(i18n["hrms.scheduler.jobdeleted"]);Scheduler.getSchedule();Scheduler.getJobs();$("#checkallbox").attr("checked",false);cancelpopup("schedulealert");$("#multischdel").hide();});},showEdit:function(obj){$("#"+Layout.containerid).find(".enter").remove();var _1a3d=eval($(obj).parent().data()).schval;EditRecord.setData(_1a3d);$("#job_name").val(_1a3d.jobName);if(_1a3d.jobHrs&&_1a3d.jobHrs!=undefined){var _1a3e=Number(_1a3d.jobHrs);$("#job_hrs").val(NewCalendar.minstohrs(_1a3e));}else{$("#job_hrs").val(0);}$("#job_fromdate").val(_1a3d.jobFromdate);$("#job_todate").val(_1a3d.jobTodate);$("#job_notes").val(_1a3d.jobNotes);$("#job_user").val(_1a3d.erecno);$("#schedulerlist").hide();$("#scheduleradd").show();$("#job_title").html(i18n["hrms.scheduler.modifyjob"]);},checkAll:function(obj){var chk=obj.checked;var jobs=$("#schedulebody").find("input[type=checkbox]");for(var i=0;i<jobs.length;i++){$(jobs[i]).attr("checked",chk);}if(chk){$("#multischdel").show();}else{$("#multischdel").hide();}},changeCheck:function(obj){var flag=true;var _1a45=false;var jobs=$("#schedulebody").find("input[type=checkbox]");for(var i=0;i<jobs.length;i++){if(!$(jobs[i]).is(":checked")){flag=false;}else{_1a45=true;}}$("#checkallbox").attr("checked",flag);if(_1a45){$("#multischdel").show();}else{$("#multischdel").hide();}},changeisCompleted:function(jobId,_1a49){_1a49=_1a49==1?0:1;var _1a4a={"mode":"changeisCompleted","jobId":jobId,"isCompleted":_1a49,"conreqcsr":csrfToken};$.post("/people/timesheet.do",_1a4a,function(_1a4b){Layout.showSmsg(i18n["hrms.scheduler.statuschanged"]);Scheduler.getSchedule();Scheduler.getJobs();});},showMemberlist:function(obj){$("#memberpopup").show();var posY=findPosY(obj);var posX=findPosX(obj);$("#memberpopup").css("top",posY);$("#memberpopup").css("left",posX);},hideMemberlist:function(obj){$("#memberpopup").hide();},memRowclick:function(obj){var mlist=$("#popupmemlist").find("li");for(var i=0;i<mlist.length;i++){if($($(mlist[i]).children()[1]).is(":visible")){$($(mlist[i]).children()[1]).hide();}}$(obj).next().show();$(obj).next().find("textarea").val("Comments");},fetchMembers:function(){$("#job_users").html("");var _1a53=$("#popupmemlist").find("input[type=checkbox]:checked").parent().parent();for(var i=0;i<_1a53.length;i++){console.log($(_1a53[i]).find("input[type=checkbox]").val());console.log($(_1a53[i]).find("input[type=text]"));console.log($(_1a53[i]).find("textarea"));var liele="<li id=\""+$(_1a53[i]).find("input[type=checkbox]").val()+"\">"+$(_1a53[i]).text()+"</li>";$("#job_users").append(liele);}}};EditRecord={data:null,editMode:false,getData:function(){return this.data;},setData:function(data){this.editMode=true;this.data=data;},resetData:function(){this.editMode=false;this.data=null;}};DeleteRecord={jobId:null};Timetracker={DAILY:"0",WEEKLY:"1",MONTHLY:"2",tmpDate:null,weektmpDate:null,daytmpDate:null,dispMode:"0",tserecno:null,getTimesheet:function(flag,_1a58,_1a59){if($("#tsusers")&&$("#tsusers").val()){this.tserecno=$("#tsusers").val();$("#tscalusers").val(this.tserecno);}var _1a5a=null;if($("#tstype")&&$("#tstype").val()){_1a5a=$("#tstype").val();}var _1a5b=null;if($("#tsview")&&$("#tsview").val()){_1a5b=$("#tsview").val();}if(flag){switch(_1a5b){case "0":this.tmpDate=NewCalendar.getCurrentDay();this.dispMode=this.DAILY;break;case "1":this.tmpDate=NewCalendar.getCurrentWeek();this.dispMode=this.WEEKLY;break;case "2":NewCalendar.getCurrentDay();this.tmpDate=NewCalendar.getPreviousDay();this.dispMode=this.DAILY;break;case "3":NewCalendar.getCurrentWeek();this.tmpDate=NewCalendar.getPreviousWeek();this.dispMode=this.WEEKLY;break;case "4":this.tmpDate=NewCalendar.getCurrentMonth();this.dispMode=this.MONTHLY;break;case "5":NewCalendar.getCurrentMonth();this.tmpDate=NewCalendar.getPreviousMonth();this.dispMode=this.MONTHLY;break;}}else{if(_1a58=="-1"){this.tmpDate=this.tmpDate;}else{if(this.dispMode==this.DAILY){if(_1a58=="0"){this.tmpDate=NewCalendar.getPreviousDay();}else{this.tmpDate=NewCalendar.getNextDay();}}else{if(this.dispMode==this.WEEKLY){if(_1a58=="0"){this.tmpDate=NewCalendar.getPreviousWeek();}else{this.tmpDate=NewCalendar.getNextWeek();}}else{if(this.dispMode==this.MONTHLY){if(_1a58=="0"){this.tmpDate=NewCalendar.getPreviousMonth();}else{this.tmpDate=NewCalendar.getNextMonth();}}}}}}var _1a5c=null;var _1a5d=null;if(this.tmpDate.day){_1a5c=this.getDateinDBformat(this.tmpDate.day);_1a5d=this.getDateinDBformat(this.tmpDate.day);$("#calmonth1").html(this.getDateinTSformat(this.tmpDate.day));}else{_1a5c=this.getDateinDBformat(this.tmpDate.from);_1a5d=this.getDateinDBformat(this.tmpDate.to);$("#calmonth1").html(this.getDateinTSformat(this.tmpDate.from)+" - "+this.getDateinTSformat(this.tmpDate.to));}var _1a5e={"mode":"getTimesheet","userErecNo":this.tserecno,"typeMode":_1a5a,"fromDate":_1a5c,"toDate":_1a5d,"conreqcsr":csrfToken};this.getTimesheetdata(_1a5e,_1a59);},getTimesheetdata:function(_1a5f,_1a60){$.post("/people/timesheet.do",_1a5f,function(_1a61){Timetracker.constructTimesheet(_1a61,_1a60);});},constructTimesheet:function(_1a62,_1a63){if(eval(_1a62).length==0||_1a62==""){this.showListView();$("#listviewtable").html("");var txt="<tbody><tr class=\"zpcallist\"><td><div style=\"margin-left:46%\">"+i18n["hrms.timesheet.nologhrs"]+"</div></td></tr><tbody>";$("#listviewtable").append(txt);}else{if(_1a62!=undefined||_1a62!=""){this.showListView();$("#listviewtable").html("");$.each(eval(_1a62),function(index,data){var _1a67=Date.parseDate(data.workDate,uidateFormat);var day=_1a67.getDate();var month=_1a67.getMonth();var year=_1a67.getFullYear();var _1a6b=months[month];var _1a6c="";if(data.billableStatus=="0"){_1a6c=i18n["hrms.timesheet.billable"];}else{_1a6c=i18n["hrms.timesheet.nonbillable"];}var _1a6d="main_"+_1a6b+"_"+day+"_"+year;var _1a6e="sub_"+_1a6b+"_"+day+"_"+year;var _1a6f="tot_"+_1a6b+"_"+day+"_"+year;if(docid(_1a6d)){var txt="<tr onmouseover=\"Timetracker.showDelete('"+data.timesheetId+"');\" onmouseout=\"Timetracker.hideDelete('"+data.timesheetId+"');\">";if(data.jobName){txt+="<td onclick=\"Timetracker.editLogTime(this,event);\" style=\"cursor:pointer\">"+data.jobName+"</td>";}else{txt+="<td>---</td>";}if(data.taskName){txt+="<td width=\"30%\">"+data.taskName+"</td>";}else{txt+="<td width=\"30%\">---</td>";}txt+="<td width=\"10%\">"+_1a6c+"</td>";txt+="<td width=\"10%\">"+NewCalendar.minstohrs(data.totHours)+"</td>";txt+="<td width=\"5%\"><div class=\"zprdel\" onclick=\"Timetracker.deleteTimesheet('"+data.timesheetId+"');\" id=\"deleteShow_"+data.timesheetId+"\" style=\"display:none\"></div><td>";txt+="</tr>";$("#"+_1a6e).append(txt);var _1a71=$("#"+_1a6e).data().totHours;_1a71=_1a71+data.totHours;$("#"+_1a6e).data("totHours",_1a71);$("#"+_1a6f).html(NewCalendar.minstohrs(_1a71));}else{var txt="<tbody id = \""+_1a6d+"\">";txt+="<tr class=\"zpweklist\">";txt+="<td width=\"15%\">"+_1a6b+" "+day+" , "+year+"</td>";txt+="<td><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"100%\" class=\"zptim\" style=\"table-layout: fixed;\">";txt+="<tbody id="+_1a6e+">";txt+="<tr onmouseover=\"Timetracker.showDelete('"+data.timesheetId+"');\" onmouseout=\"Timetracker.hideDelete('"+data.timesheetId+"');\">";if(data.jobName){txt+="<td onclick=\"Timetracker.editLogTime(this,event);\" style=\"cursor:pointer\">"+data.jobName+"</td>";}else{txt+="<td>---</td>";}if(data.taskName){txt+="<td width=\"30%\">"+data.taskName+"</td>";}else{txt+="<td width=\"30%\">---</td>";}txt+="<td width=\"10%\">"+_1a6c+"</td>";txt+="<td width=\"10%\">"+NewCalendar.minstohrs(data.totHours)+"</td>";txt+="<td width=\"5%\"><div class=\"zprdel\" onclick=\"Timetracker.deleteTimesheet('"+data.timesheetId+"');\" id=\"deleteShow_"+data.timesheetId+"\" style=\"display:none\"></div><td>";txt+="</tr>";txt+="</tbody>";txt+="</table>";txt+="</td>";txt+="<td width=\"10%\"><font color=\"#9b6321\" id=\""+_1a6f+"\">"+NewCalendar.minstohrs(data.totHours)+"</font></td>";txt+="</tr>";txt+="</tbody>";$("#listviewtable").append(txt);$("#"+_1a6e).data("totHours",data.totHours);}var _1a72=$("#"+_1a6e).children();$(_1a72.get(_1a72.length-1)).data("tsval",data);});}}},previousNavigation:function(){Timetracker.getTimesheet(false,"0");},nextNavigation:function(){Timetracker.getTimesheet(false,"1");},getDateinDBformat:function(_1a73){_1a73=_1a73.getFullYear()+"-"+(_1a73.getMonth()+1)+"-"+_1a73.getDate();return _1a73;},getDateinTSformat:function(_1a74){_1a74=_1a74.getDate()+" "+months[_1a74.getMonth()]+" "+_1a74.getFullYear();return _1a74;},showLogtime:function(event,obj){EditRow.editMode=false;if(obj!=undefined){var _1a77=document.documentElement.scrollTop;var posY=findPosY(obj);if(findPosX(obj)>500){$("#"+Layout.containerid).find("#addLogtime").css("left",findPosX(obj)-400);}else{$("#"+Layout.containerid).find("#addLogtime").css("left",findPosX(obj));}if(posY-_1a77>400){$("#"+Layout.containerid).find("#addLogtime").css("top",findPosY(obj)-300);}else{$("#"+Layout.containerid).find("#addLogtime").css("top",findPosY(obj));}}$("#"+Layout.containerid).find("#addLogtime").show();$("#"+Layout.containerid).find("#addLogtime").find(".enter").remove();$("#adddefalutjob").val("0");$("#sheet_Timeentry").hide();$("#sheet_Hoursentry").show();$("#entr_hrs").hide();$("#newjobs").hide();$("#defaultjobs").show();$("#sheet_hrs").val("00:00");$("#otherJob").val("");$("#sheet_task").val("");$("#sheet_notes").val("");$("#logfromhrs").val("00:00");$("#logfromampm").val("am");$("#logtohrs").val("00:00");$("#logtoampm").val("am");$("#sheet_bill").val("0");$("#daterow").show();$("#workitemrow").show();$("#descrow").show();var _1a79=new Date();_1a79.setDate(curdate);_1a79.setMonth(curmonth);_1a79.setFullYear(curyear);$("#sheet_date").val(NewCalendar.formatDate(_1a79));stopEventPropagation(event);},hideTimelog:function(){$("#"+Layout.containerid).find("#addLogtime").hide();},showWeeklyLogtime:function(event){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#addweeklyLog").show();$("#week_viewlist").html("");for(var i=0;i<5;i++){this.addWeekRow();}this.weektmpDate=NewCalendar.getCurrentWeek();var _1a7c=this.weektmpDate.from.getTime();var _1a7d=new Date();_1a7d.setTime(_1a7c);for(i=0;i<7;i++){if(i>0){_1a7d.setDate(_1a7d.getDate()+1);}$("#datevalue"+(i+1)).html("<div>"+days[_1a7d.getDay()]+"</div><div>"+months[_1a7d.getMonth()]+" "+_1a7d.getDate()+"</div>");}$("#calmonth2").html(this.getDateinTSformat(this.weektmpDate.from)+" - "+this.getDateinTSformat(this.weektmpDate.to));if(event){stopEventPropagation(event);}},weeklogNext:function(){this.weektmpDate=NewCalendar.getNextWeek();var _1a7e=this.weektmpDate.from.getTime();var _1a7f=new Date();_1a7f.setTime(_1a7e);for(i=0;i<7;i++){if(i>0){_1a7f.setDate(_1a7f.getDate()+1);}$("#datevalue"+(i+1)).html("<div>"+days[_1a7f.getDay()]+"</div><div>"+months[_1a7f.getMonth()]+" "+_1a7f.getDate()+"</div>");}$("#calmonth2").html(this.getDateinTSformat(this.weektmpDate.from)+" - "+this.getDateinTSformat(this.weektmpDate.to));},weeklogPrevious:function(){this.weektmpDate=NewCalendar.getPreviousWeek();var _1a80=this.weektmpDate.from.getTime();var _1a81=new Date();_1a81.setTime(_1a80);for(i=0;i<7;i++){if(i>0){_1a81.setDate(_1a81.getDate()+1);}$("#datevalue"+(i+1)).html("<div>"+days[_1a81.getDay()]+"</div><div>"+months[_1a81.getMonth()]+" "+_1a81.getDate()+"</div>");}$("#calmonth2").html(this.getDateinTSformat(this.weektmpDate.from)+" - "+this.getDateinTSformat(this.weektmpDate.to));},weeklylogHours:function(obj){var _1a83=/^(([\d]{0,2}[\.|\:][\d]{0,2})|([\d]{0,2}))$/i;if(!obj.value.match(_1a83)){$(obj).attr("style","border:1px solid  #CF0000;color:#CF0000");return false;}var _1a84=$("#week_viewlist").find("tr");var _1a85=0;var _1a86=new Array(0,0,0,0,0,0,0,0);for(var i=0;i<_1a84.length;i++){_1a85=0;var _1a88=$(_1a84[i]).find("input");for(var j=2;j<_1a88.length;j++){$(_1a88[j]).attr("style","border:1px solid #CBD3E2");if($(_1a88[j]).val()!=""&&!$(_1a88[j]).val().match(_1a83)){$(_1a88[j]).attr("style","border:1px solid  #CF0000;color:#CF0000");}else{var _1a8a=$(_1a88[j]).val();if(_1a8a.indexOf(":")!=-1){var _1a8b=_1a8a.split(":");_1a85+=Number(_1a8b[0])+(_1a8b[1]*60);_1a86[j-1]+=Number(_1a8b[0])+(_1a8b[1]*60);}else{_1a8a=Number(_1a8a).toFixed(2);_1a85+=(Number(_1a8a)*60);_1a86[j-1]+=(Number(_1a8a)*60);}}}_1a85=Number(_1a85).toFixed(0);$(_1a84[i]).find("#rowtotal").html(NewCalendar.minstohrs(_1a85));}for(i=1;i<_1a86.length;i++){$("#daytotal"+(i)).html(NewCalendar.minstohrs(Number(_1a86[i]).toFixed(0)));}},weeklyLogupdate:function(){var _1a8c=$("#week_viewlist").find("tr");var _1a8d=[];var _1a8e=true;var _1a8f=/^(([\d]{0,2}[\.|\:][\d]{0,2})|([\d]{0,2}))$/i;for(var i=0;i<_1a8c.length;i++){var param={};var _1a92=$(_1a8c[i]).find("select");var _1a93=$(_1a8c[i]).find("input");var flag=false;if($(_1a93[1]).val()!=""){param.taskName=$(_1a93[1]).val();}for(var j=2;j<_1a93.length;j++){if($(_1a93[j]).val()!=""&&!$(_1a93[j]).val().match(_1a8f)){_1a8e=false;$(_1a93[j]).attr("style","border:1px solid  #CF0000;color:#CF0000");}else{$(_1a93[j]).attr("style","border:1px solid #CBD3E2");}}for(var j=2;j<_1a93.length;j++){if($(_1a93[j]).val()!=""){param["day"+(j-1)]=$(_1a93[j]).val();flag=true;}}if(flag){if($(_1a8c[i]).find("#jobselect").is(":visible")){if($(_1a92[0]).val()==0){_1a8e=false;if($(_1a92[0]).parent().find("span.enter").length==0){$(_1a92[0]).parent().append("<span class='enter'>Please choose Job Name</span>");}}param.jobId=$(_1a92[0]).val();}else{if($(_1a8c[i]).find("#jobinput").is(":visible")){if($(_1a93[0]).val()==""){_1a8e=false;if($(_1a93[0]).parent().find("span.enter").length==0){$(_1a93[0]).parent().append("<span class='enter'>Please enter Job Name</span>");}}param.jobName=$(_1a93[0]).val();}}param.billStatus=$(_1a92[1]).val();_1a8d.push(param);}else{if($(_1a92[0]).val()!=0||$(_1a93[0]).val()!=""){for(var j=2;j<_1a93.length;j++){_1a8e=false;$(_1a93[j]).attr("style","border:1px solid  #FF0000");}}}}if(!_1a8e){return false;}fromDate=this.getDateinDBformat(this.weektmpDate.from);toDate=this.getDateinDBformat(this.weektmpDate.to);var _1a96=this.tserecno;$.post("/people/timesheet.do",{"mode":"addWeekTimesheet","logParams":JSON.stringify(_1a8d),"fromDate":fromDate,"userErecNo":_1a96,"conreqcsr":csrfToken},function(_1a97){Timetracker.getTimesheet(false,"-1");Scheduler.getJobs();});},changeweekJob:function(obj){if(obj.value!="0"&&$(obj).parent().find(".enter").length>0){$(obj).parent().find(".enter").remove();}},addWeekRow:function(){var _1a99=$("#week_viewlist").find("tr").length+1;var _1a9a=$("#weekdummytbody");$(_1a9a.find("td")[0]).html(_1a99+".");_1a9a=$("#weekdummytbody").html();$("#week_viewlist").append(_1a9a);},hideWeeklyLogs:function(){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#list_view").show();},showDailyLogtime:function(event,mode){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#adddailyLog").show();this.daytmpDate=NewCalendar.getCurrentDay();$("#calmonth4").html(this.getDateinTSformat(this.daytmpDate.day));$("#day_viewlist").html("");for(var i=0;i<5;i++){this.addDayRow();}var _1a9e="";if(mode=="1"){_1a9e=$("#tsusers option:selected").text();}else{if(mode=="2"){_1a9e=$("#tsusers option:selected").text();}}var tsfor=i18n["hrms.timesheet.timesheetfor"];tsfor=tsfor.replace("{0}",_1a9e);$("#daytimesheetfor").html(tsfor);$("#weektimesheetfor").html(tsfor);if(event){stopEventPropagation(event);}},hideDailyLogs:function(){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#list_view").show();},daylogNext:function(){this.daytmpDate=NewCalendar.getNextDay();$("#calmonth4").html(this.getDateinTSformat(this.daytmpDate.day));},daylogPrevious:function(){this.daytmpDate=NewCalendar.getPreviousDay();$("#calmonth4").html(this.getDateinTSformat(this.daytmpDate.day));},changedayJob:function(obj){if(obj.value!="0"&&$(obj).parent().find(".enter").length>0){$(obj).parent().find(".enter").remove();}},addDayRow:function(){var _1aa1=$("#day_viewlist").find("tr").length+1;var _1aa2=$("#daydummytbody");$(_1aa2.find("td")[0]).html(_1aa1+".");_1aa2=$("#daydummytbody").html();$("#day_viewlist").append(_1aa2);},dailylogHours:function(){var _1aa3=/^(([\d]{0,2}[\.|\:][\d]{0,2})|([\d]{0,2}))$/i;var _1aa4=$("#day_viewlist").find("tr");var _1aa5=0;for(var i=0;i<_1aa4.length;i++){var _1aa7=$(_1aa4[i]).find("input");$(_1aa7[3]).attr("style","border:1px solid #CBD3E2");if($(_1aa7[3]).val()!=""&&!$(_1aa7[3]).val().match(_1aa3)){$(_1aa7[3]).attr("style","border:1px solid  #CF0000;color:#CF0000");}else{var _1aa8=$(_1aa7[3]).val();if(_1aa8.indexOf(":")!=-1){var _1aa9=_1aa8.split(":");_1aa5+=Number(_1aa9[0])+(_1aa9[1]*60);}else{_1aa8=Number(_1aa8).toFixed(2);_1aa5+=(Number(_1aa8)*60);}}}_1aa5=_1aa5.toFixed(0);$("#dailylogtothrs").html(NewCalendar.minstohrs(_1aa5));},dailyLogupdate:function(){var _1aaa=/^(([\d]{0,2}[\.|\:][\d]{0,2})|([\d]{0,2}))$/i;var _1aab=$("#day_viewlist").find("tr");var _1aac=[];var _1aad=true;for(var i=0;i<_1aab.length;i++){var param={};var _1ab0=$(_1aab[i]).find("select");var _1ab1=$(_1aab[i]).find("input");var flag=false;if($(_1ab1[1]).val()!=""){param.taskName=$(_1ab1[1]).val();}if($(_1ab1[3]).val()!=""&&!$(_1ab1[3]).val().match(_1aaa)){_1aad=false;$(_1ab1[3]).attr("style","border:1px solid  #CF0000;color:#CF0000");}else{$(_1ab1[3]).attr("style","border:1px solid #CBD3E2");}if($(_1ab1[3]).val()!=""){param["day"+1]=$(_1ab1[3]).val();flag=true;}if(flag){if($(_1aab[i]).find("#jobselect").is(":visible")){if($(_1ab0[0]).val()==0){_1aad=false;if($(_1ab0[0]).parent().find("span.enter").length==0){$(_1ab0[0]).parent().append("<span class='enter'>Please choose Job Name</span>");}}param.jobId=$(_1ab0[0]).val();}else{if($(_1aab[i]).find("#jobinput").is(":visible")){if($(_1ab1[0]).val()==""){_1aad=false;if($(_1ab1[0]).parent().find("span.enter").length==0){$(_1ab1[0]).parent().append("<span class='enter'>Please enter Job Name</span>");}}param.jobName=$(_1ab1[0]).val();}}param.billStatus=$(_1ab0[1]).val();param.desc=$(_1ab1[2]).val();_1aac.push(param);}else{if($(_1ab0[0]).val()!=0||$(_1ab1[0]).val()!=""){_1aad=false;for(var j=3;j<_1ab1.length;j++){$(_1ab1[j]).attr("style","border:1px solid  #FF0000");}}}}if(!_1aad){return false;}var _1ab4=this.getDateinDBformat(this.daytmpDate.day);var _1ab5=this.tserecno;$.post("/people/timesheet.do",{"mode":"addWeekTimesheet","logParams":JSON.stringify(_1aac),"fromDate":_1ab4,"userErecNo":_1ab5,"conreqcsr":csrfToken},function(_1ab6){Timetracker.getTimesheet(false,"-1");Scheduler.getJobs();});},showfrmandTo:function(){$("#sheet_Hoursentry").hide();$("#sheet_Timeentry").show();},showHours:function(){$("#sheet_Hoursentry").show();$("#sheet_Timeentry").hide();},showotherJob:function(){$("#newjobs").show();$("#defaultjobs").hide();},cancelotherJob:function(){$("#defaultjobs").show();$("#newjobs").hide();},showsupportfromats:function(){$("#sup_for").show();},closesupportfromats:function(){$("#sup_for").hide();},deleteTimesheet:function(_1ab7){DeleteRow.sheetId=_1ab7;newpopup("timesheetalert","rolePopUpAdd");},deleteTimesheetrecord:function(){var _1ab8={"mode":"deleteTimesheet","sheetId":DeleteRow.sheetId,"conreqcsr":csrfToken};$.post("/people/timesheet.do",_1ab8,function(_1ab9){Layout.showSmsg(i18n["hrms.timesheet.timesheetdeleted"]);Timetracker.getTimesheet(false,"-1");cancelpopup("timesheetalert");});},showError:function(_1aba,msg){_1aba.show();if(msg){_1aba.html(msg);}},timesheetupdateFn:function(){var _1abc;var _1abd;var tohrs;var _1abf;var _1ac0=$("#sheet_date").val();var _1ac1=$("#sheet_task").val();var desc=$("#sheet_notes").val();var _1ac3=$("#sheet_bill").val();var _1ac4=$("#logfromampm").val();var _1ac5=$("#logtoampm").val();var _1ac6=this.tserecno;var _1ac7="";var _1ac8=/^([\d]{0,2}\:?\.?)+[\d]{0,2}$/i;if(_1ac4=="pm"&&_1ac5=="am"){alert(i18n["hrms.timesheet.timegretar"]);return false;}var jobId;var _1aca;var _1acb=false;if($("#defaultjobs").is(":visible")){if(($("#adddefalutjob").val()=="0"||$("#adddefalutjob").val()=="")){if($("#defaultjobs").find(".enter").length<1){$("#defaultjobs").append("<br><span class='enter' style='float:left;'>"+i18n["hrms.timesheet.timechooseName"]+"</span>");}_1acb=true;}else{jobId=$("#adddefalutjob").val();}}if($("#newjobs").is(":visible")){if($("#otherJob").val()==""){if($("#defaultjobs").find(".enter").length<1){$("#defaultjobs").append("<span class='enter' style='float:left;'>"+i18n["hrms.timesheet.timechooseName"]+"</span>");}_1acb=true;}else{_1aca=$("#otherJob").val();}}if($("#sheet_Hoursentry").is(":visible")){_1ac7=$("#sheet_hrs").val();_1abc="";_1abd="";tohrs="";_1abf="";}else{if($("#sheet_Timeentry").is(":visible")){_1abc=$("#logfromhrs").val();tohrs=$("#logtohrs").val();var _1acc="";if(_1abc.indexOf(":")!=-1){_1acc=_1abc.split(":");if(_1acc[0]){_1abc=_1acc[0];}if(_1acc[1]){_1abd=_1acc[1];}}var _1acd="";if(tohrs.indexOf(":")!=-1){_1acd=tohrs.split(":");if(_1acd[0]){tohrs=_1acd[0];}if(_1acd[1]){_1abf=_1acd[1];}}if(_1abd==undefined){_1abd="00";}if(_1abf==undefined){_1abf="00";}}}var _1ace=false;if(tohrs<_1abc&&_1ac4=="am"&&_1ac5=="am"||tohrs<_1abc&&_1ac4=="pm"&&_1ac5=="pm"){if($("#sheet_Timeentry").find(".enter").length<1){$("#sheet_Timeentry").append("<span class='enter' style='float:left;'>"+i18n["hrms.timesheet.timegretar"]+"</span>");}_1ace=true;}var _1acf=false;if($("#sheet_Hoursentry").is(":visible")){var _1ad0=$("#sheet_hrs").val();if(!_1ad0.match(_1ac8)){if($("#sheet_Hoursentry").find(".enter").length<1){$("#sheet_Hoursentry").append("<span class='enter' style='float:left'>"+i18n["hrms.timesheet.numericValues"]+"</span>");}_1acf=true;}}var _1ad1=false;if(!NewCalendar.isvalidDate(_1ac0)&&$("#sheet_date").parent().find(".enter").length<1){$("#sheet_date").parent().append("<span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");_1ad1=true;}if(_1acb||_1ace||_1acf||_1ad1){return false;}var _1ad2={"mode":"addTimesheet","workDate":_1ac0,"taskName":_1ac1,"desc":desc,"billable":_1ac3,"loghrs":_1ac7,"fromhrs":_1abc,"frommins":_1abd,"fromampm":_1ac4,"tohrs":tohrs,"tomins":_1abf,"toampm":_1ac5,"userErecNo":_1ac6,conreqcsr:csrfToken};if(jobId!=undefined&&jobId!="0"){_1ad2.jobId=jobId;}else{if(_1aca!=undefined&&_1aca!=""){_1ad2.jobName=_1aca;}}if(EditRow.editMode){_1ad2.mode="modifyTimesheet";_1ad2.sheetId=EditRow.sheetId;}$.post("/people/timesheet.do",_1ad2,function(data){Timetracker.hideTimelog();if($("#list_view").is(":visible")){Timetracker.getTimesheet(false,"-1");}else{if($("#grid_view").is(":visible")){Timetracker.populatetimesheet();}}if(EditRow.editMode){Layout.showSmsg(i18n["hrms.timesheet.timesheetedited"]);}else{Layout.showSmsg(i18n["hrms.timesheet.timesheetadded"]);}Scheduler.getJobs();});},editLogTime:function(obj,event){var data=$(obj).parent().data().tsval;EditRow.editMode=true;EditRow.sheetId=data.timesheetId;EditRow.jobId=data.jobId;$("#"+Layout.containerid).find("#addLogtime").show();$("#"+Layout.containerid).find("#addLogtime").find(".enter").remove();$("#sheet_Timeentry").hide();$("#sheet_Hoursentry").show();$("#entr_hrs").hide();$("#newjobs").hide();$("#defaultjobs").show();$("#daterow").show();$("#workitemrow").show();$("#descrow").show();var _1ad7=Math.floor(data.fromTime/60);var _1ad8=Math.floor(data.fromTime%60);var _tohr=Math.floor(data.toTime/60);var _1ada=Math.floor(data.toTime%60);var _1adb="am";if(_1ad7>12){_1ad7=_1ad7-12;_1adb="pm";}var _1adc="am";if(_tohr>12){_tohr=_tohr-12;_1adc="pm";}if(_1ad7<10){_1ad7="0"+_1ad7;}if(_tohr<10){_tohr="0"+_tohr;}if(_1ad8<10){_1ad8="0"+_1ad8;}if(_1ada<10){_1ada="0"+_1ada;}if(data.fromTime!=undefined&&data.fromTime!="0"&&data.toTime!=undefined&&data.toTime!="0"){$("#sheet_Timeentry").show();$("#sheet_Hoursentry").hide();$("#logfromhrs").val(_1ad7+":"+_1ad8);$("#logfromampm").val(_1adb);$("#logtohrs").val(_tohr+":"+_1ada);$("#logtoampm").val(_1adc);}else{$("#sheet_Timeentry").hide();$("#sheet_Hoursentry").show();var _1add=data.totHours.toString();var _1ade=Math.floor(_1add%60);var _1adf="";if(_1ade=="0"){_1adf=(_1add-_1ade)/60;_1adf=_1adf+":"+"00";}else{var hrs=(_1add-_1ade)/60;_1adf=hrs+":"+_1ade;}$("#sheet_hrs").val(_1adf);}$("#defaultjobs").show();$("#newjobs").hide();$("#adddefalutjob").val(data.jobId);$("#otherJob").val("");if(data.taskName!=undefined){$("#sheet_task").val(data.taskName);}$("#sheet_date").val(data.workDate);if(data.sheetDesc!=undefined){$("#sheet_notes").val(data.sheetDesc);}$("#sheet_bill").val(data.billableStatus);stopEventPropagation(event);},showListView:function(){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#list_view").show();},showCalendarView:function(){$("#grid_view").show();$("#list_view").hide();},generateReport:function(){var jobId=$("#rjobName").val();var _1ae2=$("#rfromdate").val();var _1ae3=$("#rtodate").val();var _1ae4=$("#rUser").val();var _1ae5=$("#rbillstatus").val();$("#"+Layout.containerid).find(".enter").remove();var _1ae6={"mode":"getTimesheetReport","userErecNo":_1ae4,"jobId":jobId,"billStatus":_1ae5,"conreqcsr":csrfToken};var _1ae7=false;var _1ae8=false;if(!NewCalendar.isvalidDate(_1ae2)){_1ae7=true;if($("#rfromdate").parent().find(".enter").length<1){$("#rfromdate").parent().append("<span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");}}if(!NewCalendar.isvalidDate(_1ae3)){_1ae8=true;if($("#rtodate").parent().find(".enter").length<1){$("#rtodate").parent().append("<span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");}}var _1ae9=false;if(!_1ae7&&!_1ae8){var fdate=Date.parseDate(_1ae2,uidateFormat);var tdate=Date.parseDate(_1ae3,uidateFormat);if(fdate>tdate){_1ae9=true;if($("#rtodate").parent().find(".enter").length<1){$("#rtodate").parent().append("<span class='enter'>"+i18n["hrms.timesheet.todatelessfdate"]+"</span>");}}}if(_1ae7||_1ae8||_1ae9){return false;}_1ae6.fromDate=_1ae2;_1ae6.toDate=_1ae3;$.post("/people/timesheet.do",_1ae6,function(_1aec){$("#timesheetmreport").html("");var txt="";var hrs=0;$.each(eval(_1aec),function(index,data){txt+="<tr class=\"zpweklist\">";txt+="<td width=\"10%\" class=\"zpwektitle\">"+data.workdate+"</td>";txt+="<td >"+data.firstName+"</td>";txt+="<td width=\"14%\">"+data.JOBNAME+"</td>";var _1af1="---";if(data.workItem!=undefined){_1af1=data.workItem;}txt+="<td width=\"10%\">"+_1af1+"</td>";var _1af2=i18n["hrms.timesheet.billable"];if(data.billStatus=="1"){_1af2=i18n["hrms.timesheet.nonbillable"];}txt+="<td width=\"10%\">"+_1af2+"</td>";txt+="<td width=\"10%\">"+NewCalendar.minstohrs(data.totalhours)+"</td>";hrs+=data.totalhours;txt+="</tr>";});$("#customreport").show();$("#weekreport").hide();$("#monthreport").hide();$("#timesheetmtotal").html(NewCalendar.minstohrs(hrs));$("#timesheetmreport").html(txt);});},generateCustomReport:function(){var _1af3=$("#rperiod").val();var _1af4;var _1af5;if(_1af3=="0"){_1af4=NewCalendar.formatDate(NewCalendar.weekfromdate);_1af5=NewCalendar.formatDate(NewCalendar.weektodate);this.constructWeekReport(_1af4,_1af5);}else{if(_1af3=="1"){if(NewCalendar.monthtodate.getTime()==NewCalendar.monthfromdate.getTime()){NewCalendar.getCurrentMonth();}_1af4=NewCalendar.formatDate(NewCalendar.monthfromdate);_1af5=NewCalendar.formatDate(NewCalendar.monthtodate);var month=NewCalendar.monthfromdate.getMonth();var year=NewCalendar.monthfromdate.getFullYear();this.constructMonthReport(_1af4,_1af5,month,year);}else{if(_1af3=="2"){Timetracker.generateReport();}}}},generateWeekReport:function(){var d=NewCalendar.getCurrentWeek();var _1af9=NewCalendar.formatDate(d.from);var _1afa=NewCalendar.formatDate(d.to);$("#calmonth3").html(this.getDateinTSformat(d.from)+" - "+this.getDateinTSformat(d.to));this.constructWeekReport(_1af9,_1afa);},generateWeekReportNext:function(){var d=NewCalendar.getNextWeek();var _1afc=NewCalendar.formatDate(d.from);var _1afd=NewCalendar.formatDate(d.to);$("#calmonth3").html(this.getDateinTSformat(d.from)+" - "+this.getDateinTSformat(d.to));this.constructWeekReport(_1afc,_1afd);},generateWeekReportPrevious:function(){var d=NewCalendar.getPreviousWeek();var _1aff=NewCalendar.formatDate(d.from);var _1b00=NewCalendar.formatDate(d.to);$("#calmonth3").html(this.getDateinTSformat(d.from)+" - "+this.getDateinTSformat(d.to));this.constructWeekReport(_1aff,_1b00);},constructWeekReport:function(_1b01,_1b02){var jobId=$("#rjobName").val();var _1b04=$("#rUser").val();var _1b05=$("#rbillstatus").val();$("#customreport").hide();$("#weekreport").show();$("#monthreport").hide();$.post("/people/timesheet.do",{"mode":"getWeekTimesheet","userErecNo":_1b04,"fromDate":_1b01,"toDate":_1b02,"jobId":jobId,"billStatus":_1b05,"conreqcsr":csrfToken},function(_1b06){var _1b07=eval(_1b06)[0];$("#timesheetreport").html("");var _1b08=0;var cnt=0;for(var key in _1b07){cnt++;}if(cnt==0){$("#timesheettotal").html("");txt="<tr class=\"zpwektotal\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\">"+i18n["hrms.timesheet.total"]+"</td>";txt+="<td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>";txt+="<td style=\"background-color:#f3f3f3;\">0</td>";txt+="</tr>";$("#timesheettotal").html(txt);$("#weekreportbody").hide();$("#weekreporempty").show();$("#report1").html("<img src='/people/images/spacer.gif' width='0' height='0' border='0' />");$("#report2").html("<img src='/people/images/spacer.gif' width='0' height='0' border='0' />");$("#report3").html("<img src='/people/images/spacer.gif' width='0' height='0' border='0' />");$("#report4").html("<img src='/people/images/spacer.gif' width='0' height='0' border='0' />");return false;}$("#weekreportbody").show();$("#weekreporempty").hide();var txt="";var _1b0c=new Object();var jobs=new Array();var hours=new Array();var _1b0f=new Array("c3393e","dfff6c","3ebebe","f97373","d194d1","6ee4ff","e36267","f2dbff");for(var key in _1b07){var _1b10=new Object();var value=_1b07[key];var rdata=value.JOBS;var _1b13=0;txt+="<tr class=\"zpweklist\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\">"+value.JOBNAME+"</td>";txt+="<td class=\"zpwektitle\" style=\"text-align:left;width:20%\">"+value.EMPNAME+"</td>";$.each(eval(rdata),function(index,data){_1b10[data.day]=data.objval;if(_1b0c[data.day]==undefined){_1b0c[data.day]=data.objval;}else{_1b0c[data.day]+=data.objval;}});for(var i=1;i<=7;i++){if(_1b10[i]){txt+="<td>"+NewCalendar.minstohrs(_1b10[i])+"</td>";_1b13+=_1b10[i];}else{txt+="<td>0</td>";}}jobs.push(value.JOBNAME);hours.push(_1b13);if(_1b13!="0"){txt+="<td class=\"zpwektotal\">"+NewCalendar.minstohrs(_1b13)+"</td>";}else{txt+="<td class=\"zpwektotal\">0</td>";}txt+="</tr>";}$("#timesheetreport").html(txt);$("#timesheettotal").html("");txt="<tr class=\"zpwektotal\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\" colspan=\"2\">"+i18n["hrms.timesheet.total"]+"</td>";for(i=1;i<=7;i++){if(_1b0c[i]){txt+="<td>"+NewCalendar.minstohrs(_1b0c[i])+"</td>";_1b08+=_1b0c[i];}else{txt+="<td>0</td>";}}if(_1b13!="0"){txt+="<td style=\"background-color:#f3f3f3;\">"+NewCalendar.minstohrs(_1b08)+"</td>";}else{txt+="<td style=\"background-color:#f3f3f3;\">0</td>";}txt+="</tr>";$("#timesheettotal").html(txt);var _1b17="<chart caption=\"Jobs Vs Hours\" subCaption=\"\" xAxisName=\"Jobs\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";var _1b18="<chart caption=\"Jobs Comparison\"  subCaption=\"\" xAxisName=\"Jobs\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";for(i=0;i<jobs.length;i++){_1b17+="<set label=\""+jobs[i]+"\" value=\""+NewCalendar.minstodecimal(hours[i])+"\" color=\""+_1b0f[i]+"\"/>";_1b18+="<set label=\""+jobs[i]+"\" value=\""+NewCalendar.minstodecimal(hours[i])+"\" color=\""+_1b0f[i]+"\"/>";}_1b17+="</chart>";_1b18+="</chart>";if(!FChart.weekval){FChart.weekinit();}FChart.Chart1.setDataXML(_1b17);FChart.Chart1.setTransparent(false);FChart.Chart1.render("report1");FChart.Chart2.setDataXML(_1b18);FChart.Chart2.setTransparent(false);FChart.Chart2.render("report2");_1b17="<chart caption=\"Jobs Vs Hours\" subCaption=\"\" xAxisName=\"Days\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";_1b18="<chart caption=\"Jobs Comparison\" subCaption=\"\" xAxisName=\"Days\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";for(i=1;i<=7;i++){if(_1b0c[i]){_1b17+="<set label=\""+days[i-1]+"\" value=\""+NewCalendar.minstodecimal(_1b0c[i])+"\" color=\""+_1b0f[i-1]+"\"/>";_1b18+="<set label=\""+days[i-1]+"\" value=\""+NewCalendar.minstodecimal(_1b0c[i])+"\" color=\""+_1b0f[i-1]+"\"/>";}else{_1b17+="<set label=\""+days[i-1]+"\" value=\"0\" color=\""+_1b0f[i-1]+"\"/>";_1b18+="<set label=\""+days[i-1]+"\" value=\"0\" color=\""+_1b0f[i-1]+"\"/>";}}_1b17+="</chart>";_1b18+="</chart>";FChart.Chart3.setDataXML(_1b17);FChart.Chart3.setTransparent(false);FChart.Chart3.render("report3");FChart.Chart4.setDataXML(_1b18);FChart.Chart4.setTransparent(false);FChart.Chart4.render("report4");});},constructMonthReport:function(_1b19,_1b1a,month,year){var jobId=$("#rjobName").val();var _1b1e=$("#rUser").val();var _1b1f=$("#rbillstatus").val();$("#calmonth5").html(months[month]+" "+year);$("#customreport").hide();$("#weekreport").hide();$("#monthreport").show();$.post("/people/timesheet.do",{"mode":"getWeekTimesheet","userErecNo":_1b1e,"fromDate":_1b19,"toDate":_1b1a,"jobId":jobId,"billStatus":_1b1f,"conreqcsr":csrfToken},function(_1b20){var _1b21=eval(_1b20)[0];$("#timesheetreport").html("");var _1b22=0;if(Object.keys(_1b21).length==0){$("#timesheettotal").html("");txt="<tr class=\"zpwektotal\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\">"+i18n["hrms.timesheet.total"]+"</td>";txt+="<td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>";txt+="<td style=\"background-color:#f3f3f3;\">0</td>";txt+="</tr>";$("#timesheettotal").html(txt);$("#monthreportbody").hide();$("#monthreporempty").show();return false;}$("#monthreportbody").show();$("#monthreporempty").hide();var _1b24=NewCalendar.getFirstDayofMonth(year,month);_1b24-=weekstarts;if(_1b24<0){_1b24+=7;}var _1b25=NewCalendar.daysInMonth(year,month);var _1b26=$("#monthreport").find(".calday");var _1b27=false;var cal=1;var i=0;for(i=0;i<_1b26.length;i++){if(i==_1b24&&!_1b27){_1b27=true;}if(_1b27&&cal<=_1b25){_1b26[i].innerHTML=cal;_1b26[i].ldata=cal;cal++;if(i==28){$("#weektr5").show();}if(i==35){$("#weektr6").show();}}else{_1b26[i].innerHTML="-";if(i==28){$("#weektr5").hide();}if(i==35){$("#weektr6").hide();}}}var _1b2a=Timetracker.constructMontreportforWeek(_1b21,1);var _1b2b=Timetracker.constructMontreportforWeek(_1b21,2);var _1b2c=Timetracker.constructMontreportforWeek(_1b21,3);var _1b2d=Timetracker.constructMontreportforWeek(_1b21,4);var _1b2e=Timetracker.constructMontreportforWeek(_1b21,5);var _1b2f=Timetracker.constructMontreportforWeek(_1b21,6);var txt="<tr height=\"28\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\">&nbsp;</td>";for(i=1;i<=7;i++){var tot=0;if(_1b2a[i]){tot+=_1b2a[i];}if(_1b2b[i]){tot+=_1b2b[i];}if(_1b2c[i]){tot+=_1b2c[i];}if(_1b2d[i]){tot+=_1b2d[i];}if(_1b2e[i]){tot+=_1b2e[i];}if(_1b2f[i]){tot+=_1b2f[i];}if(tot!="0"){txt+="<td width=\"8%\">"+NewCalendar.minstohrs(tot)+"</td>";}else{txt+="<td width=\"8%\">0</td>";}_1b22+=tot;}if(_1b22!="0"){txt+="<td width=\"10%\" style=\"background-color:#f3f3f3;\">"+NewCalendar.minstohrs(_1b22)+"</td>";}else{txt+="<td width=\"10%\" style=\"background-color:#f3f3f3;\">0</td>";}txt+="</tr>";$("#timesheettotalwt").html(txt);});},constructMontreportforWeek:function(_1b31,nos){var txt="";var _1b34=new Object();for(var key in _1b31){var _1b36=new Object();var value=_1b31[key];var rdata=value.JOBS;var _1b39=0;txt+="<tr class=\"zpweklist\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\">"+value.JOBNAME+"</td>";txt+="<td class=\"zpwektitle\" style=\"text-align:left;width:20%;\">"+value.EMPNAME+"</td>";$.each(eval(rdata),function(index,data){if(data.week==nos){_1b36[data.day]=data.objval;if(_1b34[data.day]==undefined){_1b34[data.day]=data.objval;}else{_1b34[data.day]+=data.objval;}}});for(var i=1;i<=7;i++){if(_1b36[i]){txt+="<td>"+NewCalendar.minstohrs(_1b36[i])+"</td>";_1b39+=_1b36[i];}else{txt+="<td>0</td>";}}if(_1b39!="0"){txt+="<td class=\"zpwektotal\">"+NewCalendar.minstohrs(_1b39)+"</td>";}else{txt+="<td class=\"zpwektotal\">0</td>";}txt+="</tr>";}$("#timesheetreportw"+nos).html(txt);$("#timesheettotal").html("");txt="<tr class=\"\">";txt+="<td class=\"zpwektitle\" style=\"text-align:left;\" colspan=\"2\">"+i18n["hrms.timesheet.total"]+"</td>";var _1b3d=0;for(i=1;i<=7;i++){if(_1b34[i]){txt+="<td>"+NewCalendar.minstohrs(_1b34[i])+"</td>";_1b3d+=_1b34[i];}else{txt+="<td>0</td>";}}if(_1b3d!="0"){txt+="<td style=\"background-color:#f3f3f3;\">"+NewCalendar.minstohrs(_1b3d)+"</td>";}else{txt+="<td style=\"background-color:#f3f3f3;\">0</td>";}txt+="</tr>";$("#timesheettotalw"+nos).html(txt);return _1b34;},changereportType:function(obj,type){$(obj).parent().children().removeClass("seltab");$(obj).addClass("seltab");if(type=="0"){$("#timesheetreportdiv").show();$("#jobreportdiv").hide();Timetracker.generateCustomReport();}else{if(type=="2"){$("#timesheetreportdiv").hide();$("#jobreportdiv").show();Timetracker.generatejobReport();}}},generateMonthReport:function(){var d=NewCalendar.getCurrentMonth();var _1b41=NewCalendar.formatDate(d.from);var _1b42=NewCalendar.formatDate(d.to);var month=d.from.getMonth();var year=d.from.getFullYear();this.constructMonthReport(_1b41,_1b42,month,year);},generateMonthReportNext:function(){var d=NewCalendar.getNextMonth();var _1b46=NewCalendar.formatDate(d.from);var _1b47=NewCalendar.formatDate(d.to);var month=d.from.getMonth();var year=d.from.getFullYear();this.constructMonthReport(_1b46,_1b47,month,year);},generateMonthReportPrevious:function(){var d=NewCalendar.getPreviousMonth();var _1b4b=NewCalendar.formatDate(d.from);var _1b4c=NewCalendar.formatDate(d.to);var month=d.from.getMonth();var year=d.from.getFullYear();this.constructMonthReport(_1b4b,_1b4c,month,year);},reportTypechange:function(obj){if($(obj).val()=="2"){$("#customreportdate").show();$("#rfromdate").val("");$("#rtodate").val("");$("#customreportdate").find(".enter").remove();}else{$("#customreportdate").hide();}},generatejobReport:function(){var jobId=$("#jrjobName").val();var _1b51=$("#jrUser").val();var _1b52=$("#jrbillstatus").val();var _1b53={"mode":"getJobReport","userErecNo":_1b51,"jobId":jobId,"billStatus":_1b52,"conreqcsr":csrfToken};$.post("/people/timesheet.do",_1b53,function(_1b54){Timetracker.constructjobReport(_1b54);});},constructjobReport:function(_1b55){$("#timesheetjreport").html("");var txt="";var _1b57="<chart caption=\"Job Vs Work\" subCaption=\"\" xAxisName=\"Jobs\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\"  borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";var _1b58="<categories>";var _1b59="<dataset seriesname=\""+i18n["hrms.scheduler.totalhrs"]+"\">";var _1b5a="<dataset seriesname=\""+i18n["hrms.scheduler.scheduledhrs"]+"\">";var _1b5b="<chart caption=\"Billable Vs Non Billable\" subCaption=\"\" xAxisName=\"Jobs\" yAxisName=\"Hours\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";var _1b5c="<categories>";var _1b5d="<dataset seriesname=\""+i18n["hrms.scheduler.billablehrs"]+"\">";var _1b5e="<dataset seriesname=\""+i18n["hrms.scheduler.nbillablehrs"]+"\">";var _1b5f=0;var _1b60=0;$.each(eval(_1b55),function(index,data){txt+="<tr class=\"zpweklist\">";txt+="<td class=\"zpwektitle\">"+data.JOBNAME+"</td>";txt+="<td>"+data.firstName+"</td>";if(data.duration){txt+="<td>"+data.duration+"</td>";}else{txt+="<td>0</td>";}if(data.billablehours){txt+="<td>"+data.billablehours+"</td>";_1b5f+=Number(data.billablehours);}else{txt+="<td>-</td>";}if(data.nonbillablehours){txt+="<td>"+data.nonbillablehours+"</td>";_1b60+=Number(data.nonbillablehours);}else{txt+="<td>-</td>";}if(data.totalhours){txt+="<td>"+data.totalhours+"</td>";}else{txt+="<td>-</td>";}if(data.JOBSTATUS!=undefined&&data.JOBSTATUS=="0"){txt+="<td>"+i18n["hrms.scheduler.inprogress"]+"</td>";}else{txt+="<td>"+i18n["hrms.scheduler.completed"]+"</td>";}txt+="</tr>";_1b58+="<category label=\""+data.JOBNAME+"\"/>";_1b5c+="<category label=\""+data.JOBNAME+"\"/>";_1b59+="<set value=\""+data.totalhours+"\" />";if(data.duration){_1b5a+="<set value=\""+data.duration+"\"/>";}else{_1b5a+="<set value=\"0\"/>";}_1b5d+="<set value=\""+data.billablehours+"\" />";_1b5e+="<set value=\""+data.nonbillablehours+"\"/>";});_1b58+="</categories>";_1b59+="</dataset>";_1b5a+="</dataset>";_1b57+=_1b58+_1b5a+_1b59;_1b57+="</chart>";_1b5c+="</categories>";_1b5d+="</dataset>";_1b5e+="</dataset>";_1b5b+=_1b5c+_1b5e+_1b5d;_1b5b+="</chart>";$("#timesheetjreport").html(txt);$("#timesheetjreportdiv").show();if(!FChart.jobval){FChart.jobinit();}FChart.chart1.setDataXML(_1b57);FChart.chart1.setTransparent(false);FChart.chart1.render("jreport1");FChart.chart2.setDataXML(_1b57);FChart.chart2.setTransparent(false);FChart.chart2.render("jreport2");FChart.chart3.setDataXML(_1b5b);FChart.chart3.setTransparent(false);FChart.chart3.render("jreport3");var _1b63="<chart caption=\"Billable Vs Non Billable\" showPercentagevalues=\"1\" subCaption=\"\" numberPrefix=\"\" useRoundEdges=\"1\"  bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" alternateVGridColor=\"AFD8F8\" baseFontColor=\"114B78\" toolTipBorderColor=\"114B78\" toolTipBgColor=\"E7EFF6\" exportEnabled=\"1\" exportAtClient=\"0\" exportAction=\"download\" exportFileName=\"MyFileName\">";_1b63+="<set value=\""+_1b5f+"\" color=\"C295F2\" label=\""+i18n["hrms.timesheet.billable"]+"\" /><set value=\""+_1b60+"\" color=\"00ACE8\" label=\""+i18n["hrms.timesheet.nonbillable"]+"\"/>";_1b63+="<styles><definition><style name=\"Font_0\" type=\"font\" font=\"Calibri\" size=\"14\" bold=\"1\" bgcolor=\"FFFFFF\" bordercolor=\"FFFFFF\" isHTML=\"0\"/><style name=\"Font_1\" type=\"font\" size=\"15\" color=\"000080\" bgcolor=\"FFFFFF\" bordercolor=\"FFFFFF\" isHTML=\"0\"/></definition><application><apply toObject=\"DATALABELS\" styles=\"Font_0\"/>    <apply toObject=\"CAPTION\" styles=\"Font_1\"/></application></styles></chart>";FChart.chart4.setDataXML(_1b63);FChart.chart4.setTransparent(false);FChart.chart4.render("jreport4");},printReport:function(divid){var _1b65=window.open();_1b65.focus();var _1b66="<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http"+"://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html>";_1b66+=$("head").html();_1b66+="<body onload=\"self.print()\"><div class=\"zpcontbg\"><div class=\"zptwopane\"><div class=\"lft\">";_1b66+=$("#"+divid).find(".lft").html();_1b66+="</div><div style=\"width: 260px;\"></div></div></div></body></html>";_1b66=_1b66.replace("Timetracker.printReport('"+divid+"')","window.print()");_1b65.document.write(_1b66);_1b65.document.close();},timesheetImport:function(form){$("#formBizcpn").val(csrfToken);form.action="/people/timeSheetImport.do";form.submit();},tableName:null,timesheetshowMapping:function(obj){this.tableName=obj.tableName;theadersList=obj.tableHeaders;theadersList=theadersList.slice(1,theadersList.length-1);rArray=theadersList.split(",");var _1b69="<option value='None' selected='selected'>-- "+i18n["hrms.common.select"]+" --</option>";for(i in rArray){_1b69+="<option value='"+i+"'>"+rArray[i]+"</option>";}$("#imp_date").html(_1b69);$("#imp_proj").html(_1b69);$("#imp_task").html(_1b69);$("#imp_Hrs").html(_1b69);$("#imp_Billing").html(_1b69);$("#importDiv").hide();$("#showMapping").show();$("#list_view").hide();},submitMapping:function(){var _1b6a=this.tserecno;var _1b6b=docid("imp_date").selectedIndex;var _1b6c=docid("imp_proj").selectedIndex;var _1b6d=docid("imp_task").selectedIndex;var _1b6e=docid("imp_Hrs").selectedIndex;var _1b6f=docid("imp_Billing").selectedIndex;if(_1b6b==0||_1b6c==0||_1b6d==0||_1b6e==0||_1b6f==0){return;}var param={"mode":"timesheetImportMapping","date":_1b6b-1,"projname":_1b6c-1,"task":_1b6d-1,"hours":_1b6e-1,"billing":_1b6f-1,"userErecNo":_1b6a,"impDataTable":this.tableName,"conreqcsr":csrfToken};$.post("/people/timesheet.do",param,function(_1b71){Timetracker.showListView();Timetracker.getTimesheet(false,"-1");$("#showMapping").show();});},showDelete:function(val){$("#deleteShow_"+val).show();},hideDelete:function(val){$("#deleteShow_"+val).hide();},showImportfld:function(){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#importFile").val("");$("#importDiv").show();},showexportfld:function(){$("#"+Layout.containerid).find(".zpcontbg").hide();$("#from_date").val("");$("#to_date").val("");$("#export_bill").val("-1");$("#tsexportas").find("input")[0].checked=true;$("#exportDiv").show();},getTimesheetcalendar:function(){var month=NewCalendar.curMonth;var year=NewCalendar.curYear;NewCalendar.constructCalendar(year,month);},timesheetExportFn:function(){var _1b76=$("#from_date").val();var _1b77=$("#to_date").val();var _1b78=$("#export_bill").val();var _1b79=false;if(!NewCalendar.isvalidDate(_1b76)&&$("#from_date").parent().find(".enter").length<1){$("#from_date").parent().append("<span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");_1b79=true;}var _1b7a=false;if(!NewCalendar.isvalidDate(_1b77)&&$("#to_date").parent().find(".enter").length<1){$("#to_date").parent().append("<span class='enter'>"+i18n["hrms.scheduler.invaliddate"]+"</span>");_1b7a=true;}if(_1b79||_1b7a){return false;}var _1b7b=$("#expusers").val();var _1b7c=$("#tsexportas").find("input:checked").val();var path="/people/timeSheetExport.do?userErecNo="+_1b7b+"&getfrmDate="+_1b76+"&gettoDate="+_1b77+"&getbill="+_1b78+"&exportas="+_1b7c;var _1b7e="post";var form=document.createElement("form");form.id="formexport";var _1b80=document.createElement("input");form.setAttribute("method",_1b7e);form.setAttribute("action",path);_1b80.setAttribute("type","hidden");form.appendChild(_1b80);document.body.appendChild(form);form.submit();form.reset();$("#formexport").remove();},populatetimesheet:function(){var _1b81=$("#tscalusers").val();this.tserecno=_1b81;$("#tsusers").val(this.tserecno);var _1b82=$("#"+Layout.containerid).find("#tscaltype").val();$.post("/people/timesheet.do",{"mode":"getMonthTimesheet","userErecNo":_1b81,"year":NewCalendar.curYear,"month":NewCalendar.curMonth,"typeMode":_1b82,"conreqcsr":csrfToken},function(_1b83){var _1b84=new Array();$.each(eval(_1b83),function(index,data){var rData={};if(NewCalendar.totaldata){rData.objval=data.objval;}rData.date=data.date;rData.type=data.type;var txt="<div style='height: 20px;line-height: 20px;'><a href='javascript:void(0);' onclick=\"CalendarImpl.gotodate('"+data.date+"')\" >"+NewCalendar.minstohrs(data.objval)+"</a><div>";rData.txt=txt;_1b84.push(rData);});NewCalendar.populateData(_1b84);});},shownewjob:function(obj){var _1b8a=$(obj).parent().parent();_1b8a.find("#jobinput").show();_1b8a.find("#jobselect").hide();},cancelnewjob:function(obj){var _1b8c=$(obj).parent().parent();_1b8c.find("#jobinput").hide();_1b8c.find("#jobselect").show();}};EditRow={editMode:false,sheetId:null,jobId:null};DeleteRow={sheetId:null};FChart={Chart1:null,Chart2:null,Chart3:null,Chart4:null,chart1:null,chart2:null,chart3:null,chart4:null,weekval:false,jobval:false,weekinit:function(){this.weekval=true;FusionCharts.setCurrentRenderer("JavaScript");this.Chart1=new FusionCharts("../../Charts/Column2D.swf","ChartId1","400","300","0","0");this.Chart2=new FusionCharts("../../Charts/Pie3D.swf","ChartId2","400","300","0","0");this.Chart3=new FusionCharts("../../Charts/Column2D.swf","ChartId3","400","300","0","0");this.Chart4=new FusionCharts("../../Charts/Pie3D.swf","ChartId4","400","300","0","0");},jobinit:function(){this.jobval=true;FusionCharts.setCurrentRenderer("JavaScript");this.chart1=new FusionCharts("../../Charts/MSBar2D.swf","myChartId1","400","300","0","0");this.chart2=new FusionCharts("../../Charts/MSColumn2D.swf","myChartId2","400","300","0","1");this.chart3=new FusionCharts("../../Charts/StackedColumn2D.swf","myChartId3","400","300","0","1");this.chart4=new FusionCharts("../../Charts/Doughnut2D.swf","myChartId","400","300","0","1");}};CalendarImpl={logtimeclick:function(obj,event){Timetracker.showLogtime(event,obj);NewCalendar.curDate=obj.parentNode.parentNode.ldata;var _1b8f=new Date();_1b8f.setDate(NewCalendar.curDate);_1b8f.setMonth(NewCalendar.curMonth);_1b8f.setFullYear(NewCalendar.curYear);$("#sheet_date").val(NewCalendar.formatDate(_1b8f));$("#daterow").hide();$("#workitemrow").hide();$("#descrow").hide();},gotodate:function(date){Timetracker.showListView();var _1b91=new Date();_1b91.setFullYear(NewCalendar.curYear);_1b91.setMonth(NewCalendar.curMonth);_1b91.setDate(date);Timetracker.tmpDate.day=_1b91;NewCalendar.daydate=_1b91;Timetracker.dispMode=Timetracker.DAILY;Timetracker.getTimesheet(false,"-1");}};var Attendance={};window.addEventListener("click",function(){if($a("showmsg")){$a("showmsg").style.top="-100px";}if($a("showmsg1")){$a("showmsg1").style.top="-100px";}if($a("punchInMsg")){$a("punchInMsg").style.display="none";}if($a("tab1_showDepListId")){$a("tab1_showDepListId").style.display="none";}if($a("tab2_showDepListId")){$a("tab2_showDepListId").style.display="none";}if($a("tab1_showLocListId")){$a("tab1_showLocListId").style.display="none";}if($a("tab2_showLocListId")){$a("tab2_showLocListId").style.display="none";}if($("#addIpPopup")){$("#addIpPopup").css("display","none");}Attendance.Settings.Shift.addShiftCancel();},false);Attendance.disTimeOnly=function(str){if(str==null||str==""){return "-";}return str.split("-")[str.split("-").length-1].trim();};Attendance.disTime=function(mins){var ampm=i18n.am.toLocaleUpperCase();if(mins>=12*60){ampm=i18n.pm.toLocaleUpperCase();if(mins>=13*60){mins-=12*60;}}if(mins%60==0){var list=(mins/60)+ampm;}else{list=(mins-(mins%60))/60+":"+Attendance.disTwoDigit(mins%60)+""+ampm;}return list;};Attendance.disTimeList=function(mins){var ampm=i18n.am.toLocaleUpperCase();if(mins>=12*60){ampm=i18n.pm.toLocaleUpperCase();if(mins>=13*60){mins-=12*60;}}var list=this.disTwoDigit((mins-(mins%60))/60)+" : "+Attendance.disTwoDigit(mins%60)+" "+ampm;return list;};Attendance.disDate=function(dval){if(dval==null||dval==""){return "-";}var mmm=dval.match(/[a-z]+/i);if(mmm==null){return dval;}else{if(mmm[0].length==3){return dval.replace((/[a-z]+/i),i18n["hrms.common."+mmm[0].toLowerCase()]);}else{return dval.replace((/[a-z]+/i),i18n[mmm[0].toLowerCase()]);}}};Attendance.Entry={selectedView:null,userName:null,userErecno:null,checkInOut:"In",erecNo:null,init:function(){},initEmpList:function(_1b9b){var _1b9c=$("#showEmpid");this.userName=_1b9b.eId+" "+_1b9b.fName+" "+_1b9b.lName;this.userErecno=_1b9b.eNo+"";_1b9c[0].value=this.userName;_1b9c[0].dvalue=this.userName;_1b9c.focus(function(){$(this).select();});_1b9c.blur(function(){$a("showEmpListId").style.display="none";if(this.value.trim()==""){this.dvalue=Attendance.Entry.userName;this.uVal="";Attendance.Entry.erecNo=null;if(Attendance.Entry.checkInOut=="in"){$("#butt_punchIn")[0].className="zpgrn fl mr20";$("#butt_punchIn").next()[0].className="zpgry fl";}else{$("#butt_punchIn")[0].className="zpgry fl mr20";$("#butt_punchIn").next()[0].className="zpgrn fl";}Attendance.Entry.getList();}if(this.dvalue!=null){this.value=this.dvalue;}});},preMonth:null,getList:function(obj,_1b9e,_1b9f){if(Attendance.Entry.selectedView!=null){$a(this.selectedView+"View").className="";}else{this.selectedView="week";}if(_1b9e!=null&&_1b9e!=""){this.selectedView=_1b9e;}if(obj==null){obj=$a(this.selectedView+"View");}obj.className="tabsel";var param={"mode":"getAttList","view":this.selectedView,"conreqcsr":csrfToken};if(this.erecNo){param.erecno=this.erecNo;$("#butt_punchIn")[0].className="zpgry fl mr20";$("#butt_punchIn").next()[0].className="zpgry fl";}if(_1b9f=="zero"){$a("disMthVal").selectedIndex=0;_1b9f=0;}if(_1b9f!=null){param.preMonth=_1b9f;this.preMonth=_1b9f;}else{if(this.preMonth){param.preMonth=this.preMonth;}}this.temp_tsecs=0;$.post("/people/AttendanceAction.do",param,function(_1ba1){var rdata=JSON.parse(_1ba1);Attendance.Entry.currTime=rdata.currDate;Attendance.Entry.setTime("first");Attendance.Entry.setMonthDetails(rdata.monthDetails);Attendance.Entry.showDayList(rdata.dayList);if(!param.erecno){Attendance.Entry.initEmpList(rdata.userDetails);}if(rdata.Att_AllowUIEntry=="0"){$("#butt_punchIn")[0].onclick=Attendance.Entry.punchIn;$("#butt_punchIn").next()[0].onclick=Attendance.Entry.punchOut;}Attendance.Entry.consMonthList();});},currTime:null,timer:null,monthInd:{0:i18n["january"],1:i18n["february"],2:i18n["march"],3:i18n["april"],4:i18n["may"],5:i18n["june"],6:i18n["july"],7:i18n["august"],8:i18n["september"],9:i18n["october"],10:i18n["november"],11:i18n["december"]},consMonthList:function(){var list=$a("disMthVal");if(list.getElementsByTagName("option").length!=0){return;}for(var i=0;i<12;i++){var month=Attendance.Entry.currTime.MONTH-i;var year=Attendance.Entry.currTime.YEAR;if(month<0){month+=12;year-=1;}var val=Attendance.Entry.monthInd[month]+" "+year;var opt=$1("option","","",val);opt.month=i;opt.val=val;list.appendChild(opt);}},setTime:function(rec){window.clearTimeout(Attendance.Entry.timer);var _1baa=$a("clockId");if(rec!=null&&rec=="first"){$a("clockDate").innerHTML=Attendance.Entry.currTime.DAY_OF_MONTH+" "+Attendance.Entry.monthInd[Attendance.Entry.currTime.MONTH]+" "+Attendance.Entry.currTime.YEAR;_1baa.getElementsByTagName("div")[0].innerHTML=Attendance.Entry.currTime.HOUR;_1baa.getElementsByTagName("div")[1].innerHTML=Attendance.Entry.currTime.MINUTE;_1baa.getElementsByTagName("div")[2].innerHTML=Attendance.Entry.currTime.SECOND;if(Attendance.Entry.currTime.AM_PM==1){_1baa.getElementsByTagName("span")[2].innerHTML=i18n.pm;}else{_1baa.getElementsByTagName("span")[2].innerHTML=i18n.am;}}if(Attendance.Entry.currTime.SECOND==59){Attendance.Entry.currTime.SECOND=0;_1baa.getElementsByTagName("div")[2].innerHTML="00";if(Attendance.Entry.currTime.MINUTE==59){Attendance.Entry.currTime.MINUTE=0;if(Attendance.Entry.currTime.HOUR==11){Attendance.Entry.getList();return;}if(Attendance.Entry.currTime.HOUR==12){Attendance.Entry.currTime.HOUR=0;}Attendance.Entry.currTime.HOUR++;_1baa.getElementsByTagName("div")[1].innerHTML=Attendance.disTwoDigit(Attendance.Entry.currTime.MINUTE);_1baa.getElementsByTagName("div")[0].innerHTML=Attendance.disTwoDigit(Attendance.Entry.currTime.HOUR);}else{Attendance.Entry.currTime.MINUTE++;_1baa.getElementsByTagName("div")[1].innerHTML=Attendance.disTwoDigit(Attendance.Entry.currTime.MINUTE);}}else{Attendance.Entry.currTime.SECOND++;_1baa.getElementsByTagName("div")[2].innerHTML=Attendance.disTwoDigit(Attendance.Entry.currTime.SECOND);}if($a("butt_punchOut").className=="zpgrn fl"&&this.updateTime==Attendance.Entry.currTime.SECOND){Attendance.Entry.updateTotalmins(60);}Attendance.Entry.timer=setTimeout("Attendance.Entry.setTime()",1000);},setMonthDetails:function(data){$a("presentCountId").innerHTML=data.present_count;$a("holidayCountId").innerHTML=data.holiday_count;$a("weekendCountId").innerHTML=data.weekend_count;$a("leaveCountId").innerHTML=data.leave_count;},updateTime:null,temp_tsecs:0,updateTotalmins:function(_1bac,_1bad){var _1bae=$a("todayListId");if(_1bac<0||!_1bae){return;}if(_1bad=="set"){var _1baf=_1bac;_1bae.adata.tsecs=_1bac;this.temp_tsecs=0;}else{if(_1bad=="add"){_1baf=_1bae.adata.tsecs+_1bac;_1bae.adata.tsecs=_1baf;this.temp_tsecs=0;}else{_1baf=_1bae.adata.tsecs+this.temp_tsecs+_1bac;this.temp_tsecs+=_1bac;}}var sec=parseInt(_1baf%60);if(this.updateTime==null){this.updateTime=59-sec;}var min=parseInt(((_1baf-sec)/60)%60);var hrs=parseInt((_1baf-min)/(60*60));_1bae.childNodes[2].innerHTML=Attendance.disTwoDigit(hrs)+":"+Attendance.disTwoDigit(min);if(_1bae.childNodes[1].childNodes[0].childNodes[0].style.width!="100px"){var per=_1baf/60/60/10*100;if(per>100){per=100;}_1bae.childNodes[1].childNodes[0].childNodes[0].style.width=per+"%";}},showDayList:function(data){if(!data){return;}$a("wl_WeekList").style.display="";var _1bb5=$a("wl_list");_1bb5.innerHTML="";for(var i=0;data[i]!=null;i++){var trow=$1("tr",null,"zpweklist");trow.adata=data[i];if(!data[i].tsecs){data[i].tsecs=0;}var per=data[i].tsecs/60/60/10*100;var _1bb9="pbar pbar-blu";if(per>100){per=100;}if(data[i].isLeaveToday){_1bb9="pbar pbar-org";per=100;trow.title=data[i].isLeaveToday;}else{if(data[i].isWeekend){_1bb9="pbar pbar-yel";per=100;trow.title=Attendance.i18n.weekend;}}if(data[i].holidayName){_1bb9="pbar pbar-grn";per=100;trow.title=data[i].holidayName;}if(data[i].isToday==true){trow.id="todayListId";}trow.appendChild($1("td",null,"",days[data[i].day-1]+", "+Attendance.disDate(data[i].ldate)));var bar="<div class=\""+_1bb9+"\"><div class=\"pbar-inner\" style=\"width:"+per+"%\"></div></div>";if(!data[i].holidayName&&!data[i].isWeekend&&!data[i].isLeaveToday&&!data[i].isToday&&data[i].isPresent=="absent"){bar="<div class=\""+_1bb9+"\"><div class=\"pbar-inner\" style=\"width:100%;background-color:red\"></div></div>";}var tdBar=$1("td",null,"",bar);tdBar.style.cursor="pointer";tdBar.attDate=data[i].attDate;tdBar.onclick=Attendance.Entry.showAttDetails;trow.appendChild(tdBar);trow.appendChild($1("td",null,"zpwektitle",data[i].tHrs));_1bb5.appendChild(trow);}if($a("todayListId")){$a("todayListId").childNodes[1].onclick();}},selectedNode:null,showAttDetails:function(){var _1bbc=this;if(this.AttEntries==null){var param={"mode":"getAttEntries","conreqcsr":csrfToken};if(Attendance.Entry.erecNo){param.erecno=Attendance.Entry.erecNo;}param.attDate=this.attDate;$.post("/people/AttendanceAction.do",param,function(_1bbe){_1bbc.AttEntries=JSON.parse(_1bbe).AttEntries;_1bbc.onclick();});return;}if(this.parentNode.childNodes[1].punchIn){var _1bbf=this.parentNode.childNodes[1].punchIn;this.parentNode.childNodes[1].punchIn=null;this.AttEntries=[{"allowPunchOut":true,"fdate":_1bbf,"addHrs":0,"tdate":"-"}];this.callback=null;}if(Attendance.Entry.selectedNode&&Attendance.Entry.selectedNode!=this){Attendance.Entry.selectedNode.parentNode.className="zpweklist";$(Attendance.Entry.selectedNode.childNodes[1]).slideUp(300);}var _1bc0=this.AttEntries;if(_1bc0.length==0){if(this.parentNode.id=="todayListId"&&Attendance.Entry.erecNo==null){$("#butt_punchIn")[0].className="zpgrn fl mr20";$("#butt_punchOut")[0].className="zpgry fl";}return;}if(this.childNodes.length==1&&Attendance.Entry.selectedNode!=this){if(this.parentNode.id=="todayListId"&&Attendance.Entry.erecNo==null){$("#butt_punchIn")[0].className="zpgrn fl mr20";$("#butt_punchOut")[0].className="zpgry fl";}this.parentNode.className="zpweklist sel";var div1=$1("div","","pbardet");div1.style.display="none";var div2=null;for(var i in _1bc0){var att=_1bc0[i];if(Attendance.Entry.erecNo==null&&att.allowPunchOut){Attendance.Entry.checkInOut="out";$a("butt_punchOut").className="zpgrn fl";$a("butt_punchIn").className="zpgry fl mr20";Attendance.Entry.updateTotalmins(att.addHrs);}div2=$1("div","","pbdet");div2.appendChild($1("div","","pbdetdiv","<span>"+Attendance.i18n.checkIn+"</span>"+Attendance.disTimeOnly(att.fdate)));div2.appendChild($1("div","","pbdetdiv","<span>"+Attendance.i18n.checkOut+"</span>"+Attendance.disTimeOnly(att.tdate)));if(div2!=null){div1.appendChild(div2);}}this.appendChild(div1);$(div1).slideDown(300);}else{if(this.childNodes[1].style.display=="none"){$(this.childNodes[1]).slideDown(300);this.parentNode.className="zpweklist sel";Attendance.Entry.selectedNode=this;}else{$(this.childNodes[1]).slideUp(300);this.parentNode.className="zpweklist";Attendance.Entry.selectedNode=null;}}if(this.callback&&typeof (this.callback)=="function"){this.callback();}Attendance.Entry.selectedNode=this;},showList:function(data){if(!data){return;}$a("dl_DayList").style.display="none";var _1bc6=$a("punchInButId");_1bc6.className="zpblu";var _1bc7=$a("dd_list");_1bc7.innerHTML="";for(var i=0;data[i]!=null;i++){var trow=$1("tr","id","zpweklist");trow.id=data[i].attid;trow.adata=data[i];var td0=$1("td",null,"zpwektitle",Attendance.disDate(data[i].fdate));if(data[i].tdate==null||data[i].tdate==""){if(i==0){_1bc6.className="zpgry";}var _1bcb="<input type=\"button\" value=\""+Attendance.i18n.checkOut+"\" class=\"zpbla\" style=\"width:auto; border:1px solid #929292;\" onclick=\"Attendance.Entry.punchOut(this)\">";var td3=$1("td",null,"zpwektotal","");}else{_1bcb=Attendance.disDate(data[i].tdate);td3=$1("td",null,"zpwektotal",data[i].tHrs);}var td1=$1("td",null,"",_1bcb);if(data[i].desc!=""){var td2=$1("td",null,"",data[i].desc);}trow.appendChild(td0);trow.appendChild(td1);trow.appendChild(td2);trow.appendChild(td3);_1bc7.appendChild(trow);}},punchIn:function(){if(this.className=="zpgry fl mr20"){return;}Attendance.Entry.checkInOut="out";$a("butt_punchOut").className="zpgrn fl";this.className="zpgry fl mr20";var param={"mode":"punchIn","conreqcsr":csrfToken};if($a("desc_punchIn")&&$a("desc_punchIn").value.trim()!=""){param.desc=$a("desc_punchIn").value;}$.post("/people/AttendanceAction.do",param,function(_1bd0){var rdata=JSON.parse(_1bd0);if(rdata.fail){$a("butt_punchIn").className="zpgrn fl mr20";$a("butt_punchOut").className="zpgry fl";return;}var _1bd2=$a("todayListId");if(_1bd2){_1bd2.childNodes[1].punchIn=rdata.msg;if(_1bd2.childNodes[1].childNodes.length==1){_1bd2.childNodes[1].callback=function(){Attendance.Entry.punchIncallback();};_1bd2.childNodes[1].onclick();}else{Attendance.Entry.punchIncallback();}}});},punchIncallback:function(){var _1bd3=$a("todayListId");_1bd3.childNodes[1].callback=null;if(_1bd3.childNodes[1].childNodes[1]&&_1bd3.className=="zpweklist"){_1bd3.childNodes[1].childNodes[1].style.display="";_1bd3.className="zpweklist sel";if(Attendance.Entry.selectedNode&&Attendance.Entry.selectedNode.parentNode.id!="todayListId"){Attendance.Entry.selectedNode.parentNode.className="zpweklist";$(Attendance.Entry.selectedNode.childNodes[1]).slideUp(300);}Attendance.Entry.selectedNode=_1bd3.childNodes[1];}var div2=$1("div","","pbdet");div2.appendChild($1("div","","pbdetdiv","<span>"+Attendance.i18n.checkIn+"</span>"+Attendance.disTimeOnly(_1bd3.childNodes[1].punchIn)));_1bd3.childNodes[1].punchIn=null;div2.appendChild($1("div","","pbdetdiv","<span>"+Attendance.i18n.checkOut+"</span>"));var _1bd5=$a("todayListId").childNodes[1].childNodes[1];if(_1bd5){_1bd5.insertBefore(div2,_1bd5.firstChild);}else{var pdiv=$1("div","","pbardet");pdiv.appendChild(div2);$a("todayListId").childNodes[1].appendChild(pdiv);}},punchOut:function(){if(this.className=="zpgry fl"){return;}Attendance.Entry.checkInOut="in";$a("butt_punchIn").className="zpgrn fl mr20";this.className="zpgry fl";Attendance.Entry.updateTime=null;var param={"mode":"punchOut","conreqcsr":csrfToken};$.post("/people/AttendanceAction.do",param,function(_1bd8){var rdata=JSON.parse(_1bd8);if(rdata.fail){$a("butt_punchIn").className="zpgry fl mr20";$a("butt_punchOut").className="zpgrn fl";return;}var _1bda=$a("todayListId");if(_1bda){_1bda.childNodes[1].punchOut=rdata.punchOut;if(_1bda.childNodes[1].childNodes.length==1){_1bda.childNodes[1].callback=Attendance.Entry.punchOutCallback;_1bda.childNodes[1].onclick();}else{Attendance.Entry.punchOutCallback();}}});},punchOutCallback:function(){var _1bdb=$a("todayListId");_1bdb.childNodes[1].callback=null;if(_1bdb.className=="zpweklist"){_1bdb.childNodes[1].childNodes[1].style.display="";_1bdb.className="zpweklist sel";if(Attendance.Entry.selectedNode&&Attendance.Entry.selectedNode.parentNode.id!="todayListId"){Attendance.Entry.selectedNode.parentNode.className="zpweklist";$(Attendance.Entry.selectedNode.childNodes[1]).slideUp(300);}}_1bdb.childNodes[1].childNodes[1].childNodes[0].childNodes[1].innerHTML="<span>"+Attendance.i18n.checkOut+"</span>"+Attendance.disTimeOnly(_1bdb.childNodes[1].punchOut.tdate);if(_1bdb.childNodes[1].punchOut.totalMins){Attendance.Entry.updateTotalmins(_1bdb.childNodes[1].punchOut.totalMins,"set");}else{Attendance.Entry.updateTotalmins(_1bdb.childNodes[1].punchOut.tsecs,"add");}}};Attendance.disTwoDigit=function(val){if(val>9){return val;}else{return "0"+val;}};Attendance.showMessage=function(_1bdd){try{_1bdd=JSON.parse(_1bdd);}catch(e){return false;}if(_1bdd.msg){Attendance.succMsg(_1bdd.msg);}else{if(_1bdd.fail){Attendance.failMsg(_1bdd.fail);return false;}else{if(_1bdd.error){Attendance.failMsg($a(_1bdd.error).value);return false;}}}return true;};Attendance.succMsg=function(value){var _1bdf=$a("showmsg");if(value){_1bdf.innerHTML=value;_1bdf.style.top="-40px";}var i=parseInt(_1bdf.style.top);if(i>=0){window.clearTimeout(tmer);return;}_1bdf.style.top=(++i)+"px";var tmer=setTimeout("Attendance.succMsg()",10);};Attendance.failMsg=function(value){var _1be3=$a("showmsg1");if(value){_1be3.innerHTML=value;_1be3.style.top="-40px";}var i=parseInt(_1be3.style.top);if(i>=0){window.clearTimeout(tmer);return;}_1be3.style.top=(++i)+"px";var tmer=setTimeout("Attendance.failMsg()",10);};function $a(id){return document.getElementById(id);}function $1(tag,id,_1be9,_1bea,value){var _1bec=document.createElement(tag);if(id){_1bec.id=id;}if(_1be9){_1bec.className=_1be9;}if(_1bea){_1bec.innerHTML=_1bea;}if(value){_1bec.value=value;}return _1bec;}function stopEvents(ev){if(ev==undefined){ev=window.event;}if(ev.stopPropagation){ev.preventDefault();ev.stopPropagation();}else{ev.cancelBubble=true;ev.returnValue=false;}}Attendance.getsize=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key)){size++;}}return size;};Attendance.Export={submit:function(){var form=$a("exp_form");form.action="/people/AttendanceExport.do";form.submit();}};Attendance.Import={tableName:"",show:function(){$a("showImport").style.display="";$a("showMapping").style.display="none";this.getPendingImport();},submit:function(form){$a("formBizcpn").value=csrfToken;form.action="/people/AttendanceImport.do";form.submit();},getPendingImport:function(){var _1bf3=$a("penImport");_1bf3.style.display="none";$.post("/people/AttendanceAction.do",{mode:"getPendingImportInfo","conreqcsr":csrfToken},function(_1bf4){var rdata=JSON.parse(_1bf4);if(rdata.tableInfo.tableHeaders=="empty"){_1bf3.onclick=function(){};_1bf3.innerHTML="";_1bf3.style.display="none";}else{_1bf3.onclick=function(){Attendance.Import.showMapping(rdata.tableInfo);};_1bf3.innerHTML=rdata.tableInfo.recordCount+Attendance.i18n.recordspending;_1bf3.style.display="";}});},showMapping:function(obj){var _1bf7=obj.tableHeaders;_1bf7=_1bf7.slice(1,_1bf7.length-1);var _1bf8=_1bf7.split(",");var res="<option value='None' selected='selected'>-- "+Attendance.i18n.select+" --</option>";for(var i in _1bf8){res+="<option value='"+i+"'>"+_1bf8[i]+"</option>";}$a("mailId").innerHTML=res;$a("punchIn").innerHTML=res;$a("punchOut").innerHTML=res;$a("descId").innerHTML=res;$a("rCountId").innerHTML=obj.recordCount+" "+Attendance.i18n.recordsfound;$a("showImport").style.display="none";$a("showMapping").style.display="";if(obj.fileFormat!="csv"){$a("showDateFormat").style.display="none";}else{$a("showDateFormat").style.display="";}},submitMapping:function(){var si_Id=$a("mailId").selectedIndex;var _1bfc=$a("punchIn").selectedIndex;var _1bfd=$a("punchOut").selectedIndex;var _1bfe=$a("descId").selectedIndex;if(si_Id==0||_1bfc==0||_1bfd==0){return;}var param={"mode":"attImportMapping","mailId":si_Id-1,"punchInId":_1bfc-1,"punchOutId":_1bfd-1,"descId":_1bfe-1,"conreqcsr":csrfToken};if($a("showDateFormat").style.display!="none"){param.dateFormat=$a("dateFormat").value;}$.post("/people/AttendanceAction.do",param,function(_1c00){if(Attendance.showMessage(_1c00)){window.location="#attendance/entry";}});}};Attendance.Report={init:function(){this.getDepLocList();this.getDailyReport();},showTab:function(obj){obj.className="seltab";if(obj.id=="id_tab1"){$a("id_tab2_Cont").style.display="none";$a("id_tab1_Cont").style.display="";$a("id_tab2").className="";}else{if(obj.id=="id_tab2"){$a("tab2_customReportHead").style.display="";$a("id_tab1_Cont").style.display="none";$a("id_tab2_Cont").style.display="";$a("id_tab1").className="";var _1c02=$("#tab2_showEmpid");_1c02[0].value=Attendance.i18n.allEmployees;_1c02[0].dvalue=Attendance.i18n.allEmployees;_1c02.focus(function(){$(this).select();});_1c02.click(function(){});_1c02.blur(function(){$a("tab2_showEmpListId").style.display="none";if(this.value.trim()==""){this.dvalue=Attendance.i18n.allEmployees;this.uVal="";}if(this.dvalue!=null){this.value=this.dvalue;}});}}},consXMLdata:function(data){var _1c04=data.absentCount;var _1c05=data.presentCount;var _1c06=data.holidayCount;var leave=data.leaveCount;var _1c08="<chart color=\"red\" caption=\"\" bgColor=\"FFFFFF\" borderColor=\"FFFFFF\" palette=\"2\" animation=\"1\" formatNumberScale=\"0\" numberPrefix=\"\" pieSliceDepth=\"30\" startingAngle=\"225\"> "+"<set color=\"#FCDB00\" label=\""+Attendance.i18n.absent+"\" value=\""+_1c04+"\" isSliced=\"1\" /> "+" <set color=\"#AACC00\" label=\""+Attendance.i18n.holiday+"\" value=\""+_1c06+"\" isSliced=\"0\" /> "+"<set color=\"#FFBB55\" label=\""+Attendance.i18n.leave+"\" value=\""+leave+"\" isSliced=\"0\" /> "+"<set color=\"#77CCEE\" label=\""+Attendance.i18n.present+"\" value=\""+_1c05+"\" isSliced=\"0\" /> "+"<styles><definition><style type=\"font\" name=\"CaptionFont\" size=\"15\"/>"+"<style type=\"font\" name=\"SubCaptionFont\" bold=\"0\" /></definition><application>"+"<apply toObject=\"caption\" styles=\"CaptionFont\" /><apply toObject=\"SubCaption\" styles=\"SubCaptionFont\" />"+"</application></styles></chart>";FusionCharts.setCurrentRenderer("JavaScript");var chart=new FusionCharts("/people/js/thirdparty/Charts/Pie3D.swf","attChartId","550","400","0","0");chart.setXMLData(_1c08);chart.render("chartdiv1");$a("totCountId").innerHTML=data.totalCount;$a("preCountId").innerHTML=_1c05;$a("absCountId").innerHTML=_1c04;$a("levCountId").innerHTML=leave;$a("holCountId").innerHTML=_1c06;},getDailyReport:function(_1c0a){var param={"mode":"attDailyReport","conreqcsr":csrfToken};if(_1c0a){param.navigateDays=_1c0a;}var _1c0c=$a("tab1_showLocid");if(_1c0c&&_1c0c.val!=""&&_1c0c.val!=0){param.locationId=_1c0c.val;}var _1c0d=$a("tab1_showDepid");if(_1c0d&&_1c0d.val!=""&&_1c0d.val!=0){param.departmentId=_1c0d.val;}if($a("dr_dateId").value!=""){param.reportDate=$a("dr_dateId").value;}$.post("/people/AttendanceAction.do",param,function(_1c0e){var rdata=JSON.parse(_1c0e);Attendance.Report.dateFieldInit(rdata.currDate,rdata.report.userDate);Attendance.Report.consXMLdata(rdata.report);});},dateFieldInit:function(rdata,_1c11){var _1c12=$a("dr_dateId");$a("tab1_dateNav").innerHTML=_1c11;if(_1c12.value==""){var sDate=$a("tab2_sDate");var eDate=$a("tab2_eDate");sDate.value=rdata.preMonthDate;eDate.value=rdata.todayDate;Attendance.Report.calDatepicker("dr_dateId",rdata.cformat);Attendance.Report.calDatepicker("tab2_sDate",rdata.cformat);Attendance.Report.calDatepicker("tab2_eDate",rdata.cformat);}_1c12.value=_1c11;},getCustomReport:function(){var param={"mode":"attReport","conreqcsr":csrfToken};var _1c16=$a("tab2_showLocid");if(_1c16&&_1c16.val!=""&&_1c16.val!=0){param.locationId=_1c16.val;}var _1c17=$a("tab2_showDepid");if(_1c17&&_1c17.val!=""&&_1c17.val!=0){param.departmentId=_1c17.val;}var sDate=$a("tab2_sDate");var eDate=$a("tab2_eDate");if(sDate&&sDate!=""){param.sdate=sDate.value;}if(eDate&&eDate!=""){param.edate=eDate.value;}var empId=$a("tab2_showEmpid");if(empId&&empId.uVal!=""){param.eNo=empId.uVal;}$.post("/people/AttendanceAction.do",param,function(_1c1b){rdata=JSON.parse(_1c1b);Attendance.Report.showMonthly(rdata.report);});},showMonthly:function(_1c1c){var _1c1d=$a("tab2_customReportBody");_1c1d.innerHTML="";for(var e in _1c1c){var _1c1f=_1c1c[e];var tr0=$1("tr",null,"zpweklist");tr0.id=_1c1f.eno+"report";tr0.edata=_1c1f;tr0.appendChild($1("td",null,"",_1c1f.empId));tr0.appendChild($1("td",null,"zpwektitle",_1c1f.fname+" "+_1c1f.lname));tr0.appendChild($1("td",null,"",_1c1f.tdays));tr0.appendChild($1("td",null,"",_1c1f.present_count+""));tr0.appendChild($1("td",null,"",_1c1f.leave_count+""));tr0.appendChild($1("td",null,"",_1c1f.holiday_count+""));tr0.appendChild($1("td",null,"zpwektotal",_1c1f.tHrs));_1c1d.appendChild(tr0);}},emplistObj:{},getEmpList:function(event,obj){var spc=/\|\s*(.*)$/;var _1c24=obj.value.trim();if(event.keyCode==13){obj.blur();}else{if(_1c24==""||event.keyCode==27){$(obj).next()[0].style.display="none";_1c24="";return;}else{if(event.keyCode==37||event.keyCode==38||event.keyCode==39||event.keyCode==40){return;}else{if(_1c24&&_1c24.match(spc)){return;}else{if(this.emplistObj[_1c24]){Attendance.Report.showEmpList(this.emplistObj[_1c24],$(obj).next()[0]);}else{var param={"mode":"getEmpListByKey","skey":_1c24,"conreqcsr":csrfToken};$.post("/people/AttendanceAction.do",param,function(_1c26){Attendance.Report.emplistObj[_1c24]=_1c26;Attendance.Report.showEmpList(_1c26,$(obj).next()[0]);});}}}}}},showEmpList:function(_1c27,obj){var rdata=JSON.parse(_1c27);var _1c2a=obj;_1c2a.style.display="";_1c2a.innerHTML="";var list=$1("ul");var li0=$1("li",null,null,Attendance.i18n.allEmployees);li0.ename=Attendance.i18n.allEmployees;li0.onclick=Attendance.Report.onDropDownClick;for(var i in rdata.empList){var emp=rdata.empList[i];var dName=emp.fName+" "+emp.lName;if(emp.eId!=null){dName=emp.eId+" "+dName;}li0=$1("li",null,null,dName);li0.ename=dName;li0.eid=emp.eNo;li0.onmousedown=Attendance.Report.onDropDownClick;list.appendChild(li0);}_1c2a.appendChild(list);},getDepLocList:function(){var param={"mode":"getDepLocList","conreqcsr":csrfToken};$.post("/people/AttendanceAction.do",param,function(_1c31){var rdata=JSON.parse(_1c31);Attendance.Report.depdata=rdata.depList;Attendance.Report.locdata=rdata.locList;});},showDepList:function(id){var _1c34=$a(id);var _1c35=Attendance.Report.depdata;_1c34.style.display="";if(_1c34.childNodes[0]){return;}var list=$1("ul");var li0=$1("li",null,null,Attendance.i18n.allDepartments);li0.dname=Attendance.i18n.allDepartments;li0.did=0;li0.onclick=Attendance.Report.onDropDownClick;list.appendChild(li0);for(var i in _1c35){li0=$1("li",null,null,_1c35[i]);li0.dname=_1c35[i];li0.did=i;li0.onclick=Attendance.Report.onDropDownClick;list.appendChild(li0);}_1c34.appendChild(list);},onDropDownClick:function(){if(this.dname){var depId=this.parentNode.parentNode.parentNode.getElementsByTagName("div")[0];depId.innerHTML=this.dname;depId.val=this.did;}else{if(this.lname){var locId=this.parentNode.parentNode.parentNode.getElementsByTagName("div")[0];locId.innerHTML=this.lname;locId.val=this.lid;}else{if(this.eid){var empId=$(this.parentNode.parentNode).prev()[0];empId.value=this.ename;empId.dvalue=this.ename;empId.uVal=this.eid;if(empId.id=="showEmpid"){if(this.eid==Attendance.Entry.userErecno){Attendance.Entry.erecNo=null;if(Attendance.Entry.checkInOut=="in"){$("#butt_punchIn")[0].className="zpgrn fl mr20";$("#butt_punchIn").next()[0].className="zpgry fl";}else{$("#butt_punchIn")[0].className="zpgry fl mr20";$("#butt_punchIn").next()[0].className="zpgrn fl";}}else{Attendance.Entry.erecNo=this.eid;}Attendance.Entry.getList();}}}}},showLocList:function(id){var _1c3d=$a(id);var _1c3e=Attendance.Report.locdata;_1c3d.style.display="";if(_1c3d.childNodes[0]){return;}var list=$1("ul");var li0=$1("li",null,null,Attendance.i18n.allLocation);li0.lname=Attendance.i18n.allLocation;li0.lid=0;li0.onclick=Attendance.Report.onDropDownClick;list.appendChild(li0);for(var i in _1c3e){li0=$1("li",null,null,_1c3e[i]);li0.lname=_1c3e[i];li0.lid=i;li0.onclick=Attendance.Report.onDropDownClick;list.appendChild(li0);}_1c3d.appendChild(list);},calDatepicker:function(_1c42,_1c43){if(_1c43==""||!_1c43){_1c43="%Y-%m-%d";}Calendar.setup({inputField:_1c42,ifFormat:_1c43,showsTime:false,button:_1c42,flatCallback:function(){}});},reset:function(node){if(node&&node=="all"){var locId=$a("tab2_showLocid");locId.innerHTML=Attendance.i18n.allLocation;locId.val=0;var depId=$a("tab2_showDepid");depId.innerHTML=Attendance.i18n.allDepartments;depId.val=0;var empId=$a("tab2_showEmpid");empId.dvalue=Attendance.i18n.allEmployees;empId.value=Attendance.i18n.allEmployees;empId.uVal="";}}};Attendance.Settings={init:function(){this.getConfInfo();Attendance.Report.calDatepicker("validRecordDateId",uidateFormat);$("#addIpButton").children()[0].onclick=this.ip.showAddIp;$("#addShiftButton").children()[0].onclick=this.Shift.showAddShift;$("#fromIpRange")[0].onblur=this.ip.onBlurIpValidation;$("#toIpRange")[0].onblur=this.ip.onBlurIpValidation;$("#fromIpRange")[0].onfocus=this.ip.onFocusValidation;$("#toIpRange")[0].onfocus=this.ip.onFocusValidation;$("#addIpPopup")[0].onclick=function(event){stopEvents(event);};$("#addShiftPopup")[0].onclick=function(event){stopEvents(event);};},showTab:function(obj,id){if(id=="genSettingsId"){$a("ipSettingsId").style.display="none";$a("shiftSettingsId").style.display="none";$a("addShiftButton").style.display="none";$a("addIpButton").style.display="none";$a("genSettingsId").style.display="";$a("genSettingsSaveId").style.display="";}else{if(id=="ipSettingsId"){$a("genSettingsId").style.display="none";$a("shiftSettingsId").style.display="none";$a("addShiftButton").style.display="none";$a("genSettingsSaveId").style.display="none";$a("ipSettingsId").style.display="";$a("addIpButton").style.display="";this.ip.showIpList();}else{$a("genSettingsId").style.display="none";$a("ipSettingsId").style.display="none";$a("genSettingsSaveId").style.display="none";$a("addIpButton").style.display="none";$a("shiftSettingsId").style.display="";$a("addShiftButton").style.display="";this.Shift.showShiftList();}}var list=$(obj).parent().children();for(var i in list){list[i].className="";}obj.className="seltab";},onCheckboxChange:function(obj){var _1c4f=$(".zc-dropdown",$(obj).parent().next());if(obj.checked){_1c4f[0].disabled=false;_1c4f[1].disabled=false;if(_1c4f[0].oldval){_1c4f[0].value=_1c4f[0].oldval;_1c4f[1].value=_1c4f[1].oldval;_1c4f[0].oldval=null;_1c4f[1].oldval=null;}}else{_1c4f[0].disabled=true;_1c4f[1].disabled=true;_1c4f[0].oldval=_1c4f[0].val;_1c4f[1].oldval=_1c4f[1].val;_1c4f[0].value="00";_1c4f[1].value="00";}},getConfInfo:function(){var param={"mode":"getAttConfInfo","conreqcsr":csrfToken};$.post("/people/AttendanceSettingsAction.do",param,function(_1c51){var rdata=JSON.parse(_1c51);$("#validRecordDateId")[0].value=rdata.confInfo.Att_validRecordFrom;$("#validRecordDateId")[0].val=rdata.confInfo.Att_validRecordFrom;$("#fullPersent")[0].value=rdata.confInfo.Att_fullday;$("#halfPersent")[0].value=rdata.confInfo.Att_halfday;$("#selIntervels")[0].aint=rdata.confInfo.Att_Intervels;$("#webCheckIn")[0].aint=rdata.confInfo.Att_AllowUIEntry;if(rdata.confInfo.Att_Intervels==0){$("input:[name=selIntervels]")[0].checked=true;}else{$("input:[name=selIntervels]")[1].checked=true;}if(rdata.confInfo.Att_AllowUIEntry==0){$("input:[name=webCheckIn]")[0].checked=true;}else{$("input:[name=webCheckIn]")[1].checked=true;}$("#shiftList")[0].shiftList=rdata.shiftlist;Attendance.Settings.conShiftDD();Attendance.Settings.consMinMaxHrMinList(rdata.confInfo);});},conShiftDD:function(){var slist=$("#shiftList")[0];if(slist.childNodes.length!=0){slist.innerHTML="";}var op0;for(var i in slist.shiftList){var data=slist.shiftList[i];op0=$1("option",null,null,data.sname+" [ "+Attendance.disTime(data.fTime)+" - "+Attendance.disTime(data.tTime)+" ]");op0.sid=data.shiftId;slist.appendChild(op0);if(data.select=="1"){slist.selectedIndex=i;slist.userSelect=i;}}},consMinMaxHrMinList:function(info){var _1c58=$(".zc-dropdown","#fullPersent");var _1c59=$(".zc-dropdown","#halfPersent");var op0="";for(var hrs=0;hrs<=12;hrs++){op0+="<option>"+Attendance.disTwoDigit(hrs)+"";}_1c58[0].innerHTML=op0;_1c59[0].innerHTML=op0;op0="";for(var mins=0;mins<60;mins++){op0+="<option>"+Attendance.disTwoDigit(mins)+"";}_1c58[1].innerHTML=op0;_1c59[1].innerHTML=op0;_1c58[0].value=Attendance.disTwoDigit(parseInt(info.Att_fullday/60));_1c59[0].value=Attendance.disTwoDigit(parseInt(info.Att_halfday/60));_1c58[1].value=Attendance.disTwoDigit(parseInt(info.Att_fullday%60));_1c59[1].value=Attendance.disTwoDigit(parseInt(info.Att_halfday%60));_1c58[0].val=Attendance.disTwoDigit(parseInt(info.Att_fullday/60));_1c59[0].val=Attendance.disTwoDigit(parseInt(info.Att_halfday/60));_1c58[1].val=Attendance.disTwoDigit(parseInt(info.Att_fullday%60));_1c59[1].val=Attendance.disTwoDigit(parseInt(info.Att_halfday%60));if(info.Att_fullday==0){$("#fullPersent").prev()[0].childNodes[0].checked=false;_1c58[0].disabled=true;_1c58[1].disabled=true;}else{$("#fullPersent").prev()[0].childNodes[0].checked=true;}if(info.Att_halfday==0){$("#halfPersent").prev()[0].childNodes[0].checked=false;_1c59[0].disabled=true;_1c59[1].disabled=true;}else{$("#halfPersent").prev()[0].childNodes[0].checked=true;}},onCancel:function(){this.init();},onSave:function(){var param={"mode":"setAttConfInfo","conreqcsr":csrfToken};var _1c5e=$(".zc-dropdown","#fullPersent");var _1c5f=$(".zc-dropdown","#halfPersent");if(_1c5e[0].val!=_1c5e[0].value||_1c5e[1].val!=_1c5e[1].value){param.fullPersent=_1c5e[0].value*60+parseInt(_1c5e[1].value,10);}if(_1c5f[0].val!=_1c5f[0].value||_1c5f[1].val!=_1c5f[1].value){param.halfPersent=_1c5f[0].value*60+parseInt(_1c5f[1].value,10);}if($("#selIntervels")[0].aint==0&&!$("input:[name=selIntervels]")[0].checked){param.selIntervels="1";}else{if($("#selIntervels")[0].aint==1&&$("input:[name=selIntervels]")[0].checked){param.selIntervels="0";}}if($("#webCheckIn")[0].aint==0&&!$("input:[name=webCheckIn]")[0].checked){param.webCheckIn="1";}else{if($("#webCheckIn")[0].aint==1&&$("input:[name=webCheckIn]")[0].checked){param.webCheckIn="0";}}var _1c60=$("#validRecordDateId")[0];if(_1c60.value.trim()!=_1c60.val.trim()){param.validDate=_1c60.value;}var slist=$("#shiftList")[0];if(slist.selectedIndex!=slist.userSelect){param.selShiftId=slist.childNodes[slist.selectedIndex].sid;}if(Attendance.getsize(param)==2){return;}$.post("/people/AttendanceSettingsAction.do",param,function(_1c62){Attendance.Settings.getConfInfo();$a("slist").innerHTML="";});}};Attendance.Settings.ip={idata:null,getIplist:function(){var param={"mode":"getIpRange","conreqcsr":csrfToken};$.post("/people/AttendanceSettingsAction.do",param,function(_1c64){Attendance.Settings.ip.idata=JSON.parse(_1c64).allips;Attendance.Settings.ip.showIpList();});},deleteIp:function(obj){var _1c66=obj.parentNode.parentNode.ipfrom;var toIp=obj.parentNode.parentNode.ipto;$(obj.parentNode.parentNode).fadeOut("slow",function(){$(obj.parentNode.parentNode).remove();});var param={"mode":"deleteIpRange","conreqcsr":csrfToken};param.fromIpRange=_1c66;if(toIp){param.toIpRange=toIp;}$.post("/people/AttendanceSettingsAction.do",param,function(_1c69){Attendance.Settings.ip.idata=JSON.parse(_1c69).allips;});},showIpList:function(){if(!this.idata){this.getIplist();return;}var tbody=$("#iplist")[0];tbody.innerHTML="";var thd="<td width=\"43%\">"+i18n.attsettings.fromipaddress+"</td><td width=\"43%\">"+i18n.attsettings.toipaddress+"</td><td width=\"100\" style=\"text-align:left;\">"+i18n.attsettings.action+"</td>";var th=$1("tr",null,"zpwekhead",thd);th.style.height="28px";tbody.appendChild(th);var _1c6d=function(from,to){var thd="<td>"+from+"</td><td>"+to+"</td><td><div onclick=\"Attendance.Settings.ip.deleteIp(this)\" class=\"delNew fl ml30\"></div></td>";var tr0=$1("tr",null,"zpweklist",thd);tr0.ipfrom=from;if(from!=to){tr0.ipto=to;}return tr0;};for(var i in this.idata){var _1c73=this.idata[i];if(_1c73.to){tbody.appendChild(_1c6d(_1c73.from,_1c73.to));}else{tbody.appendChild(_1c6d(_1c73.from,_1c73.from));}}},onIpCancel:function(){$("#addIpPopup").css("display","none");},onFocusValidation:function(){$(this).next()[0].innerHTML="";},onBlurIpValidation:function(){var ipval=this.value.trim();if(ipval==""){return;}if(ipval.split(".").length!=4){$(this).next()[0].innerHTML=i18n.attsettings.invalidiprange;return;}for(var i in ipval.split(".")){var val=ipval.split(".")[i].trim();if(isNaN(val)){$(this).next()[0].innerHTML=i18n.attsettings.invalidiprange;return;}else{if(parseInt(val)>=256){$(this).next()[0].innerHTML=i18n.attsettings.invalidiprange;return;}}}},validateIp:function(){var _1c77=$("#fromIpRange").val().trim();var toIp=$("#toIpRange").val().trim();if(_1c77==""){$("#fromIpRange").next()[0].innerHTML=i18n.attsettings.ipcantempty;return 0;}if(_1c77.split(".").length!=4){$("#fromIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}if(toIp!=""&&toIp.split(".").length!=4){$("#toIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}var _1c79=0;var _1c7a=0;for(var i in _1c77.split(".")){var val=_1c77.split(".")[i].trim();if(isNaN(val)){$("#fromIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}else{if(parseInt(val)>=256){$("#fromIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}else{_1c79+=Math.pow(256,(4-i))*parseInt(val);}}}if(toIp!=""){for(i in toIp.split(".")){val=toIp.split(".")[i];if(isNaN(val)){$("#toIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}else{if(parseInt(val)>=256){$("#toIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}else{_1c7a+=Math.pow(256,(4-i))*parseInt(val);}}}if(_1c79>_1c7a){$("#toIpRange").next()[0].innerHTML=i18n.attsettings.invalidiprange;return 0;}}return 1;},onIpSave:function(){if(!this.validateIp()){return;}$("#addIpPopup").css("display","none");var _1c7d=$("#fromIpRange").val().trim();var toIp=$("#toIpRange").val().trim();var param={"mode":"addIpRange","conreqcsr":csrfToken};param.fromIpRange=_1c7d;if(_1c7d!=toIp&&toIp!=""){param.toIpRange=toIp;}$.post("/people/AttendanceSettingsAction.do",param,function(_1c80){Attendance.Settings.ip.idata=JSON.parse(_1c80).allips;Attendance.Settings.ip.showIpList();});},showAddIp:function(event){stopEvents(event);$("#fromIpRange").next()[0].innerHTML="";$("#toIpRange").next()[0].innerHTML="";$("#addIpPopup").css("display","");}};Attendance.Settings.Shift={showShiftList:function(){if($("#slist").children().length==0){this.conShiftList();}},conShiftList:function(){var slist=$("#shiftList")[0].shiftList;var tbody=$("#slist")[0];tbody.innerHTML="";var _1c84=function(data){if(data.select==1){var thd="<td>"+data.sname+"</td><td>"+Attendance.disTimeList(data.fTime)+"</td><td>"+Attendance.disTimeList(data.tTime)+"</td><td></td>";}else{thd="<td>"+data.sname+"</td><td>"+Attendance.disTimeList(data.fTime)+"</td><td>"+Attendance.disTimeList(data.tTime)+"</td><td><div onclick=\"Attendance.Settings.Shift.deleteShift(this)\" class=\"delNew fl ml30\"></div></td>";}var tr0=$1("tr",null,"zpweklist",thd);tr0.sid=data.shiftId;return tr0;};for(var i in slist){var _1c89=slist[i];tbody.appendChild(_1c84(_1c89));}},deleteShift:function(obj){var param={"mode":"deleteShift","conreqcsr":csrfToken,"shiftId":obj.parentNode.parentNode.sid};$.post("/people/AttendanceSettingsAction.do",param,function(_1c8c){$("#shiftList")[0].shiftList=JSON.parse(_1c8c).shiftlist;Attendance.Settings.conShiftDD();$(obj.parentNode.parentNode).fadeOut("slow",function(){$(obj.parentNode.parentNode).remove();});});},showAddShift:function(event){stopEvents(event);$("#addShiftPopup").css("display","");Attendance.Settings.Shift.constPopup();},constPopup:function(){var sfrom=$("#spFromId").children();var sTo=$("#spToId").children();var op0="";for(var hrs=1;hrs<=12;hrs++){op0+="<option>"+Attendance.disTwoDigit(hrs)+"";}sfrom[0].innerHTML=op0;sTo[0].innerHTML=op0;op0="";for(var mins=0;mins<60;mins++){op0+="<option>"+Attendance.disTwoDigit(mins)+"";}sfrom[1].innerHTML=op0;sTo[1].innerHTML=op0;op0="<option>"+i18n.am.toLocaleUpperCase()+"</option><option>"+i18n.pm.toLocaleUpperCase()+"</option>";sfrom[2].innerHTML=op0;sTo[2].innerHTML=op0;sfrom[0].value=Attendance.disTwoDigit(9);sTo[0].value=Attendance.disTwoDigit(6);sfrom[2].value=i18n.am.toLocaleUpperCase().trim();sTo[2].value=i18n.pm.toLocaleUpperCase().trim();},addShiftCancel:function(){$("#addShiftPopup").css("display","none");},addShift:function(){var sname=$("#spNameId").val().trim();var _1c94=$("#spFromId").children();var _1c95=$("#spToId").children();var _1c96=parseInt(_1c94[0].value,10)*60+parseInt(_1c94[1].value,10);if(_1c94[2].value==i18n.pm.toLocaleUpperCase().trim()){_1c96+=12*60;}var _1c97=parseInt(_1c95[0].value,10)*60+parseInt(_1c95[1].value,10);if(_1c95[2].value==i18n.pm.toLocaleUpperCase().trim()){_1c97+=12*60;}var param={"mode":"addShift","conreqcsr":csrfToken};if(sname!=""){param.sname=sname;}param.ftime=_1c96;param.ttime=_1c97;$.post("/people/AttendanceSettingsAction.do",param,function(_1c99){$("#shiftList")[0].shiftList=JSON.parse(_1c99).shiftlist;Attendance.Settings.conShiftDD();Attendance.Settings.Shift.conShiftList();});this.addShiftCancel();}};function showAddLeaveData(_1c9a,_1c9b,_1c9c){var _1c9d=$("#zp_leaveType").find("div.qaddDiv");var _1c9e=""+csrfParamName+"="+csrfToken;if(_1c9a!=undefined&&_1c9a!=""){_1c9e="recPkID="+_1c9a+"&"+csrfParamName+"="+csrfToken;}var url="/people/ConfigureLeaveType.do";$.post(url,_1c9e,function(data){$(_1c9d).html("");$(_1c9d).html(data);$(_1c9d)[0].style.display="table";if(_1c9b=="role_location_lt"){$("#assignEmp_Div").hide(),$("#roleloc_Div").show();$("#role_loc_assign").attr("checked","true");$("#employee_assign").removeAttr("checked");}else{if(_1c9b=="employee_lt"||_1c9c=="true"){$("#assignEmp_Div").show(),$("#roleloc_Div").hide();$("#employee_assign").attr("checked","true");$("#role_loc_assign").removeAttr("checked");}}if(_1c9a!=undefined&&_1c9a!=""){if($("#consider_Dobj").is(":checked")==true){$("#businesscalPeriod").show();}if($("#rollOver").is(":checked")==true){$("#rollOver_Leave").show();$("#maxi_cnt").show();}if($("#businessPeriodDays").is(":checked")==true){$("#calendar_period").val("0");}if($("#calendarPeriodDays").is(":checked")==true){$("#business_period").val("0");}if($("#isAccruals").is(":checked")==true){$("#accuralFields").show();}}});}getcolorClass=function(obj){var _1ca2=$(obj).attr("class");if($("#zp_leaveType").find("#selClass").find("div").hasClass("sel")==true){$("#zp_leaveType").find("#selClass").find("div").removeClass("sel");}$(obj).find("div").addClass("sel");};function convertToHexa(rgb){rgb=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return "#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2);}updateLeaveType=function(_1ca4){roleAndLoc=$("#role_loc_assign").is(":checked");var _1ca5;var _1ca6=$("#zp_leaveType_colors").find("div.sel");_1ca5=convertToHexa(_1ca6.parent().css("background-color"));var liCnt=$("#assignEmp").find("li").size();var _1ca8=[];for(i=0;i<liCnt;i++){var _1ca9=$($("#assignEmp").find("li")[i]).attr("id");_1ca8.push(_1ca9);}var _1caa=$("#LeaveType").val();var _1cab=$("#Remarks").val();var _1cac=$("#FromDate").val();var _1cad=$("#EndDate").val();var _1cae=$("#role").val();var _1caf=$("#location").val();var _1cb0=$("#Max_leave").val();var _1cb1=$("#ini_leave").val();var _1cb2=false;var _1cb3=false;var _1cb4=false;var _1cb5=false;var _1cb6=false;var _1cb7=false;var _1cb8=$("#notice_Period").val();var _1cb9=$("#rollOver_Leave").val();var _1cba=$("#accrual_Period").val();var _1cbb=$("input:radio[name ='LeaveUnits']:checked").val();var _1cbc=$("input:radio[name ='AccruedBeforeorAfter']:checked").val();var _1cbd=$("input:radio[name ='MaritalStatus']:checked").val();var _1cbe=$("input:radio[name ='Gender']:checked").val();var _1cbf=_1cbf;var _1cc0="";if($("#rollOver").is(":checked")==true){_1cc0=true;}else{_1cc0=false;}var _1cc1=$("input:radio[name ='leaveperiod']:checked").val();var _1cc2;if($("#businessPeriodDays").is(":checked")==true){_1cc2=$("#business_period").val();}if($("#calendarPeriodDays").is(":checked")==true){_1cc2=$("#calendar_period").val();}if($("#allow_count").is(":checked")==true){_1cb4=true;}if($("#isHalfday").is(":checked")==true){_1cb5=true;}if($("#considerWeek").is(":checked")==true){_1cb6=true;}if($("#considerHoli").is(":checked")==true){_1cb7=true;}if($("#consider_Dobj").is(":checked")==true){_1cb2=true;}if($("#isAccruals").is(":checked")==true){_1cb3=true;}var _1cc3=_1cb2;var _1cc4=_1cb3;if(_1caa==undefined){_1caa="";}if(_1cbe==undefined){_1cbe="";}if(_1cab==undefined){_1cab="";}if(_1ca5==undefined){_1ca5="";}if($("#businessPeriodDays").is(":checked")==true&&$("#business_period").val()!="0"){$("#calendar_period").val("0");}if($("#calendarPeriodDays").is(":checked")==true&&$("#calendar_period").val()!="0"){$("#business_period").val("0");}if(_1ca4=="null"||_1ca4==undefined){var _1cc5="Leavetype="+_1caa+"&Remarks="+_1cab+"&EffectiveFromDate="+_1cac+"&ExpiryDate="+_1cad+"&Rolename="+_1cae+"&Locationname="+_1caf+"&Gender="+_1cbe+"&MaritalStatus="+_1cbd+"&Maximumleave="+_1cb0+"&Initialvalue="+_1cb1+"&considerdoj="+_1cc3+"&IsAllowExceedCount="+_1cb4+"&IsHalfDayEnabled="+_1cb5+"&minimumNoticePeriod="+_1cb8+"&MaximumAccumulation="+_1cb9+"&RollOver="+_1cc0+"&AccruedBeforeorAfter="+_1cbc+"&LeaveUnits="+_1cbb+"&Isaccrual="+_1cc4+"&AccrualPeriodType="+_1cba+"&WaitingPeriod="+_1cc2+"&LeavePeriod="+_1cc1+"&LeaveTypeColor="+_1ca5+"&AssignedEmp="+_1ca8+"&IsConsiderHoliday="+_1cb7+"&IsConsiderweek="+_1cb6;}else{var _1cc5="Leavetype="+_1caa+"&LeaveTypeID="+_1ca4+"&Remarks="+_1cab+"&EffectiveFromDate="+_1cac+"&ExpiryDate="+_1cad+"&Rolename="+_1cae+"&Locationname="+_1caf+"&Gender="+_1cbe+"&MaritalStatus="+_1cbd+"&Maximumleave="+_1cb0+"&Initialvalue="+_1cb1+"&considerdoj="+_1cc3+"&IsAllowExceedCount="+_1cb4+"&IsHalfDayEnabled="+_1cb5+"&minimumNoticePeriod="+_1cb8+"&MaximumAccumulation="+_1cb9+"&RollOver="+_1cc0+"&AccruedBeforeorAfter="+_1cbc+"&LeaveUnits="+_1cbb+"&Isaccrual="+_1cc4+"&AccrualPeriodType="+_1cba+"&WaitingPeriod="+_1cc2+"&LeavePeriod="+_1cc1+"&LeaveTypeColor="+_1ca5+"&AssignedEmp="+_1ca8+"&IsConsiderHoliday="+_1cb7+"&IsConsiderweek="+_1cb6;}$.post("/people/updateLeaveTypes.do",_1cc5,function(_1cc6){if(_1cc6.indexOf("Error")!=-1){alert(i18n["invalidentries"]);return false;}var _1cc7=$.parseJSON(_1cc6);for(var prop in _1cc7){var _1cc9=_1cc7[prop];$.each(_1cc9,function(key,value){if(document.getElementById(key+"_err")!=null){document.getElementById(key+"_err").style.display="";document.getElementById(key+"_err").innerHTML=value;}});}if(eval(_1cc6).length>"0"){return false;}else{var _1ccc=$("input[name=leaveTypeMethodVal]").val();if(_1ccc=="SaveNew"){var _1ccd="role_location_lt";if(roleAndLoc!=undefined&&!roleAndLoc){_1ccd="employee_lt";}showAddLeaveData("",_1ccd);}else{Layout.loadpage("admin/leave/manageleavetype",roleAndLoc);}}});};cancelLeaveType=function(){roleAndLoc=$("#role_loc_assign").attr("checked");Layout.loadpage("admin/leave/manageleavetype",roleAndLoc);};calDatePickerFn=function(){ZCForm.setUpCalendar($("#FromDate")[0],$("#FromDate")[0],uiCalendarDateFormat,false);ZCForm.setUpCalendar($("#EndDate")[0],$("#EndDate")[0],uiCalendarDateFormat,false);};getallLeaveTypes=function(){var _1cce=$("#select_role").val();var locId=$("#location").val();var _1cd0="isAjax="+"true"+"&"+"roleId="+_1cce+"&"+"locationId="+locId;$.post("/people/getManageLeaveType.do",_1cd0,function(_1cd1){$("#replaceData_Div").html(_1cd1);});};function changeTab(Obj,type){if($(Obj).attr("class").indexOf("tabsel")==1){return;}var _1cd4=$("#"+Layout.containerid);var _1cd5=$(Obj).attr("id");_1cd4.find("#add_new_leave_type").attr("showtype",_1cd5);if(type=="employee"){getEmployeeBasedLeaveType();_1cd4.find("#role_location_filter").hide();}else{if(type=="role_location"){getallLeaveTypes();_1cd4.find("#role_location_filter").show();}}$(Obj).siblings("span").removeClass("tabsel");$(Obj).addClass("tabsel");}assignLeaveType=function(obj){var _1cd7=[];var _1cd8=[];_1cd8.push(obj.value);_1cd7.push($(obj).parent().text());};updateEmpinDiv=function(_1cd9,_1cda){var liCnt=0;var liele=$("#checkfiled").find("input:checked");liCnt=liele.size();$("#assignEmp").find("li").remove();for(i=0;i<=liCnt;i++){if($(liele[i]).is(":checked")==true&&$(liele[i]).val()){var li=document.createElement("li");li.id=$(liele[i]).val();li.innerHTML=$(liele[i]).parent().text()+"<div class=\"zprdel fr\" onclick=\"$(this).parent().remove();changeToUnCheck(this)\"></div>";$("#assignEmp").append(li);}}$("#addEmpDiv").hide();};changeLeaveTypeStatus=function(obj){var _1cdf=obj.id;var _1ce0;var _1ce1=$(obj).attr("class");if(_1ce1.indexOf("zpcomplete")==0){_1ce0=false;obj.className="zppend ml30";}else{_1ce0=true;obj.className="zpcomplete ml30";}var _1ce2="mode="+"changeStatus"+"&"+"LeaveTypeID="+_1cdf;$.post("/people/updateLeaveTypes.do",_1ce2,function(_1ce3){if(_1ce3.indexOf("Error")!=-1){}});};getempList=function(){var _1ce4=$("#getempList").html();var _1ce5=JSON.parse(_1ce4);$("#checkfiled").find("li").remove();for(j=0;j<_1ce5.length;j++){var li=document.createElement("li");var _1ce7=_1ce5[j].jsonempName;var empId=_1ce5[j].jsonempId;li.id=_1ce5[j].jsonempId;li.innerHTML="<input value=\""+empId+"\"  type=\"checkbox\" />&nbsp;&nbsp;&nbsp"+_1ce7+"<div class=\"zprdel fr\" onclick=\"$(this).parent().remove();\"></div>";$("#checkfiled").append(li);}};function constructEmpEmailForSearch(_1ce9){var _1cea=$("#"+Layout.containerid);_1cea.find("#checkfiled").find("li").each(function(){var _1ceb=$(this).find("span#assign_emp_name").html().toLowerCase();if(_1ceb.indexOf(_1ce9.toLowerCase())==0){$(this).show();}else{$(this).hide();}});}function checkAssignEmployees(){var _1cec=$("#"+Layout.containerid);var _1ced=_1cec.find("#assignEmp_Div").find("ul#assignEmp");_1ced.find("li").each(function(){_1cec.find("#checkfiled").find("li").find("input[value='"+$(this).attr("id")+"']").attr("checked",true);});}document.onkeydown=function(event){if(event.keyCode=="27"){$("#addEmpDiv").hide();}};searchBox=function(event){if($(event).val().trim()=="Search"&&$(event).val().trim()!=""){$(event).val("");$(event).focus();}};String.prototype.startsWith=function(str){return (this.match("^"+str)==str);};function loadNoRecordFoundDiv(_1cf1,_1cf2){if(_1cf1=="manageLeaveType"){if($("#"+Layout.containerid).find("#noNextPage").length<1){var _1cf3="<div id='noNextPage' class='loading' style='position:relative; top:10px;'><p>";if(_1cf2=="true"){_1cf3+=i18n.nomoreempleavetype;}else{_1cf3+=i18n.nomoreleavetype;}_1cf3+="</p></div>";$("#replaceData_Div").parent().append(_1cf3);}}}function removeNoRecordFoundDiv(){var _1cf4=$("#"+Layout.containerid).find("#noNextPage");if(_1cf4.length>=1){_1cf4.remove();}}checkassignEmp=function(){var liele=$("#checkfiled").find("li");liCnt=liele.size();var _1cf6=$("#assignEmp").find("li").size();var _1cf7;for(i=0;i<=liCnt;i++){_1cf7=i;for(j=0;j<_1cf6;j++){if($($("#assignEmp").find("li")[j]).text().trim()==$($("#checkfiled").find("li")[i]).text().trim()){$("#checkfiled").find("input")[i].checked=true;}}}};function getEmployeeBasedLeaveType(){var _1cf8="/people/getManageLeaveType.do";var _1cf9="isAjax=true&isEmpBasedLeaveType=true";url=_1cf8+_1cf9;$.post(_1cf8,_1cf9,function(_1cfa){$("#replaceData_Div").html(_1cfa);});}function convertToHexa(rgb){rgb=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return "#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2);}window.addEventListener("click",function(){if($("#"+Layout.containerid).find("#showEmailList")){$("#"+Layout.containerid).find("#showEmailList").css("display","none");}},false);function constructEmpEmailForSearchInleaveReportPage(_1cfc){var _1cfd=$("#"+Layout.containerid).find("#emplistforautosearch").html();var _1cfe=JSON.parse(_1cfd);var _1cff="<ul>";for(i=0;i<_1cfe.length;i++){var _1d00=$(_1cfc).val().toLowerCase();var _1d01=_1cfe[i].empName;if(_1d00!=null&&_1d00.trim()!=""){if(_1d01.toLowerCase().indexOf(_1d00)==0){_1cff+="<li emperecno = '"+_1cfe[i].empId+"' onClick = 'setValue(this);'>"+_1d01+"</li>";}}else{$("#"+Layout.containerid).find("#showEmailList").css("display","none");}}_1cff+="</ul>";$("#"+Layout.containerid).find("#showEmailList").html(_1cff);if($("#"+Layout.containerid).find("#showEmailList").css("display")=="block"){return;}else{$("#"+Layout.containerid).find("#showEmailList").css("display","block");}}function setValue(liObj){var _1d03=$(liObj).html();var _1d04=$(liObj).attr("emperecno")+"";var _1d05=$("#"+Layout.containerid).find("#empsearch");_1d05.val(_1d03);_1d05.attr("emperecno",_1d04);}function fetchEmployeeLeaveReport(){var _1d06=$("#"+Layout.containerid);var _1d07=_1d06.find("#empsearch").attr("emperecno");var _1d08=_1d06.find("#leaveUnit").val();var _1d09=_1d06.find("#fromDateCal").val();var _1d0a=_1d06.find("#toDateCal").val();if(_1d07!=null&&_1d07!=undefined&&_1d07.trim()!=""){var _1d0b="actionType=search&empRecNo="+_1d07+"&fromDate="+_1d09+"&toDate="+_1d0a+"&leaveUnit="+_1d08;$.post("/people/getLeaveReport.do",_1d0b,function(_1d0c){$("#"+Layout.containerid).html(_1d0c);});}}function setHalfDayLeave(_1d0d){var _1d0e=$(_1d0d).is(":checked");if(_1d0e){$(_1d0d).parent("td").siblings("td#barDiv").find(".pbar-inner").animate({width:"50%"},1000);}else{$(_1d0d).parent("td").siblings("td#barDiv").find(".pbar-inner").animate({width:"100%"},1000);}}function getDaysBetweenFromAndTo(){var _1d0f=$("#"+Layout.containerid);var _1d10=_1d0f.find("input[name=From]").val();var _1d11=_1d0f.find("input[name=To]").val();var _1d12=_1d0f.find("select[name=Employee_ID]").val();var _1d13=_1d0f.find("select[name=Leavetype]").val();var _1d14=$("#"+Layout.containerid).find("option[value='"+_1d13+"']").attr("leavetypeunit");if(_1d14=="Days"){if(_1d10!=undefined&&_1d10!=null&&_1d10.trim()!=""&&_1d11!=undefined&&_1d11!=null&&_1d11.trim()!=""){if(_1d13==undefined||_1d13==null||_1d13.trim()=="-Select-"||_1d13.trim()==""){alert(i18n["leavechooseerror"]);}else{var _1d15="fromDate="+_1d10+"&toDate="+_1d11+"&empRecNo="+_1d12+"&leaveTypeId="+_1d13;$.post("/people/getDaysBetweenFromAndToDate.do",_1d15,function(_1d16){var _1d17=JSON.parse(_1d16);listCnt=_1d17.length;var _1d18="<table width='100%' cellspacing='0' cellpadding='0' border='0'>";for(i=0;i<listCnt;i++){_1d18+="<tr class='zpweklist'>";var _1d19=_1d17[i].isHalfDayAllowed;if(_1d17[i].isHoliday==true){if(i==listCnt-1){_1d18+="<td width=30%' style='border-bottom: none;' >"+_1d17[i].leaveDay+" - "+_1d17[i].leaveDate+"</td><td id = 'barDiv' style='border-bottom: none;'><div class='pbar pbar-grn'><div style='width:100%' class='pbar-inner'></div></div> </td><td width='25%' style='border-bottom: none;'>&nbsp;</td>";}else{_1d18+="<td width=30%' >"+_1d17[i].leaveDay+" - "+_1d17[i].leaveDate+"</td><td id = 'barDiv'><div class='pbar pbar-grn'><div style='width:100%' class='pbar-inner'></div></div> </td><td width='25%'>&nbsp;</td>";}}else{if(i==listCnt-1){_1d18+="<td width=30%' style='border-bottom: none;' >"+_1d17[i].leaveDay+" - "+_1d17[i].leaveDate+"</td><td id = 'barDiv' style='border-bottom: none;'><div class='pbar pbar-org'><div style='width:100%;background-color:"+_1d17[i].leaveTypeColor+";' class='pbar-inner'></div></div> </td>";if(_1d19){_1d18+="<td width='25%' style='border-bottom: none;'><input type='checkbox' name='leaveDay"+(i+1)+"' onClick = 'javascript:setHalfDayLeave(this);'/> &nbsp; Half Day</td></tr>";}}else{_1d18+="<td width=30%' >"+_1d17[i].leaveDay+" - "+_1d17[i].leaveDate+"</td><td id = 'barDiv'><div class='pbar pbar-org'><div style='width:100%;background-color:"+_1d17[i].leaveTypeColor+";' class='pbar-inner'></div></div> </td>";if(_1d19){_1d18+="<td width='25%'><input type='checkbox' name='leaveDay"+(i+1)+"' onClick = 'javascript:setHalfDayLeave(this);'/> &nbsp; Half Day</td></tr>";}else{_1d18+="<td width='25%'>&nbsp;</td>";}}}}_1d18+="</table>";$("#"+Layout.containerid).find("#chooseLeaveDays").html(_1d18);$("#"+Layout.containerid).find("#chooseLeaveDays").show();});}}}}function cancelAppliedLeave(obj,pkId,_1d1c){var _1d1d="recordID="+pkId+"&"+csrfParamName+"="+csrfToken;var _1d1e="Do you really want to cancel this leave?";if(!confirm(_1d1e)){return;}$.post("/people/cancelLeave.do",_1d1d,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data.indexOf("Error")!=-1){alert(data.split(":")[1]);}else{$(obj).remove();if(_1d1c=="true"){$("#"+Layout.containerid).find("#approvalsMainDiv").html(i18n.leaveCanceled);}}}});}function deleteLeaveRec(_1d20,_1d21,_1d22,_1d23,mode,_1d25){var _1d26="formID="+_1d20+"&viewLinkName="+_1d22+"&deletegroup="+_1d21+"&"+csrfParamName+"="+csrfToken;var _1d27="Do you really want to delete this record?";if(!confirm(_1d27)){return;}$.post("/people/deleterecordaction.do",_1d26,function(data){if(data.trim()=="WRITE_OPERATION_NOT_ALLOWED"){alert(i18n.romode);}else{if(data!="null"){if(data.indexOf("error")!=-1){var jsObj=JSON.parse(data);var _1d2a=jsObj[0].error;showerrmsgForView(_1d2a);}else{roleLocBased=true;if(_1d25=="true"){roleLocBased=false;}Layout.loadpage("admin/leave/manageleavetype",roleLocBased);}}}});}function getHoursAndDayBasedLeaveChart(Obj,type){var _1d2d=$("#"+Layout.containerid);var _1d2e=_1d2d.find("#daybasedReport");var _1d2f=_1d2d.find("#leavereport_apply_hours_row");var _1d30=_1d2d.find("#leavereport_apply_days_row");var _1d31=_1d2d.find("#leave_balance_hour_report");var _1d32=_1d2d.find("#leave_balance_day_report");var _1d33=_1d2d.find("#history_rollover_hour_leavetype");var _1d34=_1d2d.find("#history_rollover_day_leavetype");if(_1d2e.css("display").trim()=="none"&&type=="day"){$(Obj).addClass("tabsel");$(Obj).parent().find("#hour_report").removeClass("tabsel");var _1d35=$(Obj).attr("dayschart");if(_1d35=="false"){_1d2d.find("#showNoDayLeaveReportErrorDiv").show();_1d2d.find("#showNoHourLeaveReportErrorDiv").hide();}else{_1d2d.find("#showNoDayLeaveReportErrorDiv").hide();_1d2d.find("#showNoHourLeaveReportErrorDiv").hide();}_1d2d.find("#leaveUnit").val("Days");_1d2e.css("display","block");_1d2d.find("#hourbasedReport").css("display","none");_1d2f.css("display","none");_1d30.css("display","");_1d31.css("display","none");_1d32.css("display","");_1d33.css("display","none");if(_1d34.length!=0){_1d2d.find("#history_rollover_table").css("display","block");}else{_1d2d.find("#history_rollover_table").css("display","none");}if(_1d30.length==0){_1d2d.find("#report_days_leaveapplications").css("display","none");}else{_1d2d.find("#report_days_leaveapplications").css("display","");}if(_1d32.length==0){_1d2d.find("#leave_type_days_taken").css("display","none");}else{_1d2d.find("#leave_type_days_taken").css("display","");}_1d34.css("display","");_1d2d.find("#num_of_days_or_hours").html(i18n.reportBasedOn.replace("----","Days"));_1d2d.find("#Days_or_Hours_taken").html(i18n.reportTaken.replace("----","Days"));_1d2d.find("#leave_unit_based").html(i18n.leaveUnitBased.replace("----","Days"));_1d2d.find("#leave_rollover_count").html(i18n.leaverollOverCnt.replace("----","Days"));_1d2d.find("#leave_rollover_enchshed").html(i18n.leaveRollOverEcd.replace("----","Days"));return;}else{if(_1d2e.css("display").trim()=="block"&&type=="hour"){$(Obj).addClass("tabsel");$(Obj).parent().find("#day_report").removeClass("tabsel");var _1d36=$(Obj).attr("hourchart");if(_1d36=="false"){_1d2d.find("#showNoHourLeaveReportErrorDiv").show();_1d2d.find("#showNoDayLeaveReportErrorDiv").hide();}else{_1d2d.find("#showNoHourLeaveReportErrorDiv").hide();_1d2d.find("#showNoDayLeaveReportErrorDiv").hide();}_1d2d.find("#leaveUnit").val("Hours");_1d2e.css("display","none");_1d2d.find("#hourbasedReport").css("display","block");_1d30.css("display","none");if(_1d2f.length==0){_1d2d.find("#report_days_leaveapplications").css("display","none");}else{_1d2d.find("#report_days_leaveapplications").css("display","");}if(_1d31.length==0){_1d2d.find("#leave_type_days_taken").css("display","none");}else{_1d2d.find("#leave_type_days_taken").css("display","");}if(_1d33.length==0){_1d2d.find("#history_rollover_table").css("display","none");}else{_1d2d.find("#history_rollover_table").css("display","block");}_1d31.css("display","");_1d32.css("display","none");_1d33.css("display","");_1d34.css("display","none");_1d2f.css("display","");_1d2d.find("#num_of_days_or_hours").html(i18n.reportBasedOn.replace("----","Hours"));_1d2d.find("#Days_or_Hours_taken").html(i18n.reportTaken.replace("----","Hours"));_1d2d.find("#leave_unit_based").html(i18n.leaveUnitBased.replace("----","Hours"));_1d2d.find("#leave_rollover_count").html(i18n.leaverollOverCnt.replace("----","Hours"));_1d2d.find("#leave_rollover_encashed").html(i18n.leaveRollOverEcd.replace("----","Hours"));return;}}}function changeLeaveChatTab(obj,type){$(obj).parent().children().removeClass("seltab");$(obj).addClass("seltab");getReport(type);}function getReport(type){var url="";var _1d3b="";if(type=="day_report"){url="/people/getdayleavereport.do";}else{if(type=="leave_report"){url="/people/getLeaveReport.do";_1d3b="actionType=currEmp";}}if(url!=""){$.post(url,_1d3b,function(data){$("#"+Layout.containerid).html(data);});}}function showListgridViews(Obj,_1d3e){var _1d3f="ListView";var _1d40=$("#"+Layout.containerid);if(_1d3e=="list_view"){if($(Obj).attr("class").indexOf("zplview")==-1){return;}$(Obj).addClass("zpslview").removeClass("zplview");$(Obj).siblings(".zpsgview").removeClass("zpsgview").addClass("zpgview");$(Obj).parent().parent().find("#view_name").html("List View");}else{if(_1d3e=="cal_view"){if($(Obj).attr("class").indexOf("zpgview")==-1){return;}$(Obj).addClass("zpsgview").removeClass("zpgview");$(Obj).siblings(".zpslview").removeClass("zpslview").addClass("zplview");$(Obj).parent().parent().find("#view_name").html("Calendar View");_1d3f="LeaveGridView";}}var _1d41=_1d40.find("#emp_erec_hid").val();_1d40.find("#search_view_page").val(_1d3e);if(_1d3f=="LeaveGridView"){_1d40.find("#filter_from_to_date").hide();NewCalendar.leaveErecNo=_1d41;NewCalendar.initCalendar(curyear,curmonth,"leave","zp_leave_Add_Form","populateleave");}else{if(_1d3f=="ListView"){_1d40.find("#filter_from_to_date").show();getLeaveGridListViews(_1d3f,"",_1d41);}}}function getLeaveGridListViews(view,_1d43,_1d44){var _1d45="actionType="+view+"&isAjaxAction=true&empErecNo="+_1d44;if(_1d43=="full_load"){var _1d45="actionType="+view;}var url="/people/getLeaveDetails.do";if(view=="LeaveGridView"){url="/people/leaveCalendarView.do";_1d45="isAjax=true";}$.post(url,_1d45,function(data){if(_1d43=="full_load"){$("#"+Layout.containerid).html(data);}else{$("#"+Layout.containerid).find("#zp_leave_Add_Form").html(data);}});}function getEmployeeLeaveForListView(){var _1d48=$("#"+Layout.containerid);var _1d49=_1d48.find("#empsearch").attr("emperecno");_1d48.find("#emp_erec_hid").val(_1d49);NewCalendar.leaveErecNo=_1d49;var _1d4a=_1d48.find("#search_view_page").val();var _1d4b=_1d48.find("#leave_list_from_date").val();var _1d4c=_1d48.find("#leave_list_to_date").val();validFromDate=NewCalendar.isvalidDate(_1d4b);validToDate=NewCalendar.isvalidDate(_1d4c);if(_1d4b.trim()!=""&&!validFromDate){alert(i18n.error_from_date);return;}else{if(validToDate&&!validFromDate){alert(i18n.error_from_date);return;}}if(_1d4c.trim()!=""&&!validToDate){alert(i18n.error_to_date);return;}else{if(validFromDate&&!validToDate){alert(i18n.error_to_date);return;}}if(_1d4a=="list_view"){if(_1d49!=undefined&&_1d49!=null&&_1d49.trim()!=""){var _1d4d="empErecNo="+_1d49+"&fromDate="+_1d4b+"&toDate="+_1d4c+"&actionType=searchView&isAjaxAction=true";$.post("/people/getLeaveDetails.do",_1d4d,function(data){_1d48.find("#zp_leave_Add_Form").html(data);});}else{alert(i18n.chooseempforsearch);}}else{if(_1d4a=="cal_view"){if(_1d49!=undefined&&_1d49!=null&&_1d49.trim()!=""){NewCalendar.clearOldvalues();populateleave();}else{alert(i18n.chooseempforsearch);}}}}function fillDateInFromAndToDateFields(Obj){var _1d50=$("#"+Layout.containerid);_1d50.find("#leaveFromToField").find("input[name=From]").val($(Obj).val());_1d50.find("#leaveFromToField").find("input[name=To]").val($(Obj).val());}function resetApplicableDetails(Obj){var id=$(Obj).attr("id");if(id=="role_loc_assign"){$("#assignEmp_Div").find("ul#assignEmp").html("");}else{if(id=="employee_assign"){$("#roleloc_Div").find("select").val("-1");$("#roleloc_Div").find("input[value='-1']").attr("checked","true");}}}function getLocationBasedholidays(){var _1d53=$("#"+Layout.containerid);var _1d54=_1d53.find("#location_holiday").val();var _1d55=_1d53.find("#location_holiday_year").val();var url="/people/getholidaydetails.do";var _1d57="isDashBoard=true&isAjax=true&locationId="+_1d54+"&holidayYear="+_1d55;$.post(url,_1d57,function(data){_1d53.find("#holidays_list_view").html(data);});}function showAllEmpList(){var _1d59=$("#"+Layout.containerid);_1d59.find("#searchfld").val("Search");_1d59.find("#checkfiled").find("li").show();}function changeToUnCheck(Obj){var empId=$(Obj).parent("li").attr("id");$("#"+Layout.containerid).find("#checkfiled").find("li").find("input[value='"+empId+"']").attr("checked",false);}function showFieldMappingPage(_1d5c,_1d5d,_1d5e,_1d5f){var _1d60=$("#"+Layout.containerid);_1d60.find("#import_fields_mapping").find("input[name='module']").val(_1d5e);_1d60.find("#import_fields_mapping").find("input[name='impDataTable']").val(_1d5c);_1d60.find("#import_fields_mapping").find("input[name='header']").val(_1d5d);_1d60.find("#import_fields_mapping").find("input[name='filetype']").val(_1d5f);_1d60.find("#import_fields_mapping").find("input[name='datasrc']").val(_1d5f);var _1d61=JSON.parse(_1d5d);var _1d62="<option value='None'>-Select-</option>";for(i=0;i<_1d61.length;i++){_1d62+="<option value='"+i+"'>"+_1d61[i]+"(c:"+i+")</option>";}_1d60.find("select[refid='import_employeeId'], select[refid='import_leavetype'], select[refid='import_from'], select[refid='import_to'], select[refid='import_teammailid'], select[refid='import_reason']").html(_1d62);_1d60.find("#import_fields_mapping").show();_1d60.find("#import_file").hide();}function showImportPage(){var _1d63=$("#"+Layout.containerid);_1d63.find("#import_fields_mapping").hide();_1d63.find("#import_file").find("input[type='file']").val("");_1d63.find("#import_file").show();}function showImportStatus(_1d64,_1d65,_1d66,_1d67,_1d68){var _1d69=$("#"+Layout.containerid);var _1d6a=_1d69.find("#import_fields_result");_1d6a.find("#record_added").html(_1d64);_1d6a.find("#record_updated").html(_1d65);_1d6a.find("#record_skipped").html(_1d66);_1d6a.find("#record_errors").html(_1d67);if(_1d67=="0"){_1d6a.find("#outer_error_count").hide();}_1d69.find("#import_errors_list").find("#list_errors").html(_1d68);_1d6a.show();_1d69.find("#import_fields_mapping").hide();}function showErrorsResult(type){var _1d6c=$("#"+Layout.containerid);if(type=="show_error"){_1d6c.find("#import_errors_list").show();_1d6c.find("#import_fields_result").hide();}else{if(type=="show_result"){_1d6c.find("#import_errors_list").hide();_1d6c.find("#import_fields_result").show();}}}